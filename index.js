/*!
 * MIT License
 *
 * Copyright (c) 2023 SiYuan 思源笔记
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */(()=>{var ps={452:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(269),st(214),st(888),st(109))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.BlockCipher,d=F.algo,rt=[],wt=[],I=[],O=[],et=[],_=[],X=[],R=[],U=[],Q=[];(function(){for(var M=[],q=0;q<256;q++)q<128?M[q]=q<<1:M[q]=q<<1^283;for(var mt=0,ft=0,q=0;q<256;q++){var At=ft^ft<<1^ft<<2^ft<<3^ft<<4;At=At>>>8^At&255^99,rt[mt]=At,wt[At]=mt;var yt=M[mt],c=M[yt],Ft=M[c],Dt=M[At]*257^At*16843008;I[mt]=Dt<<24|Dt>>>8,O[mt]=Dt<<16|Dt>>>16,et[mt]=Dt<<8|Dt>>>24,_[mt]=Dt;var Dt=Ft*16843009^c*65537^yt*257^mt*16843008;X[At]=Dt<<24|Dt>>>8,R[At]=Dt<<16|Dt>>>16,U[At]=Dt<<8|Dt>>>24,Q[At]=Dt,mt?(mt=yt^M[M[M[Ft^yt]]],ft^=M[M[ft]]):mt=ft=1}})();var tt=[0,1,2,4,8,16,32,64,128,27,54],ct=d.AES=lt.extend({_doReset:function(){var M;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var q=this._keyPriorReset=this._key,mt=q.words,ft=q.sigBytes/4,At=this._nRounds=ft+6,yt=(At+1)*4,c=this._keySchedule=[],Ft=0;Ft<yt;Ft++)Ft<ft?c[Ft]=mt[Ft]:(M=c[Ft-1],Ft%ft?ft>6&&Ft%ft==4&&(M=rt[M>>>24]<<24|rt[M>>>16&255]<<16|rt[M>>>8&255]<<8|rt[M&255]):(M=M<<8|M>>>24,M=rt[M>>>24]<<24|rt[M>>>16&255]<<16|rt[M>>>8&255]<<8|rt[M&255],M^=tt[Ft/ft|0]<<24),c[Ft]=c[Ft-ft]^M);for(var Dt=this._invKeySchedule=[],Ht=0;Ht<yt;Ht++){var Ft=yt-Ht;if(Ht%4)var M=c[Ft];else var M=c[Ft-4];Ht<4||Ft<=4?Dt[Ht]=M:Dt[Ht]=X[rt[M>>>24]]^R[rt[M>>>16&255]]^U[rt[M>>>8&255]]^Q[rt[M&255]]}}},encryptBlock:function(M,q){this._doCryptBlock(M,q,this._keySchedule,I,O,et,_,rt)},decryptBlock:function(M,q){var mt=M[q+1];M[q+1]=M[q+3],M[q+3]=mt,this._doCryptBlock(M,q,this._invKeySchedule,X,R,U,Q,wt);var mt=M[q+1];M[q+1]=M[q+3],M[q+3]=mt},_doCryptBlock:function(M,q,mt,ft,At,yt,c,Ft){for(var Dt=this._nRounds,Ht=M[q]^mt[0],kt=M[q+1]^mt[1],It=M[q+2]^mt[2],St=M[q+3]^mt[3],r=4,h=1;h<Dt;h++){var v=ft[Ht>>>24]^At[kt>>>16&255]^yt[It>>>8&255]^c[St&255]^mt[r++],E=ft[kt>>>24]^At[It>>>16&255]^yt[St>>>8&255]^c[Ht&255]^mt[r++],G=ft[It>>>24]^At[St>>>16&255]^yt[Ht>>>8&255]^c[kt&255]^mt[r++],J=ft[St>>>24]^At[Ht>>>16&255]^yt[kt>>>8&255]^c[It&255]^mt[r++];Ht=v,kt=E,It=G,St=J}var v=(Ft[Ht>>>24]<<24|Ft[kt>>>16&255]<<16|Ft[It>>>8&255]<<8|Ft[St&255])^mt[r++],E=(Ft[kt>>>24]<<24|Ft[It>>>16&255]<<16|Ft[St>>>8&255]<<8|Ft[Ht&255])^mt[r++],G=(Ft[It>>>24]<<24|Ft[St>>>16&255]<<16|Ft[Ht>>>8&255]<<8|Ft[kt&255])^mt[r++],J=(Ft[St>>>24]<<24|Ft[Ht>>>16&255]<<16|Ft[kt>>>8&255]<<8|Ft[It&255])^mt[r++];M[q]=v,M[q+1]=E,M[q+2]=G,M[q+3]=J},keySize:256/32});F.AES=lt._createHelper(ct)}(),at.AES})},109:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(888))})(this,function(at){at.lib.Cipher||function(F){var ot=at,lt=ot.lib,d=lt.Base,rt=lt.WordArray,wt=lt.BufferedBlockAlgorithm,I=ot.enc,O=I.Utf8,et=I.Base64,_=ot.algo,X=_.EvpKDF,R=lt.Cipher=wt.extend({cfg:d.extend(),createEncryptor:function(kt,It){return this.create(this._ENC_XFORM_MODE,kt,It)},createDecryptor:function(kt,It){return this.create(this._DEC_XFORM_MODE,kt,It)},init:function(kt,It,St){this.cfg=this.cfg.extend(St),this._xformMode=kt,this._key=It,this.reset()},reset:function(){wt.reset.call(this),this._doReset()},process:function(kt){return this._append(kt),this._process()},finalize:function(kt){kt&&this._append(kt);var It=this._doFinalize();return It},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function kt(It){return typeof It=="string"?Ht:c}return function(It){return{encrypt:function(St,r,h){return kt(r).encrypt(It,St,r,h)},decrypt:function(St,r,h){return kt(r).decrypt(It,St,r,h)}}}}()}),U=lt.StreamCipher=R.extend({_doFinalize:function(){var kt=this._process(!0);return kt},blockSize:1}),Q=ot.mode={},tt=lt.BlockCipherMode=d.extend({createEncryptor:function(kt,It){return this.Encryptor.create(kt,It)},createDecryptor:function(kt,It){return this.Decryptor.create(kt,It)},init:function(kt,It){this._cipher=kt,this._iv=It}}),ct=Q.CBC=function(){var kt=tt.extend();kt.Encryptor=kt.extend({processBlock:function(St,r){var h=this._cipher,v=h.blockSize;It.call(this,St,r,v),h.encryptBlock(St,r),this._prevBlock=St.slice(r,r+v)}}),kt.Decryptor=kt.extend({processBlock:function(St,r){var h=this._cipher,v=h.blockSize,E=St.slice(r,r+v);h.decryptBlock(St,r),It.call(this,St,r,v),this._prevBlock=E}});function It(St,r,h){var v,E=this._iv;E?(v=E,this._iv=F):v=this._prevBlock;for(var G=0;G<h;G++)St[r+G]^=v[G]}return kt}(),M=ot.pad={},q=M.Pkcs7={pad:function(kt,It){for(var St=It*4,r=St-kt.sigBytes%St,h=r<<24|r<<16|r<<8|r,v=[],E=0;E<r;E+=4)v.push(h);var G=rt.create(v,r);kt.concat(G)},unpad:function(kt){var It=kt.words[kt.sigBytes-1>>>2]&255;kt.sigBytes-=It}},mt=lt.BlockCipher=R.extend({cfg:R.cfg.extend({mode:ct,padding:q}),reset:function(){var kt;R.reset.call(this);var It=this.cfg,St=It.iv,r=It.mode;this._xformMode==this._ENC_XFORM_MODE?kt=r.createEncryptor:(kt=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==kt?this._mode.init(this,St&&St.words):(this._mode=kt.call(r,this,St&&St.words),this._mode.__creator=kt)},_doProcessBlock:function(kt,It){this._mode.processBlock(kt,It)},_doFinalize:function(){var kt,It=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(It.pad(this._data,this.blockSize),kt=this._process(!0)):(kt=this._process(!0),It.unpad(kt)),kt},blockSize:128/32}),ft=lt.CipherParams=d.extend({init:function(kt){this.mixIn(kt)},toString:function(kt){return(kt||this.formatter).stringify(this)}}),At=ot.format={},yt=At.OpenSSL={stringify:function(kt){var It,St=kt.ciphertext,r=kt.salt;return r?It=rt.create([1398893684,1701076831]).concat(r).concat(St):It=St,It.toString(et)},parse:function(kt){var It,St=et.parse(kt),r=St.words;return r[0]==1398893684&&r[1]==1701076831&&(It=rt.create(r.slice(2,4)),r.splice(0,4),St.sigBytes-=16),ft.create({ciphertext:St,salt:It})}},c=lt.SerializableCipher=d.extend({cfg:d.extend({format:yt}),encrypt:function(kt,It,St,r){r=this.cfg.extend(r);var h=kt.createEncryptor(St,r),v=h.finalize(It),E=h.cfg;return ft.create({ciphertext:v,key:St,iv:E.iv,algorithm:kt,mode:E.mode,padding:E.padding,blockSize:kt.blockSize,formatter:r.format})},decrypt:function(kt,It,St,r){r=this.cfg.extend(r),It=this._parse(It,r.format);var h=kt.createDecryptor(St,r).finalize(It.ciphertext);return h},_parse:function(kt,It){return typeof kt=="string"?It.parse(kt,this):kt}}),Ft=ot.kdf={},Dt=Ft.OpenSSL={execute:function(kt,It,St,r){r||(r=rt.random(64/8));var h=X.create({keySize:It+St}).compute(kt,r),v=rt.create(h.words.slice(It),St*4);return h.sigBytes=It*4,ft.create({key:h,iv:v,salt:r})}},Ht=lt.PasswordBasedCipher=c.extend({cfg:c.cfg.extend({kdf:Dt}),encrypt:function(kt,It,St,r){r=this.cfg.extend(r);var h=r.kdf.execute(St,kt.keySize,kt.ivSize);r.iv=h.iv;var v=c.encrypt.call(this,kt,It,h.key,r);return v.mixIn(h),v},decrypt:function(kt,It,St,r){r=this.cfg.extend(r),It=this._parse(It,r.format);var h=r.kdf.execute(St,kt.keySize,kt.ivSize,It.salt);r.iv=h.iv;var v=c.decrypt.call(this,kt,It,h.key,r);return v}})}()})},249:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F()})(this,function(){var at=at||function(F,ot){var lt;if(typeof window<"u"&&window.crypto&&(lt=window.crypto),typeof self<"u"&&self.crypto&&(lt=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(lt=globalThis.crypto),!lt&&typeof window<"u"&&window.msCrypto&&(lt=window.msCrypto),!lt&&typeof st.g<"u"&&st.g.crypto&&(lt=st.g.crypto),!lt)try{lt=st(480)}catch{}var d=function(){if(lt){if(typeof lt.getRandomValues=="function")try{return lt.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof lt.randomBytes=="function")try{return lt.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},rt=Object.create||function(){function M(){}return function(q){var mt;return M.prototype=q,mt=new M,M.prototype=null,mt}}(),wt={},I=wt.lib={},O=I.Base=function(){return{extend:function(M){var q=rt(this);return M&&q.mixIn(M),(!q.hasOwnProperty("init")||this.init===q.init)&&(q.init=function(){q.$super.init.apply(this,arguments)}),q.init.prototype=q,q.$super=this,q},create:function(){var M=this.extend();return M.init.apply(M,arguments),M},init:function(){},mixIn:function(M){for(var q in M)M.hasOwnProperty(q)&&(this[q]=M[q]);M.hasOwnProperty("toString")&&(this.toString=M.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),et=I.WordArray=O.extend({init:function(M,q){M=this.words=M||[],q!=ot?this.sigBytes=q:this.sigBytes=M.length*4},toString:function(M){return(M||X).stringify(this)},concat:function(M){var q=this.words,mt=M.words,ft=this.sigBytes,At=M.sigBytes;if(this.clamp(),ft%4)for(var yt=0;yt<At;yt++){var c=mt[yt>>>2]>>>24-yt%4*8&255;q[ft+yt>>>2]|=c<<24-(ft+yt)%4*8}else for(var Ft=0;Ft<At;Ft+=4)q[ft+Ft>>>2]=mt[Ft>>>2];return this.sigBytes+=At,this},clamp:function(){var M=this.words,q=this.sigBytes;M[q>>>2]&=4294967295<<32-q%4*8,M.length=F.ceil(q/4)},clone:function(){var M=O.clone.call(this);return M.words=this.words.slice(0),M},random:function(M){for(var q=[],mt=0;mt<M;mt+=4)q.push(d());return new et.init(q,M)}}),_=wt.enc={},X=_.Hex={stringify:function(M){for(var q=M.words,mt=M.sigBytes,ft=[],At=0;At<mt;At++){var yt=q[At>>>2]>>>24-At%4*8&255;ft.push((yt>>>4).toString(16)),ft.push((yt&15).toString(16))}return ft.join("")},parse:function(M){for(var q=M.length,mt=[],ft=0;ft<q;ft+=2)mt[ft>>>3]|=parseInt(M.substr(ft,2),16)<<24-ft%8*4;return new et.init(mt,q/2)}},R=_.Latin1={stringify:function(M){for(var q=M.words,mt=M.sigBytes,ft=[],At=0;At<mt;At++){var yt=q[At>>>2]>>>24-At%4*8&255;ft.push(String.fromCharCode(yt))}return ft.join("")},parse:function(M){for(var q=M.length,mt=[],ft=0;ft<q;ft++)mt[ft>>>2]|=(M.charCodeAt(ft)&255)<<24-ft%4*8;return new et.init(mt,q)}},U=_.Utf8={stringify:function(M){try{return decodeURIComponent(escape(R.stringify(M)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(M){return R.parse(unescape(encodeURIComponent(M)))}},Q=I.BufferedBlockAlgorithm=O.extend({reset:function(){this._data=new et.init,this._nDataBytes=0},_append:function(M){typeof M=="string"&&(M=U.parse(M)),this._data.concat(M),this._nDataBytes+=M.sigBytes},_process:function(M){var q,mt=this._data,ft=mt.words,At=mt.sigBytes,yt=this.blockSize,c=yt*4,Ft=At/c;M?Ft=F.ceil(Ft):Ft=F.max((Ft|0)-this._minBufferSize,0);var Dt=Ft*yt,Ht=F.min(Dt*4,At);if(Dt){for(var kt=0;kt<Dt;kt+=yt)this._doProcessBlock(ft,kt);q=ft.splice(0,Dt),mt.sigBytes-=Ht}return new et.init(q,Ht)},clone:function(){var M=O.clone.call(this);return M._data=this._data.clone(),M},_minBufferSize:0}),tt=I.Hasher=Q.extend({cfg:O.extend(),init:function(M){this.cfg=this.cfg.extend(M),this.reset()},reset:function(){Q.reset.call(this),this._doReset()},update:function(M){return this._append(M),this._process(),this},finalize:function(M){M&&this._append(M);var q=this._doFinalize();return q},blockSize:512/32,_createHelper:function(M){return function(q,mt){return new M.init(mt).finalize(q)}},_createHmacHelper:function(M){return function(q,mt){return new ct.HMAC.init(M,mt).finalize(q)}}}),ct=wt.algo={};return wt}(Math);return at})},269:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.WordArray,d=F.enc,rt=d.Base64={stringify:function(I){var O=I.words,et=I.sigBytes,_=this._map;I.clamp();for(var X=[],R=0;R<et;R+=3)for(var U=O[R>>>2]>>>24-R%4*8&255,Q=O[R+1>>>2]>>>24-(R+1)%4*8&255,tt=O[R+2>>>2]>>>24-(R+2)%4*8&255,ct=U<<16|Q<<8|tt,M=0;M<4&&R+M*.75<et;M++)X.push(_.charAt(ct>>>6*(3-M)&63));var q=_.charAt(64);if(q)for(;X.length%4;)X.push(q);return X.join("")},parse:function(I){var O=I.length,et=this._map,_=this._reverseMap;if(!_){_=this._reverseMap=[];for(var X=0;X<et.length;X++)_[et.charCodeAt(X)]=X}var R=et.charAt(64);if(R){var U=I.indexOf(R);U!==-1&&(O=U)}return wt(I,O,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function wt(I,O,et){for(var _=[],X=0,R=0;R<O;R++)if(R%4){var U=et[I.charCodeAt(R-1)]<<R%4*2,Q=et[I.charCodeAt(R)]>>>6-R%4*2,tt=U|Q;_[X>>>2]|=tt<<24-X%4*8,X++}return lt.create(_,X)}}(),at.enc.Base64})},786:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.WordArray,d=F.enc,rt=d.Base64url={stringify:function(I,O=!0){var et=I.words,_=I.sigBytes,X=O?this._safe_map:this._map;I.clamp();for(var R=[],U=0;U<_;U+=3)for(var Q=et[U>>>2]>>>24-U%4*8&255,tt=et[U+1>>>2]>>>24-(U+1)%4*8&255,ct=et[U+2>>>2]>>>24-(U+2)%4*8&255,M=Q<<16|tt<<8|ct,q=0;q<4&&U+q*.75<_;q++)R.push(X.charAt(M>>>6*(3-q)&63));var mt=X.charAt(64);if(mt)for(;R.length%4;)R.push(mt);return R.join("")},parse:function(I,O=!0){var et=I.length,_=O?this._safe_map:this._map,X=this._reverseMap;if(!X){X=this._reverseMap=[];for(var R=0;R<_.length;R++)X[_.charCodeAt(R)]=R}var U=_.charAt(64);if(U){var Q=I.indexOf(U);Q!==-1&&(et=Q)}return wt(I,et,X)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function wt(I,O,et){for(var _=[],X=0,R=0;R<O;R++)if(R%4){var U=et[I.charCodeAt(R-1)]<<R%4*2,Q=et[I.charCodeAt(R)]>>>6-R%4*2,tt=U|Q;_[X>>>2]|=tt<<24-X%4*8,X++}return lt.create(_,X)}}(),at.enc.Base64url})},298:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.WordArray,d=F.enc,rt=d.Utf16=d.Utf16BE={stringify:function(I){for(var O=I.words,et=I.sigBytes,_=[],X=0;X<et;X+=2){var R=O[X>>>2]>>>16-X%4*8&65535;_.push(String.fromCharCode(R))}return _.join("")},parse:function(I){for(var O=I.length,et=[],_=0;_<O;_++)et[_>>>1]|=I.charCodeAt(_)<<16-_%2*16;return lt.create(et,O*2)}};d.Utf16LE={stringify:function(I){for(var O=I.words,et=I.sigBytes,_=[],X=0;X<et;X+=2){var R=wt(O[X>>>2]>>>16-X%4*8&65535);_.push(String.fromCharCode(R))}return _.join("")},parse:function(I){for(var O=I.length,et=[],_=0;_<O;_++)et[_>>>1]|=wt(I.charCodeAt(_)<<16-_%2*16);return lt.create(et,O*2)}};function wt(I){return I<<8&4278255360|I>>>8&16711935}}(),at.enc.Utf16})},888:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(783),st(824))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.Base,d=ot.WordArray,rt=F.algo,wt=rt.MD5,I=rt.EvpKDF=lt.extend({cfg:lt.extend({keySize:128/32,hasher:wt,iterations:1}),init:function(O){this.cfg=this.cfg.extend(O)},compute:function(O,et){for(var _,X=this.cfg,R=X.hasher.create(),U=d.create(),Q=U.words,tt=X.keySize,ct=X.iterations;Q.length<tt;){_&&R.update(_),_=R.update(O).finalize(et),R.reset();for(var M=1;M<ct;M++)_=R.finalize(_),R.reset();U.concat(_)}return U.sigBytes=tt*4,U}});F.EvpKDF=function(O,et,_){return I.create(_).compute(O,et)}}(),at.EvpKDF})},209:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return function(F){var ot=at,lt=ot.lib,d=lt.CipherParams,rt=ot.enc,wt=rt.Hex,I=ot.format,O=I.Hex={stringify:function(et){return et.ciphertext.toString(wt)},parse:function(et){var _=wt.parse(et);return d.create({ciphertext:_})}}}(),at.format.Hex})},824:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){(function(){var F=at,ot=F.lib,lt=ot.Base,d=F.enc,rt=d.Utf8,wt=F.algo,I=wt.HMAC=lt.extend({init:function(O,et){O=this._hasher=new O.init,typeof et=="string"&&(et=rt.parse(et));var _=O.blockSize,X=_*4;et.sigBytes>X&&(et=O.finalize(et)),et.clamp();for(var R=this._oKey=et.clone(),U=this._iKey=et.clone(),Q=R.words,tt=U.words,ct=0;ct<_;ct++)Q[ct]^=1549556828,tt[ct]^=909522486;R.sigBytes=U.sigBytes=X,this.reset()},reset:function(){var O=this._hasher;O.reset(),O.update(this._iKey)},update:function(O){return this._hasher.update(O),this},finalize:function(O){var et=this._hasher,_=et.finalize(O);et.reset();var X=et.finalize(this._oKey.clone().concat(_));return X}})})()})},354:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(938),st(433),st(298),st(269),st(786),st(214),st(783),st(153),st(792),st(34),st(460),st(327),st(706),st(824),st(112),st(888),st(109),st(568),st(242),st(968),st(660),st(148),st(615),st(807),st(77),st(475),st(991),st(209),st(452),st(253),st(857),st(454),st(974))})(this,function(at){return at})},433:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){return function(){if(typeof ArrayBuffer=="function"){var F=at,ot=F.lib,lt=ot.WordArray,d=lt.init,rt=lt.init=function(wt){if(wt instanceof ArrayBuffer&&(wt=new Uint8Array(wt)),(wt instanceof Int8Array||typeof Uint8ClampedArray<"u"&&wt instanceof Uint8ClampedArray||wt instanceof Int16Array||wt instanceof Uint16Array||wt instanceof Int32Array||wt instanceof Uint32Array||wt instanceof Float32Array||wt instanceof Float64Array)&&(wt=new Uint8Array(wt.buffer,wt.byteOffset,wt.byteLength)),wt instanceof Uint8Array){for(var I=wt.byteLength,O=[],et=0;et<I;et++)O[et>>>2]|=wt[et]<<24-et%4*8;d.call(this,O,I)}else d.apply(this,arguments)};rt.prototype=lt}}(),at.lib.WordArray})},214:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){return function(F){var ot=at,lt=ot.lib,d=lt.WordArray,rt=lt.Hasher,wt=ot.algo,I=[];(function(){for(var U=0;U<64;U++)I[U]=F.abs(F.sin(U+1))*4294967296|0})();var O=wt.MD5=rt.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(U,Q){for(var tt=0;tt<16;tt++){var ct=Q+tt,M=U[ct];U[ct]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var q=this._hash.words,mt=U[Q+0],ft=U[Q+1],At=U[Q+2],yt=U[Q+3],c=U[Q+4],Ft=U[Q+5],Dt=U[Q+6],Ht=U[Q+7],kt=U[Q+8],It=U[Q+9],St=U[Q+10],r=U[Q+11],h=U[Q+12],v=U[Q+13],E=U[Q+14],G=U[Q+15],J=q[0],ut=q[1],dt=q[2],gt=q[3];J=et(J,ut,dt,gt,mt,7,I[0]),gt=et(gt,J,ut,dt,ft,12,I[1]),dt=et(dt,gt,J,ut,At,17,I[2]),ut=et(ut,dt,gt,J,yt,22,I[3]),J=et(J,ut,dt,gt,c,7,I[4]),gt=et(gt,J,ut,dt,Ft,12,I[5]),dt=et(dt,gt,J,ut,Dt,17,I[6]),ut=et(ut,dt,gt,J,Ht,22,I[7]),J=et(J,ut,dt,gt,kt,7,I[8]),gt=et(gt,J,ut,dt,It,12,I[9]),dt=et(dt,gt,J,ut,St,17,I[10]),ut=et(ut,dt,gt,J,r,22,I[11]),J=et(J,ut,dt,gt,h,7,I[12]),gt=et(gt,J,ut,dt,v,12,I[13]),dt=et(dt,gt,J,ut,E,17,I[14]),ut=et(ut,dt,gt,J,G,22,I[15]),J=_(J,ut,dt,gt,ft,5,I[16]),gt=_(gt,J,ut,dt,Dt,9,I[17]),dt=_(dt,gt,J,ut,r,14,I[18]),ut=_(ut,dt,gt,J,mt,20,I[19]),J=_(J,ut,dt,gt,Ft,5,I[20]),gt=_(gt,J,ut,dt,St,9,I[21]),dt=_(dt,gt,J,ut,G,14,I[22]),ut=_(ut,dt,gt,J,c,20,I[23]),J=_(J,ut,dt,gt,It,5,I[24]),gt=_(gt,J,ut,dt,E,9,I[25]),dt=_(dt,gt,J,ut,yt,14,I[26]),ut=_(ut,dt,gt,J,kt,20,I[27]),J=_(J,ut,dt,gt,v,5,I[28]),gt=_(gt,J,ut,dt,At,9,I[29]),dt=_(dt,gt,J,ut,Ht,14,I[30]),ut=_(ut,dt,gt,J,h,20,I[31]),J=X(J,ut,dt,gt,Ft,4,I[32]),gt=X(gt,J,ut,dt,kt,11,I[33]),dt=X(dt,gt,J,ut,r,16,I[34]),ut=X(ut,dt,gt,J,E,23,I[35]),J=X(J,ut,dt,gt,ft,4,I[36]),gt=X(gt,J,ut,dt,c,11,I[37]),dt=X(dt,gt,J,ut,Ht,16,I[38]),ut=X(ut,dt,gt,J,St,23,I[39]),J=X(J,ut,dt,gt,v,4,I[40]),gt=X(gt,J,ut,dt,mt,11,I[41]),dt=X(dt,gt,J,ut,yt,16,I[42]),ut=X(ut,dt,gt,J,Dt,23,I[43]),J=X(J,ut,dt,gt,It,4,I[44]),gt=X(gt,J,ut,dt,h,11,I[45]),dt=X(dt,gt,J,ut,G,16,I[46]),ut=X(ut,dt,gt,J,At,23,I[47]),J=R(J,ut,dt,gt,mt,6,I[48]),gt=R(gt,J,ut,dt,Ht,10,I[49]),dt=R(dt,gt,J,ut,E,15,I[50]),ut=R(ut,dt,gt,J,Ft,21,I[51]),J=R(J,ut,dt,gt,h,6,I[52]),gt=R(gt,J,ut,dt,yt,10,I[53]),dt=R(dt,gt,J,ut,St,15,I[54]),ut=R(ut,dt,gt,J,ft,21,I[55]),J=R(J,ut,dt,gt,kt,6,I[56]),gt=R(gt,J,ut,dt,G,10,I[57]),dt=R(dt,gt,J,ut,Dt,15,I[58]),ut=R(ut,dt,gt,J,v,21,I[59]),J=R(J,ut,dt,gt,c,6,I[60]),gt=R(gt,J,ut,dt,r,10,I[61]),dt=R(dt,gt,J,ut,At,15,I[62]),ut=R(ut,dt,gt,J,It,21,I[63]),q[0]=q[0]+J|0,q[1]=q[1]+ut|0,q[2]=q[2]+dt|0,q[3]=q[3]+gt|0},_doFinalize:function(){var U=this._data,Q=U.words,tt=this._nDataBytes*8,ct=U.sigBytes*8;Q[ct>>>5]|=128<<24-ct%32;var M=F.floor(tt/4294967296),q=tt;Q[(ct+64>>>9<<4)+15]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,Q[(ct+64>>>9<<4)+14]=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,U.sigBytes=(Q.length+1)*4,this._process();for(var mt=this._hash,ft=mt.words,At=0;At<4;At++){var yt=ft[At];ft[At]=(yt<<8|yt>>>24)&16711935|(yt<<24|yt>>>8)&4278255360}return mt},clone:function(){var U=rt.clone.call(this);return U._hash=this._hash.clone(),U}});function et(U,Q,tt,ct,M,q,mt){var ft=U+(Q&tt|~Q&ct)+M+mt;return(ft<<q|ft>>>32-q)+Q}function _(U,Q,tt,ct,M,q,mt){var ft=U+(Q&ct|tt&~ct)+M+mt;return(ft<<q|ft>>>32-q)+Q}function X(U,Q,tt,ct,M,q,mt){var ft=U+(Q^tt^ct)+M+mt;return(ft<<q|ft>>>32-q)+Q}function R(U,Q,tt,ct,M,q,mt){var ft=U+(tt^(Q|~ct))+M+mt;return(ft<<q|ft>>>32-q)+Q}ot.MD5=rt._createHelper(O),ot.HmacMD5=rt._createHmacHelper(O)}(Math),at.MD5})},568:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return at.mode.CFB=function(){var F=at.lib.BlockCipherMode.extend();F.Encryptor=F.extend({processBlock:function(lt,d){var rt=this._cipher,wt=rt.blockSize;ot.call(this,lt,d,wt,rt),this._prevBlock=lt.slice(d,d+wt)}}),F.Decryptor=F.extend({processBlock:function(lt,d){var rt=this._cipher,wt=rt.blockSize,I=lt.slice(d,d+wt);ot.call(this,lt,d,wt,rt),this._prevBlock=I}});function ot(lt,d,rt,wt){var I,O=this._iv;O?(I=O.slice(0),this._iv=void 0):I=this._prevBlock,wt.encryptBlock(I,0);for(var et=0;et<rt;et++)lt[d+et]^=I[et]}return F}(),at.mode.CFB})},968:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return at.mode.CTRGladman=function(){var F=at.lib.BlockCipherMode.extend();function ot(rt){if((rt>>24&255)===255){var wt=rt>>16&255,I=rt>>8&255,O=rt&255;wt===255?(wt=0,I===255?(I=0,O===255?O=0:++O):++I):++wt,rt=0,rt+=wt<<16,rt+=I<<8,rt+=O}else rt+=16777216;return rt}function lt(rt){return(rt[0]=ot(rt[0]))===0&&(rt[1]=ot(rt[1])),rt}var d=F.Encryptor=F.extend({processBlock:function(rt,wt){var I=this._cipher,O=I.blockSize,et=this._iv,_=this._counter;et&&(_=this._counter=et.slice(0),this._iv=void 0),lt(_);var X=_.slice(0);I.encryptBlock(X,0);for(var R=0;R<O;R++)rt[wt+R]^=X[R]}});return F.Decryptor=d,F}(),at.mode.CTRGladman})},242:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return at.mode.CTR=function(){var F=at.lib.BlockCipherMode.extend(),ot=F.Encryptor=F.extend({processBlock:function(lt,d){var rt=this._cipher,wt=rt.blockSize,I=this._iv,O=this._counter;I&&(O=this._counter=I.slice(0),this._iv=void 0);var et=O.slice(0);rt.encryptBlock(et,0),O[wt-1]=O[wt-1]+1|0;for(var _=0;_<wt;_++)lt[d+_]^=et[_]}});return F.Decryptor=ot,F}(),at.mode.CTR})},148:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return at.mode.ECB=function(){var F=at.lib.BlockCipherMode.extend();return F.Encryptor=F.extend({processBlock:function(ot,lt){this._cipher.encryptBlock(ot,lt)}}),F.Decryptor=F.extend({processBlock:function(ot,lt){this._cipher.decryptBlock(ot,lt)}}),F}(),at.mode.ECB})},660:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return at.mode.OFB=function(){var F=at.lib.BlockCipherMode.extend(),ot=F.Encryptor=F.extend({processBlock:function(lt,d){var rt=this._cipher,wt=rt.blockSize,I=this._iv,O=this._keystream;I&&(O=this._keystream=I.slice(0),this._iv=void 0),rt.encryptBlock(O,0);for(var et=0;et<wt;et++)lt[d+et]^=O[et]}});return F.Decryptor=ot,F}(),at.mode.OFB})},615:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return at.pad.AnsiX923={pad:function(F,ot){var lt=F.sigBytes,d=ot*4,rt=d-lt%d,wt=lt+rt-1;F.clamp(),F.words[wt>>>2]|=rt<<24-wt%4*8,F.sigBytes+=rt},unpad:function(F){var ot=F.words[F.sigBytes-1>>>2]&255;F.sigBytes-=ot}},at.pad.Ansix923})},807:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return at.pad.Iso10126={pad:function(F,ot){var lt=ot*4,d=lt-F.sigBytes%lt;F.concat(at.lib.WordArray.random(d-1)).concat(at.lib.WordArray.create([d<<24],1))},unpad:function(F){var ot=F.words[F.sigBytes-1>>>2]&255;F.sigBytes-=ot}},at.pad.Iso10126})},77:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return at.pad.Iso97971={pad:function(F,ot){F.concat(at.lib.WordArray.create([2147483648],1)),at.pad.ZeroPadding.pad(F,ot)},unpad:function(F){at.pad.ZeroPadding.unpad(F),F.sigBytes--}},at.pad.Iso97971})},991:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return at.pad.NoPadding={pad:function(){},unpad:function(){}},at.pad.NoPadding})},475:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(109))})(this,function(at){return at.pad.ZeroPadding={pad:function(F,ot){var lt=ot*4;F.clamp(),F.sigBytes+=lt-(F.sigBytes%lt||lt)},unpad:function(F){for(var ot=F.words,lt=F.sigBytes-1,lt=F.sigBytes-1;lt>=0;lt--)if(ot[lt>>>2]>>>24-lt%4*8&255){F.sigBytes=lt+1;break}}},at.pad.ZeroPadding})},112:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(783),st(824))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.Base,d=ot.WordArray,rt=F.algo,wt=rt.SHA1,I=rt.HMAC,O=rt.PBKDF2=lt.extend({cfg:lt.extend({keySize:128/32,hasher:wt,iterations:1}),init:function(et){this.cfg=this.cfg.extend(et)},compute:function(et,_){for(var X=this.cfg,R=I.create(X.hasher,et),U=d.create(),Q=d.create([1]),tt=U.words,ct=Q.words,M=X.keySize,q=X.iterations;tt.length<M;){var mt=R.update(_).finalize(Q);R.reset();for(var ft=mt.words,At=ft.length,yt=mt,c=1;c<q;c++){yt=R.finalize(yt),R.reset();for(var Ft=yt.words,Dt=0;Dt<At;Dt++)ft[Dt]^=Ft[Dt]}U.concat(mt),ct[0]++}return U.sigBytes=M*4,U}});F.PBKDF2=function(et,_,X){return O.create(X).compute(et,_)}}(),at.PBKDF2})},974:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(269),st(214),st(888),st(109))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.StreamCipher,d=F.algo,rt=[],wt=[],I=[],O=d.RabbitLegacy=lt.extend({_doReset:function(){var _=this._key.words,X=this.cfg.iv,R=this._X=[_[0],_[3]<<16|_[2]>>>16,_[1],_[0]<<16|_[3]>>>16,_[2],_[1]<<16|_[0]>>>16,_[3],_[2]<<16|_[1]>>>16],U=this._C=[_[2]<<16|_[2]>>>16,_[0]&4294901760|_[1]&65535,_[3]<<16|_[3]>>>16,_[1]&4294901760|_[2]&65535,_[0]<<16|_[0]>>>16,_[2]&4294901760|_[3]&65535,_[1]<<16|_[1]>>>16,_[3]&4294901760|_[0]&65535];this._b=0;for(var Q=0;Q<4;Q++)et.call(this);for(var Q=0;Q<8;Q++)U[Q]^=R[Q+4&7];if(X){var tt=X.words,ct=tt[0],M=tt[1],q=(ct<<8|ct>>>24)&16711935|(ct<<24|ct>>>8)&4278255360,mt=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,ft=q>>>16|mt&4294901760,At=mt<<16|q&65535;U[0]^=q,U[1]^=ft,U[2]^=mt,U[3]^=At,U[4]^=q,U[5]^=ft,U[6]^=mt,U[7]^=At;for(var Q=0;Q<4;Q++)et.call(this)}},_doProcessBlock:function(_,X){var R=this._X;et.call(this),rt[0]=R[0]^R[5]>>>16^R[3]<<16,rt[1]=R[2]^R[7]>>>16^R[5]<<16,rt[2]=R[4]^R[1]>>>16^R[7]<<16,rt[3]=R[6]^R[3]>>>16^R[1]<<16;for(var U=0;U<4;U++)rt[U]=(rt[U]<<8|rt[U]>>>24)&16711935|(rt[U]<<24|rt[U]>>>8)&4278255360,_[X+U]^=rt[U]},blockSize:128/32,ivSize:64/32});function et(){for(var _=this._X,X=this._C,R=0;R<8;R++)wt[R]=X[R];X[0]=X[0]+1295307597+this._b|0,X[1]=X[1]+3545052371+(X[0]>>>0<wt[0]>>>0?1:0)|0,X[2]=X[2]+886263092+(X[1]>>>0<wt[1]>>>0?1:0)|0,X[3]=X[3]+1295307597+(X[2]>>>0<wt[2]>>>0?1:0)|0,X[4]=X[4]+3545052371+(X[3]>>>0<wt[3]>>>0?1:0)|0,X[5]=X[5]+886263092+(X[4]>>>0<wt[4]>>>0?1:0)|0,X[6]=X[6]+1295307597+(X[5]>>>0<wt[5]>>>0?1:0)|0,X[7]=X[7]+3545052371+(X[6]>>>0<wt[6]>>>0?1:0)|0,this._b=X[7]>>>0<wt[7]>>>0?1:0;for(var R=0;R<8;R++){var U=_[R]+X[R],Q=U&65535,tt=U>>>16,ct=((Q*Q>>>17)+Q*tt>>>15)+tt*tt,M=((U&4294901760)*U|0)+((U&65535)*U|0);I[R]=ct^M}_[0]=I[0]+(I[7]<<16|I[7]>>>16)+(I[6]<<16|I[6]>>>16)|0,_[1]=I[1]+(I[0]<<8|I[0]>>>24)+I[7]|0,_[2]=I[2]+(I[1]<<16|I[1]>>>16)+(I[0]<<16|I[0]>>>16)|0,_[3]=I[3]+(I[2]<<8|I[2]>>>24)+I[1]|0,_[4]=I[4]+(I[3]<<16|I[3]>>>16)+(I[2]<<16|I[2]>>>16)|0,_[5]=I[5]+(I[4]<<8|I[4]>>>24)+I[3]|0,_[6]=I[6]+(I[5]<<16|I[5]>>>16)+(I[4]<<16|I[4]>>>16)|0,_[7]=I[7]+(I[6]<<8|I[6]>>>24)+I[5]|0}F.RabbitLegacy=lt._createHelper(O)}(),at.RabbitLegacy})},454:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(269),st(214),st(888),st(109))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.StreamCipher,d=F.algo,rt=[],wt=[],I=[],O=d.Rabbit=lt.extend({_doReset:function(){for(var _=this._key.words,X=this.cfg.iv,R=0;R<4;R++)_[R]=(_[R]<<8|_[R]>>>24)&16711935|(_[R]<<24|_[R]>>>8)&4278255360;var U=this._X=[_[0],_[3]<<16|_[2]>>>16,_[1],_[0]<<16|_[3]>>>16,_[2],_[1]<<16|_[0]>>>16,_[3],_[2]<<16|_[1]>>>16],Q=this._C=[_[2]<<16|_[2]>>>16,_[0]&4294901760|_[1]&65535,_[3]<<16|_[3]>>>16,_[1]&4294901760|_[2]&65535,_[0]<<16|_[0]>>>16,_[2]&4294901760|_[3]&65535,_[1]<<16|_[1]>>>16,_[3]&4294901760|_[0]&65535];this._b=0;for(var R=0;R<4;R++)et.call(this);for(var R=0;R<8;R++)Q[R]^=U[R+4&7];if(X){var tt=X.words,ct=tt[0],M=tt[1],q=(ct<<8|ct>>>24)&16711935|(ct<<24|ct>>>8)&4278255360,mt=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,ft=q>>>16|mt&4294901760,At=mt<<16|q&65535;Q[0]^=q,Q[1]^=ft,Q[2]^=mt,Q[3]^=At,Q[4]^=q,Q[5]^=ft,Q[6]^=mt,Q[7]^=At;for(var R=0;R<4;R++)et.call(this)}},_doProcessBlock:function(_,X){var R=this._X;et.call(this),rt[0]=R[0]^R[5]>>>16^R[3]<<16,rt[1]=R[2]^R[7]>>>16^R[5]<<16,rt[2]=R[4]^R[1]>>>16^R[7]<<16,rt[3]=R[6]^R[3]>>>16^R[1]<<16;for(var U=0;U<4;U++)rt[U]=(rt[U]<<8|rt[U]>>>24)&16711935|(rt[U]<<24|rt[U]>>>8)&4278255360,_[X+U]^=rt[U]},blockSize:128/32,ivSize:64/32});function et(){for(var _=this._X,X=this._C,R=0;R<8;R++)wt[R]=X[R];X[0]=X[0]+1295307597+this._b|0,X[1]=X[1]+3545052371+(X[0]>>>0<wt[0]>>>0?1:0)|0,X[2]=X[2]+886263092+(X[1]>>>0<wt[1]>>>0?1:0)|0,X[3]=X[3]+1295307597+(X[2]>>>0<wt[2]>>>0?1:0)|0,X[4]=X[4]+3545052371+(X[3]>>>0<wt[3]>>>0?1:0)|0,X[5]=X[5]+886263092+(X[4]>>>0<wt[4]>>>0?1:0)|0,X[6]=X[6]+1295307597+(X[5]>>>0<wt[5]>>>0?1:0)|0,X[7]=X[7]+3545052371+(X[6]>>>0<wt[6]>>>0?1:0)|0,this._b=X[7]>>>0<wt[7]>>>0?1:0;for(var R=0;R<8;R++){var U=_[R]+X[R],Q=U&65535,tt=U>>>16,ct=((Q*Q>>>17)+Q*tt>>>15)+tt*tt,M=((U&4294901760)*U|0)+((U&65535)*U|0);I[R]=ct^M}_[0]=I[0]+(I[7]<<16|I[7]>>>16)+(I[6]<<16|I[6]>>>16)|0,_[1]=I[1]+(I[0]<<8|I[0]>>>24)+I[7]|0,_[2]=I[2]+(I[1]<<16|I[1]>>>16)+(I[0]<<16|I[0]>>>16)|0,_[3]=I[3]+(I[2]<<8|I[2]>>>24)+I[1]|0,_[4]=I[4]+(I[3]<<16|I[3]>>>16)+(I[2]<<16|I[2]>>>16)|0,_[5]=I[5]+(I[4]<<8|I[4]>>>24)+I[3]|0,_[6]=I[6]+(I[5]<<16|I[5]>>>16)+(I[4]<<16|I[4]>>>16)|0,_[7]=I[7]+(I[6]<<8|I[6]>>>24)+I[5]|0}F.Rabbit=lt._createHelper(O)}(),at.Rabbit})},857:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(269),st(214),st(888),st(109))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.StreamCipher,d=F.algo,rt=d.RC4=lt.extend({_doReset:function(){for(var O=this._key,et=O.words,_=O.sigBytes,X=this._S=[],R=0;R<256;R++)X[R]=R;for(var R=0,U=0;R<256;R++){var Q=R%_,tt=et[Q>>>2]>>>24-Q%4*8&255;U=(U+X[R]+tt)%256;var ct=X[R];X[R]=X[U],X[U]=ct}this._i=this._j=0},_doProcessBlock:function(O,et){O[et]^=wt.call(this)},keySize:256/32,ivSize:0});function wt(){for(var O=this._S,et=this._i,_=this._j,X=0,R=0;R<4;R++){et=(et+1)%256,_=(_+O[et])%256;var U=O[et];O[et]=O[_],O[_]=U,X|=O[(O[et]+O[_])%256]<<24-R*8}return this._i=et,this._j=_,X}F.RC4=lt._createHelper(rt);var I=d.RC4Drop=rt.extend({cfg:rt.cfg.extend({drop:192}),_doReset:function(){rt._doReset.call(this);for(var O=this.cfg.drop;O>0;O--)wt.call(this)}});F.RC4Drop=lt._createHelper(I)}(),at.RC4})},706:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(F){var ot=at,lt=ot.lib,d=lt.WordArray,rt=lt.Hasher,wt=ot.algo,I=d.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),O=d.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),et=d.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_=d.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),X=d.create([0,1518500249,1859775393,2400959708,2840853838]),R=d.create([1352829926,1548603684,1836072691,2053994217,0]),U=wt.RIPEMD160=rt.extend({_doReset:function(){this._hash=d.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ft,At){for(var yt=0;yt<16;yt++){var c=At+yt,Ft=ft[c];ft[c]=(Ft<<8|Ft>>>24)&16711935|(Ft<<24|Ft>>>8)&4278255360}var Dt=this._hash.words,Ht=X.words,kt=R.words,It=I.words,St=O.words,r=et.words,h=_.words,v,E,G,J,ut,dt,gt,qt,Ut,ae;dt=v=Dt[0],gt=E=Dt[1],qt=G=Dt[2],Ut=J=Dt[3],ae=ut=Dt[4];for(var Qt,yt=0;yt<80;yt+=1)Qt=v+ft[At+It[yt]]|0,yt<16?Qt+=Q(E,G,J)+Ht[0]:yt<32?Qt+=tt(E,G,J)+Ht[1]:yt<48?Qt+=ct(E,G,J)+Ht[2]:yt<64?Qt+=M(E,G,J)+Ht[3]:Qt+=q(E,G,J)+Ht[4],Qt=Qt|0,Qt=mt(Qt,r[yt]),Qt=Qt+ut|0,v=ut,ut=J,J=mt(G,10),G=E,E=Qt,Qt=dt+ft[At+St[yt]]|0,yt<16?Qt+=q(gt,qt,Ut)+kt[0]:yt<32?Qt+=M(gt,qt,Ut)+kt[1]:yt<48?Qt+=ct(gt,qt,Ut)+kt[2]:yt<64?Qt+=tt(gt,qt,Ut)+kt[3]:Qt+=Q(gt,qt,Ut)+kt[4],Qt=Qt|0,Qt=mt(Qt,h[yt]),Qt=Qt+ae|0,dt=ae,ae=Ut,Ut=mt(qt,10),qt=gt,gt=Qt;Qt=Dt[1]+G+Ut|0,Dt[1]=Dt[2]+J+ae|0,Dt[2]=Dt[3]+ut+dt|0,Dt[3]=Dt[4]+v+gt|0,Dt[4]=Dt[0]+E+qt|0,Dt[0]=Qt},_doFinalize:function(){var ft=this._data,At=ft.words,yt=this._nDataBytes*8,c=ft.sigBytes*8;At[c>>>5]|=128<<24-c%32,At[(c+64>>>9<<4)+14]=(yt<<8|yt>>>24)&16711935|(yt<<24|yt>>>8)&4278255360,ft.sigBytes=(At.length+1)*4,this._process();for(var Ft=this._hash,Dt=Ft.words,Ht=0;Ht<5;Ht++){var kt=Dt[Ht];Dt[Ht]=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360}return Ft},clone:function(){var ft=rt.clone.call(this);return ft._hash=this._hash.clone(),ft}});function Q(ft,At,yt){return ft^At^yt}function tt(ft,At,yt){return ft&At|~ft&yt}function ct(ft,At,yt){return(ft|~At)^yt}function M(ft,At,yt){return ft&yt|At&~yt}function q(ft,At,yt){return ft^(At|~yt)}function mt(ft,At){return ft<<At|ft>>>32-At}ot.RIPEMD160=rt._createHelper(U),ot.HmacRIPEMD160=rt._createHmacHelper(U)}(Math),at.RIPEMD160})},783:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.WordArray,d=ot.Hasher,rt=F.algo,wt=[],I=rt.SHA1=d.extend({_doReset:function(){this._hash=new lt.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,et){for(var _=this._hash.words,X=_[0],R=_[1],U=_[2],Q=_[3],tt=_[4],ct=0;ct<80;ct++){if(ct<16)wt[ct]=O[et+ct]|0;else{var M=wt[ct-3]^wt[ct-8]^wt[ct-14]^wt[ct-16];wt[ct]=M<<1|M>>>31}var q=(X<<5|X>>>27)+tt+wt[ct];ct<20?q+=(R&U|~R&Q)+1518500249:ct<40?q+=(R^U^Q)+1859775393:ct<60?q+=(R&U|R&Q|U&Q)-1894007588:q+=(R^U^Q)-899497514,tt=Q,Q=U,U=R<<30|R>>>2,R=X,X=q}_[0]=_[0]+X|0,_[1]=_[1]+R|0,_[2]=_[2]+U|0,_[3]=_[3]+Q|0,_[4]=_[4]+tt|0},_doFinalize:function(){var O=this._data,et=O.words,_=this._nDataBytes*8,X=O.sigBytes*8;return et[X>>>5]|=128<<24-X%32,et[(X+64>>>9<<4)+14]=Math.floor(_/4294967296),et[(X+64>>>9<<4)+15]=_,O.sigBytes=et.length*4,this._process(),this._hash},clone:function(){var O=d.clone.call(this);return O._hash=this._hash.clone(),O}});F.SHA1=d._createHelper(I),F.HmacSHA1=d._createHmacHelper(I)}(),at.SHA1})},792:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(153))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.WordArray,d=F.algo,rt=d.SHA256,wt=d.SHA224=rt.extend({_doReset:function(){this._hash=new lt.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var I=rt._doFinalize.call(this);return I.sigBytes-=4,I}});F.SHA224=rt._createHelper(wt),F.HmacSHA224=rt._createHmacHelper(wt)}(),at.SHA224})},153:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){return function(F){var ot=at,lt=ot.lib,d=lt.WordArray,rt=lt.Hasher,wt=ot.algo,I=[],O=[];(function(){function X(tt){for(var ct=F.sqrt(tt),M=2;M<=ct;M++)if(!(tt%M))return!1;return!0}function R(tt){return(tt-(tt|0))*4294967296|0}for(var U=2,Q=0;Q<64;)X(U)&&(Q<8&&(I[Q]=R(F.pow(U,.5))),O[Q]=R(F.pow(U,.3333333333333333)),Q++),U++})();var et=[],_=wt.SHA256=rt.extend({_doReset:function(){this._hash=new d.init(I.slice(0))},_doProcessBlock:function(X,R){for(var U=this._hash.words,Q=U[0],tt=U[1],ct=U[2],M=U[3],q=U[4],mt=U[5],ft=U[6],At=U[7],yt=0;yt<64;yt++){if(yt<16)et[yt]=X[R+yt]|0;else{var c=et[yt-15],Ft=(c<<25|c>>>7)^(c<<14|c>>>18)^c>>>3,Dt=et[yt-2],Ht=(Dt<<15|Dt>>>17)^(Dt<<13|Dt>>>19)^Dt>>>10;et[yt]=Ft+et[yt-7]+Ht+et[yt-16]}var kt=q&mt^~q&ft,It=Q&tt^Q&ct^tt&ct,St=(Q<<30|Q>>>2)^(Q<<19|Q>>>13)^(Q<<10|Q>>>22),r=(q<<26|q>>>6)^(q<<21|q>>>11)^(q<<7|q>>>25),h=At+r+kt+O[yt]+et[yt],v=St+It;At=ft,ft=mt,mt=q,q=M+h|0,M=ct,ct=tt,tt=Q,Q=h+v|0}U[0]=U[0]+Q|0,U[1]=U[1]+tt|0,U[2]=U[2]+ct|0,U[3]=U[3]+M|0,U[4]=U[4]+q|0,U[5]=U[5]+mt|0,U[6]=U[6]+ft|0,U[7]=U[7]+At|0},_doFinalize:function(){var X=this._data,R=X.words,U=this._nDataBytes*8,Q=X.sigBytes*8;return R[Q>>>5]|=128<<24-Q%32,R[(Q+64>>>9<<4)+14]=F.floor(U/4294967296),R[(Q+64>>>9<<4)+15]=U,X.sigBytes=R.length*4,this._process(),this._hash},clone:function(){var X=rt.clone.call(this);return X._hash=this._hash.clone(),X}});ot.SHA256=rt._createHelper(_),ot.HmacSHA256=rt._createHmacHelper(_)}(Math),at.SHA256})},327:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(938))})(this,function(at){return function(F){var ot=at,lt=ot.lib,d=lt.WordArray,rt=lt.Hasher,wt=ot.x64,I=wt.Word,O=ot.algo,et=[],_=[],X=[];(function(){for(var Q=1,tt=0,ct=0;ct<24;ct++){et[Q+5*tt]=(ct+1)*(ct+2)/2%64;var M=tt%5,q=(2*Q+3*tt)%5;Q=M,tt=q}for(var Q=0;Q<5;Q++)for(var tt=0;tt<5;tt++)_[Q+5*tt]=tt+(2*Q+3*tt)%5*5;for(var mt=1,ft=0;ft<24;ft++){for(var At=0,yt=0,c=0;c<7;c++){if(mt&1){var Ft=(1<<c)-1;Ft<32?yt^=1<<Ft:At^=1<<Ft-32}mt&128?mt=mt<<1^113:mt<<=1}X[ft]=I.create(At,yt)}})();var R=[];(function(){for(var Q=0;Q<25;Q++)R[Q]=I.create()})();var U=O.SHA3=rt.extend({cfg:rt.cfg.extend({outputLength:512}),_doReset:function(){for(var Q=this._state=[],tt=0;tt<25;tt++)Q[tt]=new I.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Q,tt){for(var ct=this._state,M=this.blockSize/2,q=0;q<M;q++){var mt=Q[tt+2*q],ft=Q[tt+2*q+1];mt=(mt<<8|mt>>>24)&16711935|(mt<<24|mt>>>8)&4278255360,ft=(ft<<8|ft>>>24)&16711935|(ft<<24|ft>>>8)&4278255360;var At=ct[q];At.high^=ft,At.low^=mt}for(var yt=0;yt<24;yt++){for(var c=0;c<5;c++){for(var Ft=0,Dt=0,Ht=0;Ht<5;Ht++){var At=ct[c+5*Ht];Ft^=At.high,Dt^=At.low}var kt=R[c];kt.high=Ft,kt.low=Dt}for(var c=0;c<5;c++)for(var It=R[(c+4)%5],St=R[(c+1)%5],r=St.high,h=St.low,Ft=It.high^(r<<1|h>>>31),Dt=It.low^(h<<1|r>>>31),Ht=0;Ht<5;Ht++){var At=ct[c+5*Ht];At.high^=Ft,At.low^=Dt}for(var v=1;v<25;v++){var Ft,Dt,At=ct[v],E=At.high,G=At.low,J=et[v];J<32?(Ft=E<<J|G>>>32-J,Dt=G<<J|E>>>32-J):(Ft=G<<J-32|E>>>64-J,Dt=E<<J-32|G>>>64-J);var ut=R[_[v]];ut.high=Ft,ut.low=Dt}var dt=R[0],gt=ct[0];dt.high=gt.high,dt.low=gt.low;for(var c=0;c<5;c++)for(var Ht=0;Ht<5;Ht++){var v=c+5*Ht,At=ct[v],qt=R[v],Ut=R[(c+1)%5+5*Ht],ae=R[(c+2)%5+5*Ht];At.high=qt.high^~Ut.high&ae.high,At.low=qt.low^~Ut.low&ae.low}var At=ct[0],Qt=X[yt];At.high^=Qt.high,At.low^=Qt.low}},_doFinalize:function(){var Q=this._data,tt=Q.words,ct=this._nDataBytes*8,M=Q.sigBytes*8,q=this.blockSize*32;tt[M>>>5]|=1<<24-M%32,tt[(F.ceil((M+1)/q)*q>>>5)-1]|=128,Q.sigBytes=tt.length*4,this._process();for(var mt=this._state,ft=this.cfg.outputLength/8,At=ft/8,yt=[],c=0;c<At;c++){var Ft=mt[c],Dt=Ft.high,Ht=Ft.low;Dt=(Dt<<8|Dt>>>24)&16711935|(Dt<<24|Dt>>>8)&4278255360,Ht=(Ht<<8|Ht>>>24)&16711935|(Ht<<24|Ht>>>8)&4278255360,yt.push(Ht),yt.push(Dt)}return new d.init(yt,ft)},clone:function(){for(var Q=rt.clone.call(this),tt=Q._state=this._state.slice(0),ct=0;ct<25;ct++)tt[ct]=tt[ct].clone();return Q}});ot.SHA3=rt._createHelper(U),ot.HmacSHA3=rt._createHmacHelper(U)}(Math),at.SHA3})},460:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(938),st(34))})(this,function(at){return function(){var F=at,ot=F.x64,lt=ot.Word,d=ot.WordArray,rt=F.algo,wt=rt.SHA512,I=rt.SHA384=wt.extend({_doReset:function(){this._hash=new d.init([new lt.init(3418070365,3238371032),new lt.init(1654270250,914150663),new lt.init(2438529370,812702999),new lt.init(355462360,4144912697),new lt.init(1731405415,4290775857),new lt.init(2394180231,1750603025),new lt.init(3675008525,1694076839),new lt.init(1203062813,3204075428)])},_doFinalize:function(){var O=wt._doFinalize.call(this);return O.sigBytes-=16,O}});F.SHA384=wt._createHelper(I),F.HmacSHA384=wt._createHmacHelper(I)}(),at.SHA384})},34:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(938))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.Hasher,d=F.x64,rt=d.Word,wt=d.WordArray,I=F.algo;function O(){return rt.create.apply(rt,arguments)}var et=[O(1116352408,3609767458),O(1899447441,602891725),O(3049323471,3964484399),O(3921009573,2173295548),O(961987163,4081628472),O(1508970993,3053834265),O(2453635748,2937671579),O(2870763221,3664609560),O(3624381080,2734883394),O(310598401,1164996542),O(607225278,1323610764),O(1426881987,3590304994),O(1925078388,4068182383),O(2162078206,991336113),O(2614888103,633803317),O(3248222580,3479774868),O(3835390401,2666613458),O(4022224774,944711139),O(264347078,2341262773),O(604807628,2007800933),O(770255983,1495990901),O(1249150122,1856431235),O(1555081692,3175218132),O(1996064986,2198950837),O(2554220882,3999719339),O(2821834349,766784016),O(2952996808,2566594879),O(3210313671,3203337956),O(3336571891,1034457026),O(3584528711,2466948901),O(113926993,3758326383),O(338241895,168717936),O(666307205,1188179964),O(773529912,1546045734),O(1294757372,1522805485),O(1396182291,2643833823),O(1695183700,2343527390),O(1986661051,1014477480),O(2177026350,1206759142),O(2456956037,344077627),O(2730485921,1290863460),O(2820302411,3158454273),O(3259730800,3505952657),O(3345764771,106217008),O(3516065817,3606008344),O(3600352804,1432725776),O(4094571909,1467031594),O(275423344,851169720),O(430227734,3100823752),O(506948616,1363258195),O(659060556,3750685593),O(883997877,3785050280),O(958139571,3318307427),O(1322822218,3812723403),O(1537002063,2003034995),O(1747873779,3602036899),O(1955562222,1575990012),O(2024104815,1125592928),O(2227730452,2716904306),O(2361852424,442776044),O(2428436474,593698344),O(2756734187,3733110249),O(3204031479,2999351573),O(3329325298,3815920427),O(3391569614,3928383900),O(3515267271,566280711),O(3940187606,3454069534),O(4118630271,4000239992),O(116418474,1914138554),O(174292421,2731055270),O(289380356,3203993006),O(460393269,320620315),O(685471733,587496836),O(852142971,1086792851),O(1017036298,365543100),O(1126000580,2618297676),O(1288033470,3409855158),O(1501505948,4234509866),O(1607167915,987167468),O(1816402316,1246189591)],_=[];(function(){for(var R=0;R<80;R++)_[R]=O()})();var X=I.SHA512=lt.extend({_doReset:function(){this._hash=new wt.init([new rt.init(1779033703,4089235720),new rt.init(3144134277,2227873595),new rt.init(1013904242,4271175723),new rt.init(2773480762,1595750129),new rt.init(1359893119,2917565137),new rt.init(2600822924,725511199),new rt.init(528734635,4215389547),new rt.init(1541459225,327033209)])},_doProcessBlock:function(R,U){for(var Q=this._hash.words,tt=Q[0],ct=Q[1],M=Q[2],q=Q[3],mt=Q[4],ft=Q[5],At=Q[6],yt=Q[7],c=tt.high,Ft=tt.low,Dt=ct.high,Ht=ct.low,kt=M.high,It=M.low,St=q.high,r=q.low,h=mt.high,v=mt.low,E=ft.high,G=ft.low,J=At.high,ut=At.low,dt=yt.high,gt=yt.low,qt=c,Ut=Ft,ae=Dt,Qt=Ht,Ce=kt,Ee=It,qe=St,Zt=r,De=h,oe=v,Xe=E,$e=G,pi=J,Ue=ut,ti=dt,xe=gt,Be=0;Be<80;Be++){var we,He,me=_[Be];if(Be<16)He=me.high=R[U+Be*2]|0,we=me.low=R[U+Be*2+1]|0;else{var ei=_[Be-15],Le=ei.high,jt=ei.low,ge=(Le>>>1|jt<<31)^(Le>>>8|jt<<24)^Le>>>7,Hi=(jt>>>1|Le<<31)^(jt>>>8|Le<<24)^(jt>>>7|Le<<25),ji=_[Be-2],ii=ji.high,ri=ji.low,Oi=(ii>>>19|ri<<13)^(ii<<3|ri>>>29)^ii>>>6,si=(ri>>>19|ii<<13)^(ri<<3|ii>>>29)^(ri>>>6|ii<<26),Se=_[Be-7],Ke=Se.high,ni=Se.low,Wi=_[Be-16],gi=Wi.high,Ei=Wi.low;we=Hi+ni,He=ge+Ke+(we>>>0<Hi>>>0?1:0),we=we+si,He=He+Oi+(we>>>0<si>>>0?1:0),we=we+Ei,He=He+gi+(we>>>0<Ei>>>0?1:0),me.high=He,me.low=we}var Qi=De&Xe^~De&pi,qi=oe&$e^~oe&Ue,ai=qt&ae^qt&Ce^ae&Ce,li=Ut&Qt^Ut&Ee^Qt&Ee,Xi=(qt>>>28|Ut<<4)^(qt<<30|Ut>>>2)^(qt<<25|Ut>>>7),Di=(Ut>>>28|qt<<4)^(Ut<<30|qt>>>2)^(Ut<<25|qt>>>7),be=(De>>>14|oe<<18)^(De>>>18|oe<<14)^(De<<23|oe>>>9),ve=(oe>>>14|De<<18)^(oe>>>18|De<<14)^(oe<<23|De>>>9),vi=et[Be],lr=vi.high,di=vi.low,ue=xe+ve,de=ti+be+(ue>>>0<xe>>>0?1:0),ue=ue+qi,de=de+Qi+(ue>>>0<qi>>>0?1:0),ue=ue+di,de=de+lr+(ue>>>0<di>>>0?1:0),ue=ue+we,de=de+He+(ue>>>0<we>>>0?1:0),Kt=Di+li,xi=Xi+ai+(Kt>>>0<Di>>>0?1:0);ti=pi,xe=Ue,pi=Xe,Ue=$e,Xe=De,$e=oe,oe=Zt+ue|0,De=qe+de+(oe>>>0<Zt>>>0?1:0)|0,qe=Ce,Zt=Ee,Ce=ae,Ee=Qt,ae=qt,Qt=Ut,Ut=ue+Kt|0,qt=de+xi+(Ut>>>0<ue>>>0?1:0)|0}Ft=tt.low=Ft+Ut,tt.high=c+qt+(Ft>>>0<Ut>>>0?1:0),Ht=ct.low=Ht+Qt,ct.high=Dt+ae+(Ht>>>0<Qt>>>0?1:0),It=M.low=It+Ee,M.high=kt+Ce+(It>>>0<Ee>>>0?1:0),r=q.low=r+Zt,q.high=St+qe+(r>>>0<Zt>>>0?1:0),v=mt.low=v+oe,mt.high=h+De+(v>>>0<oe>>>0?1:0),G=ft.low=G+$e,ft.high=E+Xe+(G>>>0<$e>>>0?1:0),ut=At.low=ut+Ue,At.high=J+pi+(ut>>>0<Ue>>>0?1:0),gt=yt.low=gt+xe,yt.high=dt+ti+(gt>>>0<xe>>>0?1:0)},_doFinalize:function(){var R=this._data,U=R.words,Q=this._nDataBytes*8,tt=R.sigBytes*8;U[tt>>>5]|=128<<24-tt%32,U[(tt+128>>>10<<5)+30]=Math.floor(Q/4294967296),U[(tt+128>>>10<<5)+31]=Q,R.sigBytes=U.length*4,this._process();var ct=this._hash.toX32();return ct},clone:function(){var R=lt.clone.call(this);return R._hash=this._hash.clone(),R},blockSize:1024/32});F.SHA512=lt._createHelper(X),F.HmacSHA512=lt._createHmacHelper(X)}(),at.SHA512})},253:function(Ct,Pt,st){(function(at,F,ot){Ct.exports=Pt=F(st(249),st(269),st(214),st(888),st(109))})(this,function(at){return function(){var F=at,ot=F.lib,lt=ot.WordArray,d=ot.BlockCipher,rt=F.algo,wt=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],I=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],O=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],et=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],_=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],X=rt.DES=d.extend({_doReset:function(){for(var tt=this._key,ct=tt.words,M=[],q=0;q<56;q++){var mt=wt[q]-1;M[q]=ct[mt>>>5]>>>31-mt%32&1}for(var ft=this._subKeys=[],At=0;At<16;At++){for(var yt=ft[At]=[],c=O[At],q=0;q<24;q++)yt[q/6|0]|=M[(I[q]-1+c)%28]<<31-q%6,yt[4+(q/6|0)]|=M[28+(I[q+24]-1+c)%28]<<31-q%6;yt[0]=yt[0]<<1|yt[0]>>>31;for(var q=1;q<7;q++)yt[q]=yt[q]>>>(q-1)*4+3;yt[7]=yt[7]<<5|yt[7]>>>27}for(var Ft=this._invSubKeys=[],q=0;q<16;q++)Ft[q]=ft[15-q]},encryptBlock:function(tt,ct){this._doCryptBlock(tt,ct,this._subKeys)},decryptBlock:function(tt,ct){this._doCryptBlock(tt,ct,this._invSubKeys)},_doCryptBlock:function(tt,ct,M){this._lBlock=tt[ct],this._rBlock=tt[ct+1],R.call(this,4,252645135),R.call(this,16,65535),U.call(this,2,858993459),U.call(this,8,16711935),R.call(this,1,1431655765);for(var q=0;q<16;q++){for(var mt=M[q],ft=this._lBlock,At=this._rBlock,yt=0,c=0;c<8;c++)yt|=et[c][((At^mt[c])&_[c])>>>0];this._lBlock=At,this._rBlock=ft^yt}var Ft=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Ft,R.call(this,1,1431655765),U.call(this,8,16711935),U.call(this,2,858993459),R.call(this,16,65535),R.call(this,4,252645135),tt[ct]=this._lBlock,tt[ct+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function R(tt,ct){var M=(this._lBlock>>>tt^this._rBlock)&ct;this._rBlock^=M,this._lBlock^=M<<tt}function U(tt,ct){var M=(this._rBlock>>>tt^this._lBlock)&ct;this._lBlock^=M,this._rBlock^=M<<tt}F.DES=d._createHelper(X);var Q=rt.TripleDES=d.extend({_doReset:function(){var tt=this._key,ct=tt.words;if(ct.length!==2&&ct.length!==4&&ct.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var M=ct.slice(0,2),q=ct.length<4?ct.slice(0,2):ct.slice(2,4),mt=ct.length<6?ct.slice(0,2):ct.slice(4,6);this._des1=X.createEncryptor(lt.create(M)),this._des2=X.createEncryptor(lt.create(q)),this._des3=X.createEncryptor(lt.create(mt))},encryptBlock:function(tt,ct){this._des1.encryptBlock(tt,ct),this._des2.decryptBlock(tt,ct),this._des3.encryptBlock(tt,ct)},decryptBlock:function(tt,ct){this._des3.decryptBlock(tt,ct),this._des2.encryptBlock(tt,ct),this._des1.decryptBlock(tt,ct)},keySize:192/32,ivSize:64/32,blockSize:64/32});F.TripleDES=d._createHelper(Q)}(),at.TripleDES})},938:function(Ct,Pt,st){(function(at,F){Ct.exports=Pt=F(st(249))})(this,function(at){return function(F){var ot=at,lt=ot.lib,d=lt.Base,rt=lt.WordArray,wt=ot.x64={},I=wt.Word=d.extend({init:function(et,_){this.high=et,this.low=_}}),O=wt.WordArray=d.extend({init:function(et,_){et=this.words=et||[],_!=F?this.sigBytes=_:this.sigBytes=et.length*8},toX32:function(){for(var et=this.words,_=et.length,X=[],R=0;R<_;R++){var U=et[R];X.push(U.high),X.push(U.low)}return rt.create(X,this.sigBytes)},clone:function(){for(var et=d.clone.call(this),_=et.words=this.words.slice(0),X=_.length,R=0;R<X;R++)_[R]=_[R].clone();return et}})}(),at})},755:function(Ct,Pt){var st,at;/*!
* jQuery JavaScript Library v3.7.0
* https://jquery.com/
*
* Copyright OpenJS Foundation and other contributors
* Released under the MIT license
* https://jquery.org/license
*
* Date: 2023-05-11T18:29Z
*/(function(F,ot){"use strict";typeof Ct.exports=="object"?Ct.exports=F.document?ot(F,!0):function(lt){if(!lt.document)throw new Error("jQuery requires a window with a document");return ot(lt)}:ot(F)})(typeof window<"u"?window:this,function(F,ot){"use strict";var lt=[],d=Object.getPrototypeOf,rt=lt.slice,wt=lt.flat?function(s){return lt.flat.call(s)}:function(s){return lt.concat.apply([],s)},I=lt.push,O=lt.indexOf,et={},_=et.toString,X=et.hasOwnProperty,R=X.toString,U=R.call(Object),Q={},tt=function(o){return typeof o=="function"&&typeof o.nodeType!="number"&&typeof o.item!="function"},ct=function(o){return o!=null&&o===o.window},M=F.document,q={type:!0,src:!0,nonce:!0,noModule:!0};function mt(s,o,f){f=f||M;var p,w,b=f.createElement("script");if(b.text=s,o)for(p in q)w=o[p]||o.getAttribute&&o.getAttribute(p),w&&b.setAttribute(p,w);f.head.appendChild(b).parentNode.removeChild(b)}function ft(s){return s==null?s+"":typeof s=="object"||typeof s=="function"?et[_.call(s)]||"object":typeof s}var At="3.7.0",yt=/HTML$/i,c=function(s,o){return new c.fn.init(s,o)};c.fn=c.prototype={jquery:At,constructor:c,length:0,toArray:function(){return rt.call(this)},get:function(s){return s==null?rt.call(this):s<0?this[s+this.length]:this[s]},pushStack:function(s){var o=c.merge(this.constructor(),s);return o.prevObject=this,o},each:function(s){return c.each(this,s)},map:function(s){return this.pushStack(c.map(this,function(o,f){return s.call(o,f,o)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(c.grep(this,function(s,o){return(o+1)%2}))},odd:function(){return this.pushStack(c.grep(this,function(s,o){return o%2}))},eq:function(s){var o=this.length,f=+s+(s<0?o:0);return this.pushStack(f>=0&&f<o?[this[f]]:[])},end:function(){return this.prevObject||this.constructor()},push:I,sort:lt.sort,splice:lt.splice},c.extend=c.fn.extend=function(){var s,o,f,p,w,b,A=arguments[0]||{},H=1,T=arguments.length,Y=!1;for(typeof A=="boolean"&&(Y=A,A=arguments[H]||{},H++),typeof A!="object"&&!tt(A)&&(A={}),H===T&&(A=this,H--);H<T;H++)if((s=arguments[H])!=null)for(o in s)p=s[o],!(o==="__proto__"||A===p)&&(Y&&p&&(c.isPlainObject(p)||(w=Array.isArray(p)))?(f=A[o],w&&!Array.isArray(f)?b=[]:!w&&!c.isPlainObject(f)?b={}:b=f,w=!1,A[o]=c.extend(Y,b,p)):p!==void 0&&(A[o]=p));return A},c.extend({expando:"jQuery"+(At+Math.random()).replace(/\D/g,""),isReady:!0,error:function(s){throw new Error(s)},noop:function(){},isPlainObject:function(s){var o,f;return!s||_.call(s)!=="[object Object]"?!1:(o=d(s),o?(f=X.call(o,"constructor")&&o.constructor,typeof f=="function"&&R.call(f)===U):!0)},isEmptyObject:function(s){var o;for(o in s)return!1;return!0},globalEval:function(s,o,f){mt(s,{nonce:o&&o.nonce},f)},each:function(s,o){var f,p=0;if(Ft(s))for(f=s.length;p<f&&o.call(s[p],p,s[p])!==!1;p++);else for(p in s)if(o.call(s[p],p,s[p])===!1)break;return s},text:function(s){var o,f="",p=0,w=s.nodeType;if(w){if(w===1||w===9||w===11)return s.textContent;if(w===3||w===4)return s.nodeValue}else for(;o=s[p++];)f+=c.text(o);return f},makeArray:function(s,o){var f=o||[];return s!=null&&(Ft(Object(s))?c.merge(f,typeof s=="string"?[s]:s):I.call(f,s)),f},inArray:function(s,o,f){return o==null?-1:O.call(o,s,f)},isXMLDoc:function(s){var o=s&&s.namespaceURI,f=s&&(s.ownerDocument||s).documentElement;return!yt.test(o||f&&f.nodeName||"HTML")},merge:function(s,o){for(var f=+o.length,p=0,w=s.length;p<f;p++)s[w++]=o[p];return s.length=w,s},grep:function(s,o,f){for(var p,w=[],b=0,A=s.length,H=!f;b<A;b++)p=!o(s[b],b),p!==H&&w.push(s[b]);return w},map:function(s,o,f){var p,w,b=0,A=[];if(Ft(s))for(p=s.length;b<p;b++)w=o(s[b],b,f),w!=null&&A.push(w);else for(b in s)w=o(s[b],b,f),w!=null&&A.push(w);return wt(A)},guid:1,support:Q}),typeof Symbol=="function"&&(c.fn[Symbol.iterator]=lt[Symbol.iterator]),c.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(s,o){et["[object "+o+"]"]=o.toLowerCase()});function Ft(s){var o=!!s&&"length"in s&&s.length,f=ft(s);return tt(s)||ct(s)?!1:f==="array"||o===0||typeof o=="number"&&o>0&&o-1 in s}function Dt(s,o){return s.nodeName&&s.nodeName.toLowerCase()===o.toLowerCase()}var Ht=lt.pop,kt=lt.sort,It=lt.splice,St="[\\x20\\t\\r\\n\\f]",r=new RegExp("^"+St+"+|((?:^|[^\\\\])(?:\\\\.)*)"+St+"+$","g");c.contains=function(s,o){var f=o&&o.parentNode;return s===f||!!(f&&f.nodeType===1&&(s.contains?s.contains(f):s.compareDocumentPosition&&s.compareDocumentPosition(f)&16))};var h=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function v(s,o){return o?s==="\0"?"\uFFFD":s.slice(0,-1)+"\\"+s.charCodeAt(s.length-1).toString(16)+" ":"\\"+s}c.escapeSelector=function(s){return(s+"").replace(h,v)};var E=M,G=I;(function(){var s,o,f,p,w,b=G,A,H,T,Y,xt,Nt=c.expando,ht=0,Mt=0,Xt=Ti(),Vt=Ti(),Jt=Ti(),fe=Ti(),he=function(t,e){return t===e&&(w=!0),0},Te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Re="(?:\\\\[\\da-fA-F]{1,6}"+St+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Yt="\\["+St+"*("+Re+")(?:"+St+"*([*^$|!~]?=)"+St+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Re+"))|)"+St+"*\\]",hi=":("+Re+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Yt+")*)|.*)\\)|)",$t=new RegExp(St+"+","g"),ne=new RegExp("^"+St+"*,"+St+"*"),bi=new RegExp("^"+St+"*([>+~]|"+St+")"+St+"*"),sr=new RegExp(St+"|>"),_e=new RegExp(hi),Ye=new RegExp("^"+Re+"$"),Ae={ID:new RegExp("^#("+Re+")"),CLASS:new RegExp("^\\.("+Re+")"),TAG:new RegExp("^("+Re+"|[*])"),ATTR:new RegExp("^"+Yt),PSEUDO:new RegExp("^"+hi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+St+"*(even|odd|(([+-]|)(\\d*)n|)"+St+"*(?:([+-]|)"+St+"*(\\d+)|))"+St+"*\\)|)","i"),bool:new RegExp("^(?:"+Te+")$","i"),needsContext:new RegExp("^"+St+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+St+"*((?:-\\d)?\\d*)"+St+"*\\)|)(?=[^-]|$)","i")},Oe=/^(?:input|select|textarea|button)$/i,We=/^h\d$/i,Ne=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Pi=/[+~]/,Ie=new RegExp("\\\\[\\da-fA-F]{1,6}"+St+"?|\\\\([^\\r\\n\\f])","g"),Me=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320))},Mr=function(){le()},Pr=_i(function(t){return t.disabled===!0&&Dt(t,"fieldset")},{dir:"parentNode",next:"legend"});function ki(){try{return A.activeElement}catch{}}try{b.apply(lt=rt.call(E.childNodes),E.childNodes),lt[E.childNodes.length].nodeType}catch{b={apply:function(e,n){G.apply(e,rt.call(n))},call:function(e){G.apply(e,rt.call(arguments,1))}}}function re(t,e,n,a){var l,u,x,g,m,k,N,L=e&&e.ownerDocument,y=e?e.nodeType:9;if(n=n||[],typeof t!="string"||!t||y!==1&&y!==9&&y!==11)return n;if(!a&&(le(e),e=e||A,T)){if(y!==11&&(m=Ne.exec(t)))if(l=m[1]){if(y===9)if(x=e.getElementById(l)){if(x.id===l)return b.call(n,x),n}else return n;else if(L&&(x=L.getElementById(l))&&re.contains(e,x)&&x.id===l)return b.call(n,x),n}else{if(m[2])return b.apply(n,e.getElementsByTagName(t)),n;if((l=m[3])&&e.getElementsByClassName)return b.apply(n,e.getElementsByClassName(l)),n}if(!fe[t+" "]&&(!Y||!Y.test(t))){if(N=t,L=e,y===1&&(sr.test(t)||bi.test(t))){for(L=Pi.test(t)&&ar(e.parentNode)||e,(L!=e||!Q.scope)&&((g=e.getAttribute("id"))?g=c.escapeSelector(g):e.setAttribute("id",g=Nt)),k=Ai(t),u=k.length;u--;)k[u]=(g?"#"+g:":scope")+" "+Ri(k[u]);N=k.join(",")}try{return b.apply(n,L.querySelectorAll(N)),n}catch{fe(t,!0)}finally{g===Nt&&e.removeAttribute("id")}}}return z(t.replace(r,"$1"),e,n,a)}function Ti(){var t=[];function e(n,a){return t.push(n+" ")>o.cacheLength&&delete e[t.shift()],e[n+" "]=a}return e}function Pe(t){return t[Nt]=!0,t}function nt(t){var e=A.createElement("fieldset");try{return!!t(e)}catch{return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function hs(t){return function(e){return Dt(e,"input")&&e.type===t}}function ls(t){return function(e){return(Dt(e,"input")||Dt(e,"button"))&&e.type===t}}function nr(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Pr(e)===t:e.disabled===t:"label"in e?e.disabled===t:!1}}function Ze(t){return Pe(function(e){return e=+e,Pe(function(n,a){for(var l,u=t([],n.length,e),x=u.length;x--;)n[l=u[x]]&&(n[l]=!(a[l]=n[l]))})})}function ar(t){return t&&typeof t.getElementsByTagName<"u"&&t}function le(t){var e,n=t?t.ownerDocument||t:E;return n==A||n.nodeType!==9||!n.documentElement||(A=n,H=A.documentElement,T=!c.isXMLDoc(A),xt=H.matches||H.webkitMatchesSelector||H.msMatchesSelector,E!=A&&(e=A.defaultView)&&e.top!==e&&e.addEventListener("unload",Mr),Q.getById=nt(function(a){return H.appendChild(a).id=c.expando,!A.getElementsByName||!A.getElementsByName(c.expando).length}),Q.disconnectedMatch=nt(function(a){return xt.call(a,"*")}),Q.scope=nt(function(){return A.querySelectorAll(":scope")}),Q.cssHas=nt(function(){try{return A.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Q.getById?(o.filter.ID=function(a){var l=a.replace(Ie,Me);return function(u){return u.getAttribute("id")===l}},o.find.ID=function(a,l){if(typeof l.getElementById<"u"&&T){var u=l.getElementById(a);return u?[u]:[]}}):(o.filter.ID=function(a){var l=a.replace(Ie,Me);return function(u){var x=typeof u.getAttributeNode<"u"&&u.getAttributeNode("id");return x&&x.value===l}},o.find.ID=function(a,l){if(typeof l.getElementById<"u"&&T){var u,x,g,m=l.getElementById(a);if(m){if(u=m.getAttributeNode("id"),u&&u.value===a)return[m];for(g=l.getElementsByName(a),x=0;m=g[x++];)if(u=m.getAttributeNode("id"),u&&u.value===a)return[m]}return[]}}),o.find.TAG=function(a,l){return typeof l.getElementsByTagName<"u"?l.getElementsByTagName(a):l.querySelectorAll(a)},o.find.CLASS=function(a,l){if(typeof l.getElementsByClassName<"u"&&T)return l.getElementsByClassName(a)},Y=[],nt(function(a){var l;H.appendChild(a).innerHTML="<a id='"+Nt+"' href='' disabled='disabled'></a><select id='"+Nt+"-\r\\' disabled='disabled'><option selected=''></option></select>",a.querySelectorAll("[selected]").length||Y.push("\\["+St+"*(?:value|"+Te+")"),a.querySelectorAll("[id~="+Nt+"-]").length||Y.push("~="),a.querySelectorAll("a#"+Nt+"+*").length||Y.push(".#.+[+~]"),a.querySelectorAll(":checked").length||Y.push(":checked"),l=A.createElement("input"),l.setAttribute("type","hidden"),a.appendChild(l).setAttribute("name","D"),H.appendChild(a).disabled=!0,a.querySelectorAll(":disabled").length!==2&&Y.push(":enabled",":disabled"),l=A.createElement("input"),l.setAttribute("name",""),a.appendChild(l),a.querySelectorAll("[name='']").length||Y.push("\\["+St+"*name"+St+"*="+St+`*(?:''|"")`)}),Q.cssHas||Y.push(":has"),Y=Y.length&&new RegExp(Y.join("|")),he=function(a,l){if(a===l)return w=!0,0;var u=!a.compareDocumentPosition-!l.compareDocumentPosition;return u||(u=(a.ownerDocument||a)==(l.ownerDocument||l)?a.compareDocumentPosition(l):1,u&1||!Q.sortDetached&&l.compareDocumentPosition(a)===u?a===A||a.ownerDocument==E&&re.contains(E,a)?-1:l===A||l.ownerDocument==E&&re.contains(E,l)?1:p?O.call(p,a)-O.call(p,l):0:u&4?-1:1)}),A}re.matches=function(t,e){return re(t,null,null,e)},re.matchesSelector=function(t,e){if(le(t),T&&!fe[e+" "]&&(!Y||!Y.test(e)))try{var n=xt.call(t,e);if(n||Q.disconnectedMatch||t.document&&t.document.nodeType!==11)return n}catch{fe(e,!0)}return re(e,A,null,[t]).length>0},re.contains=function(t,e){return(t.ownerDocument||t)!=A&&le(t),c.contains(t,e)},re.attr=function(t,e){(t.ownerDocument||t)!=A&&le(t);var n=o.attrHandle[e.toLowerCase()],a=n&&X.call(o.attrHandle,e.toLowerCase())?n(t,e,!T):void 0;return a!==void 0?a:t.getAttribute(e)},re.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},c.uniqueSort=function(t){var e,n=[],a=0,l=0;if(w=!Q.sortStable,p=!Q.sortStable&&rt.call(t,0),kt.call(t,he),w){for(;e=t[l++];)e===t[l]&&(a=n.push(l));for(;a--;)It.call(t,n[a],1)}return p=null,t},c.fn.uniqueSort=function(){return this.pushStack(c.uniqueSort(rt.apply(this)))},o=c.expr={cacheLength:50,createPseudo:Pe,match:Ae,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ie,Me),t[3]=(t[3]||t[4]||t[5]||"").replace(Ie,Me),t[2]==="~="&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),t[1].slice(0,3)==="nth"?(t[3]||re.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(t[3]==="even"||t[3]==="odd")),t[5]=+(t[7]+t[8]||t[3]==="odd")):t[3]&&re.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Ae.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&_e.test(n)&&(e=Ai(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ie,Me).toLowerCase();return t==="*"?function(){return!0}:function(n){return Dt(n,e)}},CLASS:function(t){var e=Xt[t+" "];return e||(e=new RegExp("(^|"+St+")"+t+"("+St+"|$)"))&&Xt(t,function(n){return e.test(typeof n.className=="string"&&n.className||typeof n.getAttribute<"u"&&n.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(a){var l=re.attr(a,t);return l==null?e==="!=":e?(l+="",e==="="?l===n:e==="!="?l!==n:e==="^="?n&&l.indexOf(n)===0:e==="*="?n&&l.indexOf(n)>-1:e==="$="?n&&l.slice(-n.length)===n:e==="~="?(" "+l.replace($t," ")+" ").indexOf(n)>-1:e==="|="?l===n||l.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,n,a,l){var u=t.slice(0,3)!=="nth",x=t.slice(-4)!=="last",g=e==="of-type";return a===1&&l===0?function(m){return!!m.parentNode}:function(m,k,N){var L,y,S,D,W,C=u!==x?"nextSibling":"previousSibling",V=m.parentNode,P=g&&m.nodeName.toLowerCase(),B=!N&&!g,j=!1;if(V){if(u){for(;C;){for(S=m;S=S[C];)if(g?Dt(S,P):S.nodeType===1)return!1;W=C=t==="only"&&!W&&"nextSibling"}return!0}if(W=[x?V.firstChild:V.lastChild],x&&B){for(y=V[Nt]||(V[Nt]={}),L=y[t]||[],D=L[0]===ht&&L[1],j=D&&L[2],S=D&&V.childNodes[D];S=++D&&S&&S[C]||(j=D=0)||W.pop();)if(S.nodeType===1&&++j&&S===m){y[t]=[ht,D,j];break}}else if(B&&(y=m[Nt]||(m[Nt]={}),L=y[t]||[],D=L[0]===ht&&L[1],j=D),j===!1)for(;(S=++D&&S&&S[C]||(j=D=0)||W.pop())&&!((g?Dt(S,P):S.nodeType===1)&&++j&&(B&&(y=S[Nt]||(S[Nt]={}),y[t]=[ht,j]),S===m)););return j-=l,j===a||j%a===0&&j/a>=0}}},PSEUDO:function(t,e){var n,a=o.pseudos[t]||o.setFilters[t.toLowerCase()]||re.error("unsupported pseudo: "+t);return a[Nt]?a(e):a.length>1?(n=[t,t,"",e],o.setFilters.hasOwnProperty(t.toLowerCase())?Pe(function(l,u){for(var x,g=a(l,e),m=g.length;m--;)x=O.call(l,g[m]),l[x]=!(u[x]=g[m])}):function(l){return a(l,0,n)}):a}},pseudos:{not:Pe(function(t){var e=[],n=[],a=hr(t.replace(r,"$1"));return a[Nt]?Pe(function(l,u,x,g){for(var m,k=a(l,null,g,[]),N=l.length;N--;)(m=k[N])&&(l[N]=!(u[N]=m))}):function(l,u,x){return e[0]=l,a(e,null,x,n),e[0]=null,!n.pop()}}),has:Pe(function(t){return function(e){return re(t,e).length>0}}),contains:Pe(function(t){return t=t.replace(Ie,Me),function(e){return(e.textContent||c.text(e)).indexOf(t)>-1}}),lang:Pe(function(t){return Ye.test(t||"")||re.error("unsupported lang: "+t),t=t.replace(Ie,Me).toLowerCase(),function(e){var n;do if(n=T?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||n.indexOf(t+"-")===0;while((e=e.parentNode)&&e.nodeType===1);return!1}}),target:function(t){var e=F.location&&F.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===H},focus:function(t){return t===ki()&&A.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:nr(!1),disabled:nr(!0),checked:function(t){return Dt(t,"input")&&!!t.checked||Dt(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!o.pseudos.empty(t)},header:function(t){return We.test(t.nodeName)},input:function(t){return Oe.test(t.nodeName)},button:function(t){return Dt(t,"input")&&t.type==="button"||Dt(t,"button")},text:function(t){var e;return Dt(t,"input")&&t.type==="text"&&((e=t.getAttribute("type"))==null||e.toLowerCase()==="text")},first:Ze(function(){return[0]}),last:Ze(function(t,e){return[e-1]}),eq:Ze(function(t,e,n){return[n<0?n+e:n]}),even:Ze(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:Ze(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:Ze(function(t,e,n){var a;for(n<0?a=n+e:n>e?a=e:a=n;--a>=0;)t.push(a);return t}),gt:Ze(function(t,e,n){for(var a=n<0?n+e:n;++a<e;)t.push(a);return t})}},o.pseudos.nth=o.pseudos.eq;for(s in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[s]=hs(s);for(s in{submit:!0,reset:!0})o.pseudos[s]=ls(s);function Tr(){}Tr.prototype=o.filters=o.pseudos,o.setFilters=new Tr;function Ai(t,e){var n,a,l,u,x,g,m,k=Vt[t+" "];if(k)return e?0:k.slice(0);for(x=t,g=[],m=o.preFilter;x;){(!n||(a=ne.exec(x)))&&(a&&(x=x.slice(a[0].length)||x),g.push(l=[])),n=!1,(a=bi.exec(x))&&(n=a.shift(),l.push({value:n,type:a[0].replace(r," ")}),x=x.slice(n.length));for(u in o.filter)(a=Ae[u].exec(x))&&(!m[u]||(a=m[u](a)))&&(n=a.shift(),l.push({value:n,type:u,matches:a}),x=x.slice(n.length));if(!n)break}return e?x.length:x?re.error(t):Vt(t,g).slice(0)}function Ri(t){for(var e=0,n=t.length,a="";e<n;e++)a+=t[e].value;return a}function _i(t,e,n){var a=e.dir,l=e.next,u=l||a,x=n&&u==="parentNode",g=Mt++;return e.first?function(m,k,N){for(;m=m[a];)if(m.nodeType===1||x)return t(m,k,N);return!1}:function(m,k,N){var L,y,S=[ht,g];if(N){for(;m=m[a];)if((m.nodeType===1||x)&&t(m,k,N))return!0}else for(;m=m[a];)if(m.nodeType===1||x)if(y=m[Nt]||(m[Nt]={}),l&&Dt(m,l))m=m[a]||m;else{if((L=y[u])&&L[0]===ht&&L[1]===g)return S[2]=L[2];if(y[u]=S,S[2]=t(m,k,N))return!0}return!1}}function zi(t){return t.length>1?function(e,n,a){for(var l=t.length;l--;)if(!t[l](e,n,a))return!1;return!0}:t[0]}function Rr(t,e,n){for(var a=0,l=e.length;a<l;a++)re(t,e[a],n);return n}function ze(t,e,n,a,l){for(var u,x=[],g=0,m=t.length,k=e!=null;g<m;g++)(u=t[g])&&(!n||n(u,a,l))&&(x.push(u),k&&e.push(g));return x}function ce(t,e,n,a,l,u){return a&&!a[Nt]&&(a=ce(a)),l&&!l[Nt]&&(l=ce(l,u)),Pe(function(x,g,m,k){var N,L,y,S,D=[],W=[],C=g.length,V=x||Rr(e||"*",m.nodeType?[m]:m,[]),P=t&&(x||!e)?ze(V,D,t,m,k):V;if(n?(S=l||(x?t:C||a)?[]:g,n(P,S,m,k)):S=P,a)for(N=ze(S,W),a(N,[],m,k),L=N.length;L--;)(y=N[L])&&(S[W[L]]=!(P[W[L]]=y));if(x){if(l||t){if(l){for(N=[],L=S.length;L--;)(y=S[L])&&N.push(P[L]=y);l(null,S=[],N,k)}for(L=S.length;L--;)(y=S[L])&&(N=l?O.call(x,y):D[L])>-1&&(x[N]=!(g[N]=y))}}else S=ze(S===g?S.splice(C,S.length):S),l?l(null,g,S,k):b.apply(g,S)})}function or(t){for(var e,n,a,l=t.length,u=o.relative[t[0].type],x=u||o.relative[" "],g=u?1:0,m=_i(function(L){return L===e},x,!0),k=_i(function(L){return O.call(e,L)>-1},x,!0),N=[function(L,y,S){var D=!u&&(S||y!=f)||((e=y).nodeType?m(L,y,S):k(L,y,S));return e=null,D}];g<l;g++)if(n=o.relative[t[g].type])N=[_i(zi(N),n)];else{if(n=o.filter[t[g].type].apply(null,t[g].matches),n[Nt]){for(a=++g;a<l&&!o.relative[t[a].type];a++);return ce(g>1&&zi(N),g>1&&Ri(t.slice(0,g-1).concat({value:t[g-2].type===" "?"*":""})).replace(r,"$1"),n,g<a&&or(t.slice(g,a)),a<l&&or(t=t.slice(a)),a<l&&Ri(t))}N.push(n)}return zi(N)}function ds(t,e){var n=e.length>0,a=t.length>0,l=function(u,x,g,m,k){var N,L,y,S=0,D="0",W=u&&[],C=[],V=f,P=u||a&&o.find.TAG("*",k),B=ht+=V==null?1:Math.random()||.1,j=P.length;for(k&&(f=x==A||x||k);D!==j&&(N=P[D])!=null;D++){if(a&&N){for(L=0,!x&&N.ownerDocument!=A&&(le(N),g=!T);y=t[L++];)if(y(N,x||A,g)){b.call(m,N);break}k&&(ht=B)}n&&((N=!y&&N)&&S--,u&&W.push(N))}if(S+=D,n&&D!==S){for(L=0;y=e[L++];)y(W,C,x,g);if(u){if(S>0)for(;D--;)W[D]||C[D]||(C[D]=Ht.call(m));C=ze(C)}b.apply(m,C),k&&!u&&C.length>0&&S+e.length>1&&c.uniqueSort(m)}return k&&(ht=B,f=V),W};return n?Pe(l):l}function hr(t,e){var n,a=[],l=[],u=Jt[t+" "];if(!u){for(e||(e=Ai(t)),n=e.length;n--;)u=or(e[n]),u[Nt]?a.push(u):l.push(u);u=Jt(t,ds(l,a)),u.selector=t}return u}function z(t,e,n,a){var l,u,x,g,m,k=typeof t=="function"&&t,N=!a&&Ai(t=k.selector||t);if(n=n||[],N.length===1){if(u=N[0]=N[0].slice(0),u.length>2&&(x=u[0]).type==="ID"&&e.nodeType===9&&T&&o.relative[u[1].type]){if(e=(o.find.ID(x.matches[0].replace(Ie,Me),e)||[])[0],e)k&&(e=e.parentNode);else return n;t=t.slice(u.shift().value.length)}for(l=Ae.needsContext.test(t)?0:u.length;l--&&(x=u[l],!o.relative[g=x.type]);)if((m=o.find[g])&&(a=m(x.matches[0].replace(Ie,Me),Pi.test(u[0].type)&&ar(e.parentNode)||e))){if(u.splice(l,1),t=a.length&&Ri(u),!t)return b.apply(n,a),n;break}}return(k||hr(t,N))(a,e,!T,n,!e||Pi.test(t)&&ar(e.parentNode)||e),n}Q.sortStable=Nt.split("").sort(he).join("")===Nt,le(),Q.sortDetached=nt(function(t){return t.compareDocumentPosition(A.createElement("fieldset"))&1}),c.find=re,c.expr[":"]=c.expr.pseudos,c.unique=c.uniqueSort,re.compile=hr,re.select=z,re.setDocument=le,re.escape=c.escapeSelector,re.getText=c.text,re.isXML=c.isXMLDoc,re.selectors=c.expr,re.support=c.support,re.uniqueSort=c.uniqueSort})();var J=function(s,o,f){for(var p=[],w=f!==void 0;(s=s[o])&&s.nodeType!==9;)if(s.nodeType===1){if(w&&c(s).is(f))break;p.push(s)}return p},ut=function(s,o){for(var f=[];s;s=s.nextSibling)s.nodeType===1&&s!==o&&f.push(s);return f},dt=c.expr.match.needsContext,gt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function qt(s,o,f){return tt(o)?c.grep(s,function(p,w){return!!o.call(p,w,p)!==f}):o.nodeType?c.grep(s,function(p){return p===o!==f}):typeof o!="string"?c.grep(s,function(p){return O.call(o,p)>-1!==f}):c.filter(o,s,f)}c.filter=function(s,o,f){var p=o[0];return f&&(s=":not("+s+")"),o.length===1&&p.nodeType===1?c.find.matchesSelector(p,s)?[p]:[]:c.find.matches(s,c.grep(o,function(w){return w.nodeType===1}))},c.fn.extend({find:function(s){var o,f,p=this.length,w=this;if(typeof s!="string")return this.pushStack(c(s).filter(function(){for(o=0;o<p;o++)if(c.contains(w[o],this))return!0}));for(f=this.pushStack([]),o=0;o<p;o++)c.find(s,w[o],f);return p>1?c.uniqueSort(f):f},filter:function(s){return this.pushStack(qt(this,s||[],!1))},not:function(s){return this.pushStack(qt(this,s||[],!0))},is:function(s){return!!qt(this,typeof s=="string"&&dt.test(s)?c(s):s||[],!1).length}});var Ut,ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Qt=c.fn.init=function(s,o,f){var p,w;if(!s)return this;if(f=f||Ut,typeof s=="string")if(s[0]==="<"&&s[s.length-1]===">"&&s.length>=3?p=[null,s,null]:p=ae.exec(s),p&&(p[1]||!o))if(p[1]){if(o=o instanceof c?o[0]:o,c.merge(this,c.parseHTML(p[1],o&&o.nodeType?o.ownerDocument||o:M,!0)),gt.test(p[1])&&c.isPlainObject(o))for(p in o)tt(this[p])?this[p](o[p]):this.attr(p,o[p]);return this}else return w=M.getElementById(p[2]),w&&(this[0]=w,this.length=1),this;else return!o||o.jquery?(o||f).find(s):this.constructor(o).find(s);else{if(s.nodeType)return this[0]=s,this.length=1,this;if(tt(s))return f.ready!==void 0?f.ready(s):s(c)}return c.makeArray(s,this)};Qt.prototype=c.fn,Ut=c(M);var Ce=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({has:function(s){var o=c(s,this),f=o.length;return this.filter(function(){for(var p=0;p<f;p++)if(c.contains(this,o[p]))return!0})},closest:function(s,o){var f,p=0,w=this.length,b=[],A=typeof s!="string"&&c(s);if(!dt.test(s)){for(;p<w;p++)for(f=this[p];f&&f!==o;f=f.parentNode)if(f.nodeType<11&&(A?A.index(f)>-1:f.nodeType===1&&c.find.matchesSelector(f,s))){b.push(f);break}}return this.pushStack(b.length>1?c.uniqueSort(b):b)},index:function(s){return s?typeof s=="string"?O.call(c(s),this[0]):O.call(this,s.jquery?s[0]:s):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(s,o){return this.pushStack(c.uniqueSort(c.merge(this.get(),c(s,o))))},addBack:function(s){return this.add(s==null?this.prevObject:this.prevObject.filter(s))}});function qe(s,o){for(;(s=s[o])&&s.nodeType!==1;);return s}c.each({parent:function(s){var o=s.parentNode;return o&&o.nodeType!==11?o:null},parents:function(s){return J(s,"parentNode")},parentsUntil:function(s,o,f){return J(s,"parentNode",f)},next:function(s){return qe(s,"nextSibling")},prev:function(s){return qe(s,"previousSibling")},nextAll:function(s){return J(s,"nextSibling")},prevAll:function(s){return J(s,"previousSibling")},nextUntil:function(s,o,f){return J(s,"nextSibling",f)},prevUntil:function(s,o,f){return J(s,"previousSibling",f)},siblings:function(s){return ut((s.parentNode||{}).firstChild,s)},children:function(s){return ut(s.firstChild)},contents:function(s){return s.contentDocument!=null&&d(s.contentDocument)?s.contentDocument:(Dt(s,"template")&&(s=s.content||s),c.merge([],s.childNodes))}},function(s,o){c.fn[s]=function(f,p){var w=c.map(this,o,f);return s.slice(-5)!=="Until"&&(p=f),p&&typeof p=="string"&&(w=c.filter(p,w)),this.length>1&&(Ee[s]||c.uniqueSort(w),Ce.test(s)&&w.reverse()),this.pushStack(w)}});var Zt=/[^\x20\t\r\n\f]+/g;function De(s){var o={};return c.each(s.match(Zt)||[],function(f,p){o[p]=!0}),o}c.Callbacks=function(s){s=typeof s=="string"?De(s):c.extend({},s);var o,f,p,w,b=[],A=[],H=-1,T=function(){for(w=w||s.once,p=o=!0;A.length;H=-1)for(f=A.shift();++H<b.length;)b[H].apply(f[0],f[1])===!1&&s.stopOnFalse&&(H=b.length,f=!1);s.memory||(f=!1),o=!1,w&&(f?b=[]:b="")},Y={add:function(){return b&&(f&&!o&&(H=b.length-1,A.push(f)),function xt(Nt){c.each(Nt,function(ht,Mt){tt(Mt)?(!s.unique||!Y.has(Mt))&&b.push(Mt):Mt&&Mt.length&&ft(Mt)!=="string"&&xt(Mt)})}(arguments),f&&!o&&T()),this},remove:function(){return c.each(arguments,function(xt,Nt){for(var ht;(ht=c.inArray(Nt,b,ht))>-1;)b.splice(ht,1),ht<=H&&H--}),this},has:function(xt){return xt?c.inArray(xt,b)>-1:b.length>0},empty:function(){return b&&(b=[]),this},disable:function(){return w=A=[],b=f="",this},disabled:function(){return!b},lock:function(){return w=A=[],!f&&!o&&(b=f=""),this},locked:function(){return!!w},fireWith:function(xt,Nt){return w||(Nt=Nt||[],Nt=[xt,Nt.slice?Nt.slice():Nt],A.push(Nt),o||T()),this},fire:function(){return Y.fireWith(this,arguments),this},fired:function(){return!!p}};return Y};function oe(s){return s}function Xe(s){throw s}function $e(s,o,f,p){var w;try{s&&tt(w=s.promise)?w.call(s).done(o).fail(f):s&&tt(w=s.then)?w.call(s,o,f):o.apply(void 0,[s].slice(p))}catch(b){f.apply(void 0,[b])}}c.extend({Deferred:function(s){var o=[["notify","progress",c.Callbacks("memory"),c.Callbacks("memory"),2],["resolve","done",c.Callbacks("once memory"),c.Callbacks("once memory"),0,"resolved"],["reject","fail",c.Callbacks("once memory"),c.Callbacks("once memory"),1,"rejected"]],f="pending",p={state:function(){return f},always:function(){return w.done(arguments).fail(arguments),this},catch:function(b){return p.then(null,b)},pipe:function(){var b=arguments;return c.Deferred(function(A){c.each(o,function(H,T){var Y=tt(b[T[4]])&&b[T[4]];w[T[1]](function(){var xt=Y&&Y.apply(this,arguments);xt&&tt(xt.promise)?xt.promise().progress(A.notify).done(A.resolve).fail(A.reject):A[T[0]+"With"](this,Y?[xt]:arguments)})}),b=null}).promise()},then:function(b,A,H){var T=0;function Y(xt,Nt,ht,Mt){return function(){var Xt=this,Vt=arguments,Jt=function(){var he,Te;if(!(xt<T)){if(he=ht.apply(Xt,Vt),he===Nt.promise())throw new TypeError("Thenable self-resolution");Te=he&&(typeof he=="object"||typeof he=="function")&&he.then,tt(Te)?Mt?Te.call(he,Y(T,Nt,oe,Mt),Y(T,Nt,Xe,Mt)):(T++,Te.call(he,Y(T,Nt,oe,Mt),Y(T,Nt,Xe,Mt),Y(T,Nt,oe,Nt.notifyWith))):(ht!==oe&&(Xt=void 0,Vt=[he]),(Mt||Nt.resolveWith)(Xt,Vt))}},fe=Mt?Jt:function(){try{Jt()}catch(he){c.Deferred.exceptionHook&&c.Deferred.exceptionHook(he,fe.error),xt+1>=T&&(ht!==Xe&&(Xt=void 0,Vt=[he]),Nt.rejectWith(Xt,Vt))}};xt?fe():(c.Deferred.getErrorHook?fe.error=c.Deferred.getErrorHook():c.Deferred.getStackHook&&(fe.error=c.Deferred.getStackHook()),F.setTimeout(fe))}}return c.Deferred(function(xt){o[0][3].add(Y(0,xt,tt(H)?H:oe,xt.notifyWith)),o[1][3].add(Y(0,xt,tt(b)?b:oe)),o[2][3].add(Y(0,xt,tt(A)?A:Xe))}).promise()},promise:function(b){return b!=null?c.extend(b,p):p}},w={};return c.each(o,function(b,A){var H=A[2],T=A[5];p[A[1]]=H.add,T&&H.add(function(){f=T},o[3-b][2].disable,o[3-b][3].disable,o[0][2].lock,o[0][3].lock),H.add(A[3].fire),w[A[0]]=function(){return w[A[0]+"With"](this===w?void 0:this,arguments),this},w[A[0]+"With"]=H.fireWith}),p.promise(w),s&&s.call(w,w),w},when:function(s){var o=arguments.length,f=o,p=Array(f),w=rt.call(arguments),b=c.Deferred(),A=function(H){return function(T){p[H]=this,w[H]=arguments.length>1?rt.call(arguments):T,--o||b.resolveWith(p,w)}};if(o<=1&&($e(s,b.done(A(f)).resolve,b.reject,!o),b.state()==="pending"||tt(w[f]&&w[f].then)))return b.then();for(;f--;)$e(w[f],A(f),b.reject);return b.promise()}});var pi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;c.Deferred.exceptionHook=function(s,o){F.console&&F.console.warn&&s&&pi.test(s.name)&&F.console.warn("jQuery.Deferred exception: "+s.message,s.stack,o)},c.readyException=function(s){F.setTimeout(function(){throw s})};var Ue=c.Deferred();c.fn.ready=function(s){return Ue.then(s).catch(function(o){c.readyException(o)}),this},c.extend({isReady:!1,readyWait:1,ready:function(s){(s===!0?--c.readyWait:c.isReady)||(c.isReady=!0,!(s!==!0&&--c.readyWait>0)&&Ue.resolveWith(M,[c]))}}),c.ready.then=Ue.then;function ti(){M.removeEventListener("DOMContentLoaded",ti),F.removeEventListener("load",ti),c.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?F.setTimeout(c.ready):(M.addEventListener("DOMContentLoaded",ti),F.addEventListener("load",ti));var xe=function(s,o,f,p,w,b,A){var H=0,T=s.length,Y=f==null;if(ft(f)==="object"){w=!0;for(H in f)xe(s,o,H,f[H],!0,b,A)}else if(p!==void 0&&(w=!0,tt(p)||(A=!0),Y&&(A?(o.call(s,p),o=null):(Y=o,o=function(xt,Nt,ht){return Y.call(c(xt),ht)})),o))for(;H<T;H++)o(s[H],f,A?p:p.call(s[H],H,o(s[H],f)));return w?s:Y?o.call(s):T?o(s[0],f):b},Be=/^-ms-/,we=/-([a-z])/g;function He(s,o){return o.toUpperCase()}function me(s){return s.replace(Be,"ms-").replace(we,He)}var ei=function(s){return s.nodeType===1||s.nodeType===9||!+s.nodeType};function Le(){this.expando=c.expando+Le.uid++}Le.uid=1,Le.prototype={cache:function(s){var o=s[this.expando];return o||(o={},ei(s)&&(s.nodeType?s[this.expando]=o:Object.defineProperty(s,this.expando,{value:o,configurable:!0}))),o},set:function(s,o,f){var p,w=this.cache(s);if(typeof o=="string")w[me(o)]=f;else for(p in o)w[me(p)]=o[p];return w},get:function(s,o){return o===void 0?this.cache(s):s[this.expando]&&s[this.expando][me(o)]},access:function(s,o,f){return o===void 0||o&&typeof o=="string"&&f===void 0?this.get(s,o):(this.set(s,o,f),f!==void 0?f:o)},remove:function(s,o){var f,p=s[this.expando];if(p!==void 0){if(o!==void 0)for(Array.isArray(o)?o=o.map(me):(o=me(o),o=o in p?[o]:o.match(Zt)||[]),f=o.length;f--;)delete p[o[f]];(o===void 0||c.isEmptyObject(p))&&(s.nodeType?s[this.expando]=void 0:delete s[this.expando])}},hasData:function(s){var o=s[this.expando];return o!==void 0&&!c.isEmptyObject(o)}};var jt=new Le,ge=new Le,Hi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ji=/[A-Z]/g;function ii(s){return s==="true"?!0:s==="false"?!1:s==="null"?null:s===+s+""?+s:Hi.test(s)?JSON.parse(s):s}function ri(s,o,f){var p;if(f===void 0&&s.nodeType===1)if(p="data-"+o.replace(ji,"-$&").toLowerCase(),f=s.getAttribute(p),typeof f=="string"){try{f=ii(f)}catch{}ge.set(s,o,f)}else f=void 0;return f}c.extend({hasData:function(s){return ge.hasData(s)||jt.hasData(s)},data:function(s,o,f){return ge.access(s,o,f)},removeData:function(s,o){ge.remove(s,o)},_data:function(s,o,f){return jt.access(s,o,f)},_removeData:function(s,o){jt.remove(s,o)}}),c.fn.extend({data:function(s,o){var f,p,w,b=this[0],A=b&&b.attributes;if(s===void 0){if(this.length&&(w=ge.get(b),b.nodeType===1&&!jt.get(b,"hasDataAttrs"))){for(f=A.length;f--;)A[f]&&(p=A[f].name,p.indexOf("data-")===0&&(p=me(p.slice(5)),ri(b,p,w[p])));jt.set(b,"hasDataAttrs",!0)}return w}return typeof s=="object"?this.each(function(){ge.set(this,s)}):xe(this,function(H){var T;if(b&&H===void 0)return T=ge.get(b,s),T!==void 0||(T=ri(b,s),T!==void 0)?T:void 0;this.each(function(){ge.set(this,s,H)})},null,o,arguments.length>1,null,!0)},removeData:function(s){return this.each(function(){ge.remove(this,s)})}}),c.extend({queue:function(s,o,f){var p;if(s)return o=(o||"fx")+"queue",p=jt.get(s,o),f&&(!p||Array.isArray(f)?p=jt.access(s,o,c.makeArray(f)):p.push(f)),p||[]},dequeue:function(s,o){o=o||"fx";var f=c.queue(s,o),p=f.length,w=f.shift(),b=c._queueHooks(s,o),A=function(){c.dequeue(s,o)};w==="inprogress"&&(w=f.shift(),p--),w&&(o==="fx"&&f.unshift("inprogress"),delete b.stop,w.call(s,A,b)),!p&&b&&b.empty.fire()},_queueHooks:function(s,o){var f=o+"queueHooks";return jt.get(s,f)||jt.access(s,f,{empty:c.Callbacks("once memory").add(function(){jt.remove(s,[o+"queue",f])})})}}),c.fn.extend({queue:function(s,o){var f=2;return typeof s!="string"&&(o=s,s="fx",f--),arguments.length<f?c.queue(this[0],s):o===void 0?this:this.each(function(){var p=c.queue(this,s,o);c._queueHooks(this,s),s==="fx"&&p[0]!=="inprogress"&&c.dequeue(this,s)})},dequeue:function(s){return this.each(function(){c.dequeue(this,s)})},clearQueue:function(s){return this.queue(s||"fx",[])},promise:function(s,o){var f,p=1,w=c.Deferred(),b=this,A=this.length,H=function(){--p||w.resolveWith(b,[b])};for(typeof s!="string"&&(o=s,s=void 0),s=s||"fx";A--;)f=jt.get(b[A],s+"queueHooks"),f&&f.empty&&(p++,f.empty.add(H));return H(),w.promise(o)}});var Oi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,si=new RegExp("^(?:([+-])=|)("+Oi+")([a-z%]*)$","i"),Se=["Top","Right","Bottom","Left"],Ke=M.documentElement,ni=function(s){return c.contains(s.ownerDocument,s)},Wi={composed:!0};Ke.getRootNode&&(ni=function(s){return c.contains(s.ownerDocument,s)||s.getRootNode(Wi)===s.ownerDocument});var gi=function(s,o){return s=o||s,s.style.display==="none"||s.style.display===""&&ni(s)&&c.css(s,"display")==="none"};function Ei(s,o,f,p){var w,b,A=20,H=p?function(){return p.cur()}:function(){return c.css(s,o,"")},T=H(),Y=f&&f[3]||(c.cssNumber[o]?"":"px"),xt=s.nodeType&&(c.cssNumber[o]||Y!=="px"&&+T)&&si.exec(c.css(s,o));if(xt&&xt[3]!==Y){for(T=T/2,Y=Y||xt[3],xt=+T||1;A--;)c.style(s,o,xt+Y),(1-b)*(1-(b=H()/T||.5))<=0&&(A=0),xt=xt/b;xt=xt*2,c.style(s,o,xt+Y),f=f||[]}return f&&(xt=+xt||+T||0,w=f[1]?xt+(f[1]+1)*f[2]:+f[2],p&&(p.unit=Y,p.start=xt,p.end=w)),w}var Qi={};function qi(s){var o,f=s.ownerDocument,p=s.nodeName,w=Qi[p];return w||(o=f.body.appendChild(f.createElement(p)),w=c.css(o,"display"),o.parentNode.removeChild(o),w==="none"&&(w="block"),Qi[p]=w,w)}function ai(s,o){for(var f,p,w=[],b=0,A=s.length;b<A;b++)p=s[b],p.style&&(f=p.style.display,o?(f==="none"&&(w[b]=jt.get(p,"display")||null,w[b]||(p.style.display="")),p.style.display===""&&gi(p)&&(w[b]=qi(p))):f!=="none"&&(w[b]="none",jt.set(p,"display",f)));for(b=0;b<A;b++)w[b]!=null&&(s[b].style.display=w[b]);return s}c.fn.extend({show:function(){return ai(this,!0)},hide:function(){return ai(this)},toggle:function(s){return typeof s=="boolean"?s?this.show():this.hide():this.each(function(){gi(this)?c(this).show():c(this).hide()})}});var li=/^(?:checkbox|radio)$/i,Xi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Di=/^$|^module$|\/(?:java|ecma)script/i;(function(){var s=M.createDocumentFragment(),o=s.appendChild(M.createElement("div")),f=M.createElement("input");f.setAttribute("type","radio"),f.setAttribute("checked","checked"),f.setAttribute("name","t"),o.appendChild(f),Q.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,o.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!o.cloneNode(!0).lastChild.defaultValue,o.innerHTML="<option></option>",Q.option=!!o.lastChild})();var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,Q.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);function ve(s,o){var f;return typeof s.getElementsByTagName<"u"?f=s.getElementsByTagName(o||"*"):typeof s.querySelectorAll<"u"?f=s.querySelectorAll(o||"*"):f=[],o===void 0||o&&Dt(s,o)?c.merge([s],f):f}function vi(s,o){for(var f=0,p=s.length;f<p;f++)jt.set(s[f],"globalEval",!o||jt.get(o[f],"globalEval"))}var lr=/<|&#?\w+;/;function di(s,o,f,p,w){for(var b,A,H,T,Y,xt,Nt=o.createDocumentFragment(),ht=[],Mt=0,Xt=s.length;Mt<Xt;Mt++)if(b=s[Mt],b||b===0)if(ft(b)==="object")c.merge(ht,b.nodeType?[b]:b);else if(!lr.test(b))ht.push(o.createTextNode(b));else{for(A=A||Nt.appendChild(o.createElement("div")),H=(Xi.exec(b)||["",""])[1].toLowerCase(),T=be[H]||be._default,A.innerHTML=T[1]+c.htmlPrefilter(b)+T[2],xt=T[0];xt--;)A=A.lastChild;c.merge(ht,A.childNodes),A=Nt.firstChild,A.textContent=""}for(Nt.textContent="",Mt=0;b=ht[Mt++];){if(p&&c.inArray(b,p)>-1){w&&w.push(b);continue}if(Y=ni(b),A=ve(Nt.appendChild(b),"script"),Y&&vi(A),f)for(xt=0;b=A[xt++];)Di.test(b.type||"")&&f.push(b)}return Nt}var ue=/^([^.]*)(?:\.(.+)|)/;function de(){return!0}function Kt(){return!1}function xi(s,o,f,p,w,b){var A,H;if(typeof o=="object"){typeof f!="string"&&(p=p||f,f=void 0);for(H in o)xi(s,H,f,p,o[H],b);return s}if(p==null&&w==null?(w=f,p=f=void 0):w==null&&(typeof f=="string"?(w=p,p=void 0):(w=p,p=f,f=void 0)),w===!1)w=Kt;else if(!w)return s;return b===1&&(A=w,w=function(T){return c().off(T),A.apply(this,arguments)},w.guid=A.guid||(A.guid=c.guid++)),s.each(function(){c.event.add(this,o,w,p,f)})}c.event={global:{},add:function(s,o,f,p,w){var b,A,H,T,Y,xt,Nt,ht,Mt,Xt,Vt,Jt=jt.get(s);if(ei(s))for(f.handler&&(b=f,f=b.handler,w=b.selector),w&&c.find.matchesSelector(Ke,w),f.guid||(f.guid=c.guid++),(T=Jt.events)||(T=Jt.events=Object.create(null)),(A=Jt.handle)||(A=Jt.handle=function(fe){return typeof c<"u"&&c.event.triggered!==fe.type?c.event.dispatch.apply(s,arguments):void 0}),o=(o||"").match(Zt)||[""],Y=o.length;Y--;)H=ue.exec(o[Y])||[],Mt=Vt=H[1],Xt=(H[2]||"").split(".").sort(),Mt&&(Nt=c.event.special[Mt]||{},Mt=(w?Nt.delegateType:Nt.bindType)||Mt,Nt=c.event.special[Mt]||{},xt=c.extend({type:Mt,origType:Vt,data:p,handler:f,guid:f.guid,selector:w,needsContext:w&&c.expr.match.needsContext.test(w),namespace:Xt.join(".")},b),(ht=T[Mt])||(ht=T[Mt]=[],ht.delegateCount=0,(!Nt.setup||Nt.setup.call(s,p,Xt,A)===!1)&&s.addEventListener&&s.addEventListener(Mt,A)),Nt.add&&(Nt.add.call(s,xt),xt.handler.guid||(xt.handler.guid=f.guid)),w?ht.splice(ht.delegateCount++,0,xt):ht.push(xt),c.event.global[Mt]=!0)},remove:function(s,o,f,p,w){var b,A,H,T,Y,xt,Nt,ht,Mt,Xt,Vt,Jt=jt.hasData(s)&&jt.get(s);if(!(!Jt||!(T=Jt.events))){for(o=(o||"").match(Zt)||[""],Y=o.length;Y--;){if(H=ue.exec(o[Y])||[],Mt=Vt=H[1],Xt=(H[2]||"").split(".").sort(),!Mt){for(Mt in T)c.event.remove(s,Mt+o[Y],f,p,!0);continue}for(Nt=c.event.special[Mt]||{},Mt=(p?Nt.delegateType:Nt.bindType)||Mt,ht=T[Mt]||[],H=H[2]&&new RegExp("(^|\\.)"+Xt.join("\\.(?:.*\\.|)")+"(\\.|$)"),A=b=ht.length;b--;)xt=ht[b],(w||Vt===xt.origType)&&(!f||f.guid===xt.guid)&&(!H||H.test(xt.namespace))&&(!p||p===xt.selector||p==="**"&&xt.selector)&&(ht.splice(b,1),xt.selector&&ht.delegateCount--,Nt.remove&&Nt.remove.call(s,xt));A&&!ht.length&&((!Nt.teardown||Nt.teardown.call(s,Xt,Jt.handle)===!1)&&c.removeEvent(s,Mt,Jt.handle),delete T[Mt])}c.isEmptyObject(T)&&jt.remove(s,"handle events")}},dispatch:function(s){var o,f,p,w,b,A,H=new Array(arguments.length),T=c.event.fix(s),Y=(jt.get(this,"events")||Object.create(null))[T.type]||[],xt=c.event.special[T.type]||{};for(H[0]=T,o=1;o<arguments.length;o++)H[o]=arguments[o];if(T.delegateTarget=this,!(xt.preDispatch&&xt.preDispatch.call(this,T)===!1)){for(A=c.event.handlers.call(this,T,Y),o=0;(w=A[o++])&&!T.isPropagationStopped();)for(T.currentTarget=w.elem,f=0;(b=w.handlers[f++])&&!T.isImmediatePropagationStopped();)(!T.rnamespace||b.namespace===!1||T.rnamespace.test(b.namespace))&&(T.handleObj=b,T.data=b.data,p=((c.event.special[b.origType]||{}).handle||b.handler).apply(w.elem,H),p!==void 0&&(T.result=p)===!1&&(T.preventDefault(),T.stopPropagation()));return xt.postDispatch&&xt.postDispatch.call(this,T),T.result}},handlers:function(s,o){var f,p,w,b,A,H=[],T=o.delegateCount,Y=s.target;if(T&&Y.nodeType&&!(s.type==="click"&&s.button>=1)){for(;Y!==this;Y=Y.parentNode||this)if(Y.nodeType===1&&!(s.type==="click"&&Y.disabled===!0)){for(b=[],A={},f=0;f<T;f++)p=o[f],w=p.selector+" ",A[w]===void 0&&(A[w]=p.needsContext?c(w,this).index(Y)>-1:c.find(w,this,null,[Y]).length),A[w]&&b.push(p);b.length&&H.push({elem:Y,handlers:b})}}return Y=this,T<o.length&&H.push({elem:Y,handlers:o.slice(T)}),H},addProp:function(s,o){Object.defineProperty(c.Event.prototype,s,{enumerable:!0,configurable:!0,get:tt(o)?function(){if(this.originalEvent)return o(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[s]},set:function(f){Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:f})}})},fix:function(s){return s[c.expando]?s:new c.Event(s)},special:{load:{noBubble:!0},click:{setup:function(s){var o=this||s;return li.test(o.type)&&o.click&&Dt(o,"input")&&Gt(o,"click",!0),!1},trigger:function(s){var o=this||s;return li.test(o.type)&&o.click&&Dt(o,"input")&&Gt(o,"click"),!0},_default:function(s){var o=s.target;return li.test(o.type)&&o.click&&Dt(o,"input")&&jt.get(o,"click")||Dt(o,"a")}},beforeunload:{postDispatch:function(s){s.result!==void 0&&s.originalEvent&&(s.originalEvent.returnValue=s.result)}}}};function Gt(s,o,f){if(!f){jt.get(s,o)===void 0&&c.event.add(s,o,de);return}jt.set(s,o,!1),c.event.add(s,o,{namespace:!1,handler:function(p){var w,b=jt.get(this,o);if(p.isTrigger&1&&this[o]){if(b)(c.event.special[o]||{}).delegateType&&p.stopPropagation();else if(b=rt.call(arguments),jt.set(this,o,b),this[o](),w=jt.get(this,o),jt.set(this,o,!1),b!==w)return p.stopImmediatePropagation(),p.preventDefault(),w}else b&&(jt.set(this,o,c.event.trigger(b[0],b.slice(1),this)),p.stopPropagation(),p.isImmediatePropagationStopped=de)}})}c.removeEvent=function(s,o,f){s.removeEventListener&&s.removeEventListener(o,f)},c.Event=function(s,o){if(!(this instanceof c.Event))return new c.Event(s,o);s&&s.type?(this.originalEvent=s,this.type=s.type,this.isDefaultPrevented=s.defaultPrevented||s.defaultPrevented===void 0&&s.returnValue===!1?de:Kt,this.target=s.target&&s.target.nodeType===3?s.target.parentNode:s.target,this.currentTarget=s.currentTarget,this.relatedTarget=s.relatedTarget):this.type=s,o&&c.extend(this,o),this.timeStamp=s&&s.timeStamp||Date.now(),this[c.expando]=!0},c.Event.prototype={constructor:c.Event,isDefaultPrevented:Kt,isPropagationStopped:Kt,isImmediatePropagationStopped:Kt,isSimulated:!1,preventDefault:function(){var s=this.originalEvent;this.isDefaultPrevented=de,s&&!this.isSimulated&&s.preventDefault()},stopPropagation:function(){var s=this.originalEvent;this.isPropagationStopped=de,s&&!this.isSimulated&&s.stopPropagation()},stopImmediatePropagation:function(){var s=this.originalEvent;this.isImmediatePropagationStopped=de,s&&!this.isSimulated&&s.stopImmediatePropagation(),this.stopPropagation()}},c.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},c.event.addProp),c.each({focus:"focusin",blur:"focusout"},function(s,o){function f(p){if(M.documentMode){var w=jt.get(this,"handle"),b=c.event.fix(p);b.type=p.type==="focusin"?"focus":"blur",b.isSimulated=!0,w(p),b.target===b.currentTarget&&w(b)}else c.event.simulate(o,p.target,c.event.fix(p))}c.event.special[s]={setup:function(){var p;if(Gt(this,s,!0),M.documentMode)p=jt.get(this,o),p||this.addEventListener(o,f),jt.set(this,o,(p||0)+1);else return!1},trigger:function(){return Gt(this,s),!0},teardown:function(){var p;if(M.documentMode)p=jt.get(this,o)-1,p?jt.set(this,o,p):(this.removeEventListener(o,f),jt.remove(this,o));else return!1},_default:function(p){return jt.get(p.target,s)},delegateType:o},c.event.special[o]={setup:function(){var p=this.ownerDocument||this.document||this,w=M.documentMode?this:p,b=jt.get(w,o);b||(M.documentMode?this.addEventListener(o,f):p.addEventListener(s,f,!0)),jt.set(w,o,(b||0)+1)},teardown:function(){var p=this.ownerDocument||this.document||this,w=M.documentMode?this:p,b=jt.get(w,o)-1;b?jt.set(w,o,b):(M.documentMode?this.removeEventListener(o,f):p.removeEventListener(s,f,!0),jt.remove(w,o))}}}),c.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(s,o){c.event.special[s]={delegateType:o,bindType:o,handle:function(f){var p,w=this,b=f.relatedTarget,A=f.handleObj;return(!b||b!==w&&!c.contains(w,b))&&(f.type=A.origType,p=A.handler.apply(this,arguments),f.type=o),p}}}),c.fn.extend({on:function(s,o,f,p){return xi(this,s,o,f,p)},one:function(s,o,f,p){return xi(this,s,o,f,p,1)},off:function(s,o,f){var p,w;if(s&&s.preventDefault&&s.handleObj)return p=s.handleObj,c(s.delegateTarget).off(p.namespace?p.origType+"."+p.namespace:p.origType,p.selector,p.handler),this;if(typeof s=="object"){for(w in s)this.off(w,o,s[w]);return this}return(o===!1||typeof o=="function")&&(f=o,o=void 0),f===!1&&(f=Kt),this.each(function(){c.event.remove(this,s,f,o)})}});var Ui=/<script|<style|<link/i,zr=/checked\s*(?:[^=]|=\s*.checked.)/i,Hr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function dr(s,o){return Dt(s,"table")&&Dt(o.nodeType!==11?o:o.firstChild,"tr")&&c(s).children("tbody")[0]||s}function fr(s){return s.type=(s.getAttribute("type")!==null)+"/"+s.type,s}function jr(s){return(s.type||"").slice(0,5)==="true/"?s.type=s.type.slice(5):s.removeAttribute("type"),s}function cr(s,o){var f,p,w,b,A,H,T;if(o.nodeType===1){if(jt.hasData(s)&&(b=jt.get(s),T=b.events,T)){jt.remove(o,"handle events");for(w in T)for(f=0,p=T[w].length;f<p;f++)c.event.add(o,w,T[w][f])}ge.hasData(s)&&(A=ge.access(s),H=c.extend({},A),ge.set(o,H))}}function Or(s,o){var f=o.nodeName.toLowerCase();f==="input"&&li.test(s.type)?o.checked=s.checked:(f==="input"||f==="textarea")&&(o.defaultValue=s.defaultValue)}function fi(s,o,f,p){o=wt(o);var w,b,A,H,T,Y,xt=0,Nt=s.length,ht=Nt-1,Mt=o[0],Xt=tt(Mt);if(Xt||Nt>1&&typeof Mt=="string"&&!Q.checkClone&&zr.test(Mt))return s.each(function(Vt){var Jt=s.eq(Vt);Xt&&(o[0]=Mt.call(this,Vt,Jt.html())),fi(Jt,o,f,p)});if(Nt&&(w=di(o,s[0].ownerDocument,!1,s,p),b=w.firstChild,w.childNodes.length===1&&(w=b),b||p)){for(A=c.map(ve(w,"script"),fr),H=A.length;xt<Nt;xt++)T=w,xt!==ht&&(T=c.clone(T,!0,!0),H&&c.merge(A,ve(T,"script"))),f.call(s[xt],T,xt);if(H)for(Y=A[A.length-1].ownerDocument,c.map(A,jr),xt=0;xt<H;xt++)T=A[xt],Di.test(T.type||"")&&!jt.access(T,"globalEval")&&c.contains(Y,T)&&(T.src&&(T.type||"").toLowerCase()!=="module"?c._evalUrl&&!T.noModule&&c._evalUrl(T.src,{nonce:T.nonce||T.getAttribute("nonce")},Y):mt(T.textContent.replace(Hr,""),T,Y))}return s}function ur(s,o,f){for(var p,w=o?c.filter(o,s):s,b=0;(p=w[b])!=null;b++)!f&&p.nodeType===1&&c.cleanData(ve(p)),p.parentNode&&(f&&ni(p)&&vi(ve(p,"script")),p.parentNode.removeChild(p));return s}c.extend({htmlPrefilter:function(s){return s},clone:function(s,o,f){var p,w,b,A,H=s.cloneNode(!0),T=ni(s);if(!Q.noCloneChecked&&(s.nodeType===1||s.nodeType===11)&&!c.isXMLDoc(s))for(A=ve(H),b=ve(s),p=0,w=b.length;p<w;p++)Or(b[p],A[p]);if(o)if(f)for(b=b||ve(s),A=A||ve(H),p=0,w=b.length;p<w;p++)cr(b[p],A[p]);else cr(s,H);return A=ve(H,"script"),A.length>0&&vi(A,!T&&ve(s,"script")),H},cleanData:function(s){for(var o,f,p,w=c.event.special,b=0;(f=s[b])!==void 0;b++)if(ei(f)){if(o=f[jt.expando]){if(o.events)for(p in o.events)w[p]?c.event.remove(f,p):c.removeEvent(f,p,o.handle);f[jt.expando]=void 0}f[ge.expando]&&(f[ge.expando]=void 0)}}}),c.fn.extend({detach:function(s){return ur(this,s,!0)},remove:function(s){return ur(this,s)},text:function(s){return xe(this,function(o){return o===void 0?c.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=o)})},null,s,arguments.length)},append:function(){return fi(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var o=dr(this,s);o.appendChild(s)}})},prepend:function(){return fi(this,arguments,function(s){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var o=dr(this,s);o.insertBefore(s,o.firstChild)}})},before:function(){return fi(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this)})},after:function(){return fi(this,arguments,function(s){this.parentNode&&this.parentNode.insertBefore(s,this.nextSibling)})},empty:function(){for(var s,o=0;(s=this[o])!=null;o++)s.nodeType===1&&(c.cleanData(ve(s,!1)),s.textContent="");return this},clone:function(s,o){return s=s??!1,o=o??s,this.map(function(){return c.clone(this,s,o)})},html:function(s){return xe(this,function(o){var f=this[0]||{},p=0,w=this.length;if(o===void 0&&f.nodeType===1)return f.innerHTML;if(typeof o=="string"&&!Ui.test(o)&&!be[(Xi.exec(o)||["",""])[1].toLowerCase()]){o=c.htmlPrefilter(o);try{for(;p<w;p++)f=this[p]||{},f.nodeType===1&&(c.cleanData(ve(f,!1)),f.innerHTML=o);f=0}catch{}}f&&this.empty().append(o)},null,s,arguments.length)},replaceWith:function(){var s=[];return fi(this,arguments,function(o){var f=this.parentNode;c.inArray(this,s)<0&&(c.cleanData(ve(this)),f&&f.replaceChild(o,this))},s)}}),c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,o){c.fn[s]=function(f){for(var p,w=[],b=c(f),A=b.length-1,H=0;H<=A;H++)p=H===A?this:this.clone(!0),c(b[H])[o](p),I.apply(w,p.get());return this.pushStack(w)}});var Ki=new RegExp("^("+Oi+")(?!px)[a-z%]+$","i"),Ji=/^--/,Bi=function(s){var o=s.ownerDocument.defaultView;return(!o||!o.opener)&&(o=F),o.getComputedStyle(s)},pr=function(s,o,f){var p,w,b={};for(w in o)b[w]=s.style[w],s.style[w]=o[w];p=f.call(s);for(w in o)s.style[w]=b[w];return p},cs=new RegExp(Se.join("|"),"i");(function(){function s(){if(Y){T.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Y.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ke.appendChild(T).appendChild(Y);var xt=F.getComputedStyle(Y);f=xt.top!=="1%",H=o(xt.marginLeft)===12,Y.style.right="60%",b=o(xt.right)===36,p=o(xt.width)===36,Y.style.position="absolute",w=o(Y.offsetWidth/3)===12,Ke.removeChild(T),Y=null}}function o(xt){return Math.round(parseFloat(xt))}var f,p,w,b,A,H,T=M.createElement("div"),Y=M.createElement("div");Y.style&&(Y.style.backgroundClip="content-box",Y.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle=Y.style.backgroundClip==="content-box",c.extend(Q,{boxSizingReliable:function(){return s(),p},pixelBoxStyles:function(){return s(),b},pixelPosition:function(){return s(),f},reliableMarginLeft:function(){return s(),H},scrollboxSize:function(){return s(),w},reliableTrDimensions:function(){var xt,Nt,ht,Mt;return A==null&&(xt=M.createElement("table"),Nt=M.createElement("tr"),ht=M.createElement("div"),xt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Nt.style.cssText="border:1px solid",Nt.style.height="1px",ht.style.height="9px",ht.style.display="block",Ke.appendChild(xt).appendChild(Nt).appendChild(ht),Mt=F.getComputedStyle(Nt),A=parseInt(Mt.height,10)+parseInt(Mt.borderTopWidth,10)+parseInt(Mt.borderBottomWidth,10)===Nt.offsetHeight,Ke.removeChild(xt)),A}}))})();function Li(s,o,f){var p,w,b,A,H=Ji.test(o),T=s.style;return f=f||Bi(s),f&&(A=f.getPropertyValue(o)||f[o],H&&A&&(A=A.replace(r,"$1")||void 0),A===""&&!ni(s)&&(A=c.style(s,o)),!Q.pixelBoxStyles()&&Ki.test(A)&&cs.test(o)&&(p=T.width,w=T.minWidth,b=T.maxWidth,T.minWidth=T.maxWidth=T.width=A,A=f.width,T.width=p,T.minWidth=w,T.maxWidth=b)),A!==void 0?A+"":A}function gr(s,o){return{get:function(){if(s()){delete this.get;return}return(this.get=o).apply(this,arguments)}}}var vr=["Webkit","Moz","ms"],Wr=M.createElement("div").style,Si={};function Qr(s){for(var o=s[0].toUpperCase()+s.slice(1),f=vr.length;f--;)if(s=vr[f]+o,s in Wr)return s}function Gi(s){var o=c.cssProps[s]||Si[s];return o||(s in Wr?s:Si[s]=Qr(s)||s)}var qr=/^(none|table(?!-c[ea]).+)/,Xr={position:"absolute",visibility:"hidden",display:"block"},xr={letterSpacing:"0",fontWeight:"400"};function mr(s,o,f){var p=si.exec(o);return p?Math.max(0,p[2]-(f||0))+(p[3]||"px"):o}function Vi(s,o,f,p,w,b){var A=o==="width"?1:0,H=0,T=0,Y=0;if(f===(p?"border":"content"))return 0;for(;A<4;A+=2)f==="margin"&&(Y+=c.css(s,f+Se[A],!0,w)),p?(f==="content"&&(T-=c.css(s,"padding"+Se[A],!0,w)),f!=="margin"&&(T-=c.css(s,"border"+Se[A]+"Width",!0,w))):(T+=c.css(s,"padding"+Se[A],!0,w),f!=="padding"?T+=c.css(s,"border"+Se[A]+"Width",!0,w):H+=c.css(s,"border"+Se[A]+"Width",!0,w));return!p&&b>=0&&(T+=Math.max(0,Math.ceil(s["offset"+o[0].toUpperCase()+o.slice(1)]-b-T-H-.5))||0),T+Y}function yr(s,o,f){var p=Bi(s),w=!Q.boxSizingReliable()||f,b=w&&c.css(s,"boxSizing",!1,p)==="border-box",A=b,H=Li(s,o,p),T="offset"+o[0].toUpperCase()+o.slice(1);if(Ki.test(H)){if(!f)return H;H="auto"}return(!Q.boxSizingReliable()&&b||!Q.reliableTrDimensions()&&Dt(s,"tr")||H==="auto"||!parseFloat(H)&&c.css(s,"display",!1,p)==="inline")&&s.getClientRects().length&&(b=c.css(s,"boxSizing",!1,p)==="border-box",A=T in s,A&&(H=s[T])),H=parseFloat(H)||0,H+Vi(s,o,f||(b?"border":"content"),A,p,H)+"px"}c.extend({cssHooks:{opacity:{get:function(s,o){if(o){var f=Li(s,"opacity");return f===""?"1":f}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(s,o,f,p){if(!(!s||s.nodeType===3||s.nodeType===8||!s.style)){var w,b,A,H=me(o),T=Ji.test(o),Y=s.style;if(T||(o=Gi(H)),A=c.cssHooks[o]||c.cssHooks[H],f!==void 0){if(b=typeof f,b==="string"&&(w=si.exec(f))&&w[1]&&(f=Ei(s,o,w),b="number"),f==null||f!==f)return;b==="number"&&!T&&(f+=w&&w[3]||(c.cssNumber[H]?"":"px")),!Q.clearCloneStyle&&f===""&&o.indexOf("background")===0&&(Y[o]="inherit"),(!A||!("set"in A)||(f=A.set(s,f,p))!==void 0)&&(T?Y.setProperty(o,f):Y[o]=f)}else return A&&"get"in A&&(w=A.get(s,!1,p))!==void 0?w:Y[o]}},css:function(s,o,f,p){var w,b,A,H=me(o),T=Ji.test(o);return T||(o=Gi(H)),A=c.cssHooks[o]||c.cssHooks[H],A&&"get"in A&&(w=A.get(s,!0,f)),w===void 0&&(w=Li(s,o,p)),w==="normal"&&o in xr&&(w=xr[o]),f===""||f?(b=parseFloat(w),f===!0||isFinite(b)?b||0:w):w}}),c.each(["height","width"],function(s,o){c.cssHooks[o]={get:function(f,p,w){if(p)return qr.test(c.css(f,"display"))&&(!f.getClientRects().length||!f.getBoundingClientRect().width)?pr(f,Xr,function(){return yr(f,o,w)}):yr(f,o,w)},set:function(f,p,w){var b,A=Bi(f),H=!Q.scrollboxSize()&&A.position==="absolute",T=H||w,Y=T&&c.css(f,"boxSizing",!1,A)==="border-box",xt=w?Vi(f,o,w,Y,A):0;return Y&&H&&(xt-=Math.ceil(f["offset"+o[0].toUpperCase()+o.slice(1)]-parseFloat(A[o])-Vi(f,o,"border",!1,A)-.5)),xt&&(b=si.exec(p))&&(b[3]||"px")!=="px"&&(f.style[o]=p,p=c.css(f,o)),mr(f,p,xt)}}}),c.cssHooks.marginLeft=gr(Q.reliableMarginLeft,function(s,o){if(o)return(parseFloat(Li(s,"marginLeft"))||s.getBoundingClientRect().left-pr(s,{marginLeft:0},function(){return s.getBoundingClientRect().left}))+"px"}),c.each({margin:"",padding:"",border:"Width"},function(s,o){c.cssHooks[s+o]={expand:function(f){for(var p=0,w={},b=typeof f=="string"?f.split(" "):[f];p<4;p++)w[s+Se[p]+o]=b[p]||b[p-2]||b[0];return w}},s!=="margin"&&(c.cssHooks[s+o].set=mr)}),c.fn.extend({css:function(s,o){return xe(this,function(f,p,w){var b,A,H={},T=0;if(Array.isArray(p)){for(b=Bi(f),A=p.length;T<A;T++)H[p[T]]=c.css(f,p[T],!1,b);return H}return w!==void 0?c.style(f,p,w):c.css(f,p)},s,o,arguments.length>1)}});function ye(s,o,f,p,w){return new ye.prototype.init(s,o,f,p,w)}c.Tween=ye,ye.prototype={constructor:ye,init:function(s,o,f,p,w,b){this.elem=s,this.prop=f,this.easing=w||c.easing._default,this.options=o,this.start=this.now=this.cur(),this.end=p,this.unit=b||(c.cssNumber[f]?"":"px")},cur:function(){var s=ye.propHooks[this.prop];return s&&s.get?s.get(this):ye.propHooks._default.get(this)},run:function(s){var o,f=ye.propHooks[this.prop];return this.options.duration?this.pos=o=c.easing[this.easing](s,this.options.duration*s,0,1,this.options.duration):this.pos=o=s,this.now=(this.end-this.start)*o+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),f&&f.set?f.set(this):ye.propHooks._default.set(this),this}},ye.prototype.init.prototype=ye.prototype,ye.propHooks={_default:{get:function(s){var o;return s.elem.nodeType!==1||s.elem[s.prop]!=null&&s.elem.style[s.prop]==null?s.elem[s.prop]:(o=c.css(s.elem,s.prop,""),!o||o==="auto"?0:o)},set:function(s){c.fx.step[s.prop]?c.fx.step[s.prop](s):s.elem.nodeType===1&&(c.cssHooks[s.prop]||s.elem.style[Gi(s.prop)]!=null)?c.style(s.elem,s.prop,s.now+s.unit):s.elem[s.prop]=s.now}}},ye.propHooks.scrollTop=ye.propHooks.scrollLeft={set:function(s){s.elem.nodeType&&s.elem.parentNode&&(s.elem[s.prop]=s.now)}},c.easing={linear:function(s){return s},swing:function(s){return .5-Math.cos(s*Math.PI)/2},_default:"swing"},c.fx=ye.prototype.init,c.fx.step={};var ci,Fi,Ur=/^(?:toggle|show|hide)$/,Kr=/queueHooks$/;function Yi(){Fi&&(M.hidden===!1&&F.requestAnimationFrame?F.requestAnimationFrame(Yi):F.setTimeout(Yi,c.fx.interval),c.fx.tick())}function wr(){return F.setTimeout(function(){ci=void 0}),ci=Date.now()}function Ii(s,o){var f,p=0,w={height:s};for(o=o?1:0;p<4;p+=2-o)f=Se[p],w["margin"+f]=w["padding"+f]=s;return o&&(w.opacity=w.width=s),w}function br(s,o,f){for(var p,w=(Fe.tweeners[o]||[]).concat(Fe.tweeners["*"]),b=0,A=w.length;b<A;b++)if(p=w[b].call(f,o,s))return p}function Jr(s,o,f){var p,w,b,A,H,T,Y,xt,Nt="width"in o||"height"in o,ht=this,Mt={},Xt=s.style,Vt=s.nodeType&&gi(s),Jt=jt.get(s,"fxshow");f.queue||(A=c._queueHooks(s,"fx"),A.unqueued==null&&(A.unqueued=0,H=A.empty.fire,A.empty.fire=function(){A.unqueued||H()}),A.unqueued++,ht.always(function(){ht.always(function(){A.unqueued--,c.queue(s,"fx").length||A.empty.fire()})}));for(p in o)if(w=o[p],Ur.test(w)){if(delete o[p],b=b||w==="toggle",w===(Vt?"hide":"show"))if(w==="show"&&Jt&&Jt[p]!==void 0)Vt=!0;else continue;Mt[p]=Jt&&Jt[p]||c.style(s,p)}if(T=!c.isEmptyObject(o),!(!T&&c.isEmptyObject(Mt))){Nt&&s.nodeType===1&&(f.overflow=[Xt.overflow,Xt.overflowX,Xt.overflowY],Y=Jt&&Jt.display,Y==null&&(Y=jt.get(s,"display")),xt=c.css(s,"display"),xt==="none"&&(Y?xt=Y:(ai([s],!0),Y=s.style.display||Y,xt=c.css(s,"display"),ai([s]))),(xt==="inline"||xt==="inline-block"&&Y!=null)&&c.css(s,"float")==="none"&&(T||(ht.done(function(){Xt.display=Y}),Y==null&&(xt=Xt.display,Y=xt==="none"?"":xt)),Xt.display="inline-block")),f.overflow&&(Xt.overflow="hidden",ht.always(function(){Xt.overflow=f.overflow[0],Xt.overflowX=f.overflow[1],Xt.overflowY=f.overflow[2]})),T=!1;for(p in Mt)T||(Jt?"hidden"in Jt&&(Vt=Jt.hidden):Jt=jt.access(s,"fxshow",{display:Y}),b&&(Jt.hidden=!Vt),Vt&&ai([s],!0),ht.done(function(){Vt||ai([s]),jt.remove(s,"fxshow");for(p in Mt)c.style(s,p,Mt[p])})),T=br(Vt?Jt[p]:0,p,ht),p in Jt||(Jt[p]=T.start,Vt&&(T.end=T.start,T.start=0))}}function Gr(s,o){var f,p,w,b,A;for(f in s)if(p=me(f),w=o[p],b=s[f],Array.isArray(b)&&(w=b[1],b=s[f]=b[0]),f!==p&&(s[p]=b,delete s[f]),A=c.cssHooks[p],A&&"expand"in A){b=A.expand(b),delete s[p];for(f in b)f in s||(s[f]=b[f],o[f]=w)}else o[p]=w}function Fe(s,o,f){var p,w,b=0,A=Fe.prefilters.length,H=c.Deferred().always(function(){delete T.elem}),T=function(){if(w)return!1;for(var Nt=ci||wr(),ht=Math.max(0,Y.startTime+Y.duration-Nt),Mt=ht/Y.duration||0,Xt=1-Mt,Vt=0,Jt=Y.tweens.length;Vt<Jt;Vt++)Y.tweens[Vt].run(Xt);return H.notifyWith(s,[Y,Xt,ht]),Xt<1&&Jt?ht:(Jt||H.notifyWith(s,[Y,1,0]),H.resolveWith(s,[Y]),!1)},Y=H.promise({elem:s,props:c.extend({},o),opts:c.extend(!0,{specialEasing:{},easing:c.easing._default},f),originalProperties:o,originalOptions:f,startTime:ci||wr(),duration:f.duration,tweens:[],createTween:function(Nt,ht){var Mt=c.Tween(s,Y.opts,Nt,ht,Y.opts.specialEasing[Nt]||Y.opts.easing);return Y.tweens.push(Mt),Mt},stop:function(Nt){var ht=0,Mt=Nt?Y.tweens.length:0;if(w)return this;for(w=!0;ht<Mt;ht++)Y.tweens[ht].run(1);return Nt?(H.notifyWith(s,[Y,1,0]),H.resolveWith(s,[Y,Nt])):H.rejectWith(s,[Y,Nt]),this}}),xt=Y.props;for(Gr(xt,Y.opts.specialEasing);b<A;b++)if(p=Fe.prefilters[b].call(Y,s,xt,Y.opts),p)return tt(p.stop)&&(c._queueHooks(Y.elem,Y.opts.queue).stop=p.stop.bind(p)),p;return c.map(xt,br,Y),tt(Y.opts.start)&&Y.opts.start.call(s,Y),Y.progress(Y.opts.progress).done(Y.opts.done,Y.opts.complete).fail(Y.opts.fail).always(Y.opts.always),c.fx.timer(c.extend(T,{elem:s,anim:Y,queue:Y.opts.queue})),Y}c.Animation=c.extend(Fe,{tweeners:{"*":[function(s,o){var f=this.createTween(s,o);return Ei(f.elem,s,si.exec(o),f),f}]},tweener:function(s,o){tt(s)?(o=s,s=["*"]):s=s.match(Zt);for(var f,p=0,w=s.length;p<w;p++)f=s[p],Fe.tweeners[f]=Fe.tweeners[f]||[],Fe.tweeners[f].unshift(o)},prefilters:[Jr],prefilter:function(s,o){o?Fe.prefilters.unshift(s):Fe.prefilters.push(s)}}),c.speed=function(s,o,f){var p=s&&typeof s=="object"?c.extend({},s):{complete:f||!f&&o||tt(s)&&s,duration:s,easing:f&&o||o&&!tt(o)&&o};return c.fx.off?p.duration=0:typeof p.duration!="number"&&(p.duration in c.fx.speeds?p.duration=c.fx.speeds[p.duration]:p.duration=c.fx.speeds._default),(p.queue==null||p.queue===!0)&&(p.queue="fx"),p.old=p.complete,p.complete=function(){tt(p.old)&&p.old.call(this),p.queue&&c.dequeue(this,p.queue)},p},c.fn.extend({fadeTo:function(s,o,f,p){return this.filter(gi).css("opacity",0).show().end().animate({opacity:o},s,f,p)},animate:function(s,o,f,p){var w=c.isEmptyObject(s),b=c.speed(o,f,p),A=function(){var H=Fe(this,c.extend({},s),b);(w||jt.get(this,"finish"))&&H.stop(!0)};return A.finish=A,w||b.queue===!1?this.each(A):this.queue(b.queue,A)},stop:function(s,o,f){var p=function(w){var b=w.stop;delete w.stop,b(f)};return typeof s!="string"&&(f=o,o=s,s=void 0),o&&this.queue(s||"fx",[]),this.each(function(){var w=!0,b=s!=null&&s+"queueHooks",A=c.timers,H=jt.get(this);if(b)H[b]&&H[b].stop&&p(H[b]);else for(b in H)H[b]&&H[b].stop&&Kr.test(b)&&p(H[b]);for(b=A.length;b--;)A[b].elem===this&&(s==null||A[b].queue===s)&&(A[b].anim.stop(f),w=!1,A.splice(b,1));(w||!f)&&c.dequeue(this,s)})},finish:function(s){return s!==!1&&(s=s||"fx"),this.each(function(){var o,f=jt.get(this),p=f[s+"queue"],w=f[s+"queueHooks"],b=c.timers,A=p?p.length:0;for(f.finish=!0,c.queue(this,s,[]),w&&w.stop&&w.stop.call(this,!0),o=b.length;o--;)b[o].elem===this&&b[o].queue===s&&(b[o].anim.stop(!0),b.splice(o,1));for(o=0;o<A;o++)p[o]&&p[o].finish&&p[o].finish.call(this);delete f.finish})}}),c.each(["toggle","show","hide"],function(s,o){var f=c.fn[o];c.fn[o]=function(p,w,b){return p==null||typeof p=="boolean"?f.apply(this,arguments):this.animate(Ii(o,!0),p,w,b)}}),c.each({slideDown:Ii("show"),slideUp:Ii("hide"),slideToggle:Ii("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s,o){c.fn[s]=function(f,p,w){return this.animate(o,f,p,w)}}),c.timers=[],c.fx.tick=function(){var s,o=0,f=c.timers;for(ci=Date.now();o<f.length;o++)s=f[o],!s()&&f[o]===s&&f.splice(o--,1);f.length||c.fx.stop(),ci=void 0},c.fx.timer=function(s){c.timers.push(s),c.fx.start()},c.fx.interval=13,c.fx.start=function(){Fi||(Fi=!0,Yi())},c.fx.stop=function(){Fi=null},c.fx.speeds={slow:600,fast:200,_default:400},c.fn.delay=function(s,o){return s=c.fx&&c.fx.speeds[s]||s,o=o||"fx",this.queue(o,function(f,p){var w=F.setTimeout(f,s);p.stop=function(){F.clearTimeout(w)}})},function(){var s=M.createElement("input"),o=M.createElement("select"),f=o.appendChild(M.createElement("option"));s.type="checkbox",Q.checkOn=s.value!=="",Q.optSelected=f.selected,s=M.createElement("input"),s.value="t",s.type="radio",Q.radioValue=s.value==="t"}();var kr,mi=c.expr.attrHandle;c.fn.extend({attr:function(s,o){return xe(this,c.attr,s,o,arguments.length>1)},removeAttr:function(s){return this.each(function(){c.removeAttr(this,s)})}}),c.extend({attr:function(s,o,f){var p,w,b=s.nodeType;if(!(b===3||b===8||b===2)){if(typeof s.getAttribute>"u")return c.prop(s,o,f);if((b!==1||!c.isXMLDoc(s))&&(w=c.attrHooks[o.toLowerCase()]||(c.expr.match.bool.test(o)?kr:void 0)),f!==void 0){if(f===null){c.removeAttr(s,o);return}return w&&"set"in w&&(p=w.set(s,f,o))!==void 0?p:(s.setAttribute(o,f+""),f)}return w&&"get"in w&&(p=w.get(s,o))!==null?p:(p=c.find.attr(s,o),p??void 0)}},attrHooks:{type:{set:function(s,o){if(!Q.radioValue&&o==="radio"&&Dt(s,"input")){var f=s.value;return s.setAttribute("type",o),f&&(s.value=f),o}}}},removeAttr:function(s,o){var f,p=0,w=o&&o.match(Zt);if(w&&s.nodeType===1)for(;f=w[p++];)s.removeAttribute(f)}}),kr={set:function(s,o,f){return o===!1?c.removeAttr(s,f):s.setAttribute(f,f),f}},c.each(c.expr.match.bool.source.match(/\w+/g),function(s,o){var f=mi[o]||c.find.attr;mi[o]=function(p,w,b){var A,H,T=w.toLowerCase();return b||(H=mi[T],mi[T]=A,A=f(p,w,b)!=null?T:null,mi[T]=H),A}});var Ar=/^(?:input|select|textarea|button)$/i,Nr=/^(?:a|area)$/i;c.fn.extend({prop:function(s,o){return xe(this,c.prop,s,o,arguments.length>1)},removeProp:function(s){return this.each(function(){delete this[c.propFix[s]||s]})}}),c.extend({prop:function(s,o,f){var p,w,b=s.nodeType;if(!(b===3||b===8||b===2))return(b!==1||!c.isXMLDoc(s))&&(o=c.propFix[o]||o,w=c.propHooks[o]),f!==void 0?w&&"set"in w&&(p=w.set(s,f,o))!==void 0?p:s[o]=f:w&&"get"in w&&(p=w.get(s,o))!==null?p:s[o]},propHooks:{tabIndex:{get:function(s){var o=c.find.attr(s,"tabindex");return o?parseInt(o,10):Ar.test(s.nodeName)||Nr.test(s.nodeName)&&s.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Q.optSelected||(c.propHooks.selected={get:function(s){var o=s.parentNode;return o&&o.parentNode&&o.parentNode.selectedIndex,null},set:function(s){var o=s.parentNode;o&&(o.selectedIndex,o.parentNode&&o.parentNode.selectedIndex)}}),c.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){c.propFix[this.toLowerCase()]=this});function Je(s){var o=s.match(Zt)||[];return o.join(" ")}function ke(s){return s.getAttribute&&s.getAttribute("class")||""}function oi(s){return Array.isArray(s)?s:typeof s=="string"?s.match(Zt)||[]:[]}c.fn.extend({addClass:function(s){var o,f,p,w,b,A;return tt(s)?this.each(function(H){c(this).addClass(s.call(this,H,ke(this)))}):(o=oi(s),o.length?this.each(function(){if(p=ke(this),f=this.nodeType===1&&" "+Je(p)+" ",f){for(b=0;b<o.length;b++)w=o[b],f.indexOf(" "+w+" ")<0&&(f+=w+" ");A=Je(f),p!==A&&this.setAttribute("class",A)}}):this)},removeClass:function(s){var o,f,p,w,b,A;return tt(s)?this.each(function(H){c(this).removeClass(s.call(this,H,ke(this)))}):arguments.length?(o=oi(s),o.length?this.each(function(){if(p=ke(this),f=this.nodeType===1&&" "+Je(p)+" ",f){for(b=0;b<o.length;b++)for(w=o[b];f.indexOf(" "+w+" ")>-1;)f=f.replace(" "+w+" "," ");A=Je(f),p!==A&&this.setAttribute("class",A)}}):this):this.attr("class","")},toggleClass:function(s,o){var f,p,w,b,A=typeof s,H=A==="string"||Array.isArray(s);return tt(s)?this.each(function(T){c(this).toggleClass(s.call(this,T,ke(this),o),o)}):typeof o=="boolean"&&H?o?this.addClass(s):this.removeClass(s):(f=oi(s),this.each(function(){if(H)for(b=c(this),w=0;w<f.length;w++)p=f[w],b.hasClass(p)?b.removeClass(p):b.addClass(p);else(s===void 0||A==="boolean")&&(p=ke(this),p&&jt.set(this,"__className__",p),this.setAttribute&&this.setAttribute("class",p||s===!1?"":jt.get(this,"__className__")||""))}))},hasClass:function(s){var o,f,p=0;for(o=" "+s+" ";f=this[p++];)if(f.nodeType===1&&(" "+Je(ke(f))+" ").indexOf(o)>-1)return!0;return!1}});var Vr=/\r/g;c.fn.extend({val:function(s){var o,f,p,w=this[0];return arguments.length?(p=tt(s),this.each(function(b){var A;this.nodeType===1&&(p?A=s.call(this,b,c(this).val()):A=s,A==null?A="":typeof A=="number"?A+="":Array.isArray(A)&&(A=c.map(A,function(H){return H==null?"":H+""})),o=c.valHooks[this.type]||c.valHooks[this.nodeName.toLowerCase()],(!o||!("set"in o)||o.set(this,A,"value")===void 0)&&(this.value=A))})):w?(o=c.valHooks[w.type]||c.valHooks[w.nodeName.toLowerCase()],o&&"get"in o&&(f=o.get(w,"value"))!==void 0?f:(f=w.value,typeof f=="string"?f.replace(Vr,""):f??"")):void 0}}),c.extend({valHooks:{option:{get:function(s){var o=c.find.attr(s,"value");return o??Je(c.text(s))}},select:{get:function(s){var o,f,p,w=s.options,b=s.selectedIndex,A=s.type==="select-one",H=A?null:[],T=A?b+1:w.length;for(b<0?p=T:p=A?b:0;p<T;p++)if(f=w[p],(f.selected||p===b)&&!f.disabled&&(!f.parentNode.disabled||!Dt(f.parentNode,"optgroup"))){if(o=c(f).val(),A)return o;H.push(o)}return H},set:function(s,o){for(var f,p,w=s.options,b=c.makeArray(o),A=w.length;A--;)p=w[A],(p.selected=c.inArray(c.valHooks.option.get(p),b)>-1)&&(f=!0);return f||(s.selectedIndex=-1),b}}}}),c.each(["radio","checkbox"],function(){c.valHooks[this]={set:function(s,o){if(Array.isArray(o))return s.checked=c.inArray(c(s).val(),o)>-1}},Q.checkOn||(c.valHooks[this].get=function(s){return s.getAttribute("value")===null?"on":s.value})});var ui=F.location,Mi={guid:Date.now()},Cr=/\?/;c.parseXML=function(s){var o,f;if(!s||typeof s!="string")return null;try{o=new F.DOMParser().parseFromString(s,"text/xml")}catch{}return f=o&&o.getElementsByTagName("parsererror")[0],(!o||f)&&c.error("Invalid XML: "+(f?c.map(f.childNodes,function(p){return p.textContent}).join(`
`):s)),o};var Yr=/^(?:focusinfocus|focusoutblur)$/,Er=function(s){s.stopPropagation()};c.extend(c.event,{trigger:function(s,o,f,p){var w,b,A,H,T,Y,xt,Nt,ht=[f||M],Mt=X.call(s,"type")?s.type:s,Xt=X.call(s,"namespace")?s.namespace.split("."):[];if(b=Nt=A=f=f||M,!(f.nodeType===3||f.nodeType===8)&&!Yr.test(Mt+c.event.triggered)&&(Mt.indexOf(".")>-1&&(Xt=Mt.split("."),Mt=Xt.shift(),Xt.sort()),T=Mt.indexOf(":")<0&&"on"+Mt,s=s[c.expando]?s:new c.Event(Mt,typeof s=="object"&&s),s.isTrigger=p?2:3,s.namespace=Xt.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+Xt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=f),o=o==null?[s]:c.makeArray(o,[s]),xt=c.event.special[Mt]||{},!(!p&&xt.trigger&&xt.trigger.apply(f,o)===!1))){if(!p&&!xt.noBubble&&!ct(f)){for(H=xt.delegateType||Mt,Yr.test(H+Mt)||(b=b.parentNode);b;b=b.parentNode)ht.push(b),A=b;A===(f.ownerDocument||M)&&ht.push(A.defaultView||A.parentWindow||F)}for(w=0;(b=ht[w++])&&!s.isPropagationStopped();)Nt=b,s.type=w>1?H:xt.bindType||Mt,Y=(jt.get(b,"events")||Object.create(null))[s.type]&&jt.get(b,"handle"),Y&&Y.apply(b,o),Y=T&&b[T],Y&&Y.apply&&ei(b)&&(s.result=Y.apply(b,o),s.result===!1&&s.preventDefault());return s.type=Mt,!p&&!s.isDefaultPrevented()&&(!xt._default||xt._default.apply(ht.pop(),o)===!1)&&ei(f)&&T&&tt(f[Mt])&&!ct(f)&&(A=f[T],A&&(f[T]=null),c.event.triggered=Mt,s.isPropagationStopped()&&Nt.addEventListener(Mt,Er),f[Mt](),s.isPropagationStopped()&&Nt.removeEventListener(Mt,Er),c.event.triggered=void 0,A&&(f[T]=A)),s.result}},simulate:function(s,o,f){var p=c.extend(new c.Event,f,{type:s,isSimulated:!0});c.event.trigger(p,null,o)}}),c.fn.extend({trigger:function(s,o){return this.each(function(){c.event.trigger(s,o,this)})},triggerHandler:function(s,o){var f=this[0];if(f)return c.event.trigger(s,o,f,!0)}});var us=/\[\]$/,Dr=/\r?\n/g,Zi=/^(?:submit|button|image|reset|file)$/i,yi=/^(?:input|select|textarea|keygen)/i;function $i(s,o,f,p){var w;if(Array.isArray(o))c.each(o,function(b,A){f||us.test(s)?p(s,A):$i(s+"["+(typeof A=="object"&&A!=null?b:"")+"]",A,f,p)});else if(!f&&ft(o)==="object")for(w in o)$i(s+"["+w+"]",o[w],f,p);else p(s,o)}c.param=function(s,o){var f,p=[],w=function(b,A){var H=tt(A)?A():A;p[p.length]=encodeURIComponent(b)+"="+encodeURIComponent(H??"")};if(s==null)return"";if(Array.isArray(s)||s.jquery&&!c.isPlainObject(s))c.each(s,function(){w(this.name,this.value)});else for(f in s)$i(f,s[f],o,w);return p.join("&")},c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var s=c.prop(this,"elements");return s?c.makeArray(s):this}).filter(function(){var s=this.type;return this.name&&!c(this).is(":disabled")&&yi.test(this.nodeName)&&!Zi.test(s)&&(this.checked||!li.test(s))}).map(function(s,o){var f=c(this).val();return f==null?null:Array.isArray(f)?c.map(f,function(p){return{name:o.name,value:p.replace(Dr,`\r
`)}}):{name:o.name,value:f.replace(Dr,`\r
`)}}).get()}});var Zr=/%20/g,$r=/#.*$/,ts=/([?&])_=[^&]*/,Br=/^(.*?):[ \t]*([^\r\n]*)$/mg,es=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lr=/^(?:GET|HEAD)$/,is=/^\/\//,Ge={},Ve={},tr="*/".concat("*"),er=M.createElement("a");er.href=ui.href;function Sr(s){return function(o,f){typeof o!="string"&&(f=o,o="*");var p,w=0,b=o.toLowerCase().match(Zt)||[];if(tt(f))for(;p=b[w++];)p[0]==="+"?(p=p.slice(1)||"*",(s[p]=s[p]||[]).unshift(f)):(s[p]=s[p]||[]).push(f)}}function Fr(s,o,f,p){var w={},b=s===Ve;function A(H){var T;return w[H]=!0,c.each(s[H]||[],function(Y,xt){var Nt=xt(o,f,p);if(typeof Nt=="string"&&!b&&!w[Nt])return o.dataTypes.unshift(Nt),A(Nt),!1;if(b)return!(T=Nt)}),T}return A(o.dataTypes[0])||!w["*"]&&A("*")}function ir(s,o){var f,p,w=c.ajaxSettings.flatOptions||{};for(f in o)o[f]!==void 0&&((w[f]?s:p||(p={}))[f]=o[f]);return p&&c.extend(!0,s,p),s}function rs(s,o,f){for(var p,w,b,A,H=s.contents,T=s.dataTypes;T[0]==="*";)T.shift(),p===void 0&&(p=s.mimeType||o.getResponseHeader("Content-Type"));if(p){for(w in H)if(H[w]&&H[w].test(p)){T.unshift(w);break}}if(T[0]in f)b=T[0];else{for(w in f){if(!T[0]||s.converters[w+" "+T[0]]){b=w;break}A||(A=w)}b=b||A}if(b)return b!==T[0]&&T.unshift(b),f[b]}function ss(s,o,f,p){var w,b,A,H,T,Y={},xt=s.dataTypes.slice();if(xt[1])for(A in s.converters)Y[A.toLowerCase()]=s.converters[A];for(b=xt.shift();b;)if(s.responseFields[b]&&(f[s.responseFields[b]]=o),!T&&p&&s.dataFilter&&(o=s.dataFilter(o,s.dataType)),T=b,b=xt.shift(),b){if(b==="*")b=T;else if(T!=="*"&&T!==b){if(A=Y[T+" "+b]||Y["* "+b],!A){for(w in Y)if(H=w.split(" "),H[1]===b&&(A=Y[T+" "+H[0]]||Y["* "+H[0]],A)){A===!0?A=Y[w]:Y[w]!==!0&&(b=H[0],xt.unshift(H[1]));break}}if(A!==!0)if(A&&s.throws)o=A(o);else try{o=A(o)}catch(Nt){return{state:"parsererror",error:A?Nt:"No conversion from "+T+" to "+b}}}}return{state:"success",data:o}}c.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ui.href,type:"GET",isLocal:es.test(ui.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":c.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(s,o){return o?ir(ir(s,c.ajaxSettings),o):ir(c.ajaxSettings,s)},ajaxPrefilter:Sr(Ge),ajaxTransport:Sr(Ve),ajax:function(s,o){typeof s=="object"&&(o=s,s=void 0),o=o||{};var f,p,w,b,A,H,T,Y,xt,Nt,ht=c.ajaxSetup({},o),Mt=ht.context||ht,Xt=ht.context&&(Mt.nodeType||Mt.jquery)?c(Mt):c.event,Vt=c.Deferred(),Jt=c.Callbacks("once memory"),fe=ht.statusCode||{},he={},Te={},Re="canceled",Yt={readyState:0,getResponseHeader:function($t){var ne;if(T){if(!b)for(b={};ne=Br.exec(w);)b[ne[1].toLowerCase()+" "]=(b[ne[1].toLowerCase()+" "]||[]).concat(ne[2]);ne=b[$t.toLowerCase()+" "]}return ne==null?null:ne.join(", ")},getAllResponseHeaders:function(){return T?w:null},setRequestHeader:function($t,ne){return T==null&&($t=Te[$t.toLowerCase()]=Te[$t.toLowerCase()]||$t,he[$t]=ne),this},overrideMimeType:function($t){return T==null&&(ht.mimeType=$t),this},statusCode:function($t){var ne;if($t)if(T)Yt.always($t[Yt.status]);else for(ne in $t)fe[ne]=[fe[ne],$t[ne]];return this},abort:function($t){var ne=$t||Re;return f&&f.abort(ne),hi(0,ne),this}};if(Vt.promise(Yt),ht.url=((s||ht.url||ui.href)+"").replace(is,ui.protocol+"//"),ht.type=o.method||o.type||ht.method||ht.type,ht.dataTypes=(ht.dataType||"*").toLowerCase().match(Zt)||[""],ht.crossDomain==null){H=M.createElement("a");try{H.href=ht.url,H.href=H.href,ht.crossDomain=er.protocol+"//"+er.host!=H.protocol+"//"+H.host}catch{ht.crossDomain=!0}}if(ht.data&&ht.processData&&typeof ht.data!="string"&&(ht.data=c.param(ht.data,ht.traditional)),Fr(Ge,ht,o,Yt),T)return Yt;Y=c.event&&ht.global,Y&&c.active++===0&&c.event.trigger("ajaxStart"),ht.type=ht.type.toUpperCase(),ht.hasContent=!Lr.test(ht.type),p=ht.url.replace($r,""),ht.hasContent?ht.data&&ht.processData&&(ht.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ht.data=ht.data.replace(Zr,"+")):(Nt=ht.url.slice(p.length),ht.data&&(ht.processData||typeof ht.data=="string")&&(p+=(Cr.test(p)?"&":"?")+ht.data,delete ht.data),ht.cache===!1&&(p=p.replace(ts,"$1"),Nt=(Cr.test(p)?"&":"?")+"_="+Mi.guid+++Nt),ht.url=p+Nt),ht.ifModified&&(c.lastModified[p]&&Yt.setRequestHeader("If-Modified-Since",c.lastModified[p]),c.etag[p]&&Yt.setRequestHeader("If-None-Match",c.etag[p])),(ht.data&&ht.hasContent&&ht.contentType!==!1||o.contentType)&&Yt.setRequestHeader("Content-Type",ht.contentType),Yt.setRequestHeader("Accept",ht.dataTypes[0]&&ht.accepts[ht.dataTypes[0]]?ht.accepts[ht.dataTypes[0]]+(ht.dataTypes[0]!=="*"?", "+tr+"; q=0.01":""):ht.accepts["*"]);for(xt in ht.headers)Yt.setRequestHeader(xt,ht.headers[xt]);if(ht.beforeSend&&(ht.beforeSend.call(Mt,Yt,ht)===!1||T))return Yt.abort();if(Re="abort",Jt.add(ht.complete),Yt.done(ht.success),Yt.fail(ht.error),f=Fr(Ve,ht,o,Yt),!f)hi(-1,"No Transport");else{if(Yt.readyState=1,Y&&Xt.trigger("ajaxSend",[Yt,ht]),T)return Yt;ht.async&&ht.timeout>0&&(A=F.setTimeout(function(){Yt.abort("timeout")},ht.timeout));try{T=!1,f.send(he,hi)}catch($t){if(T)throw $t;hi(-1,$t)}}function hi($t,ne,bi,sr){var _e,Ye,Ae,Oe,We,Ne=ne;T||(T=!0,A&&F.clearTimeout(A),f=void 0,w=sr||"",Yt.readyState=$t>0?4:0,_e=$t>=200&&$t<300||$t===304,bi&&(Oe=rs(ht,Yt,bi)),!_e&&c.inArray("script",ht.dataTypes)>-1&&c.inArray("json",ht.dataTypes)<0&&(ht.converters["text script"]=function(){}),Oe=ss(ht,Oe,Yt,_e),_e?(ht.ifModified&&(We=Yt.getResponseHeader("Last-Modified"),We&&(c.lastModified[p]=We),We=Yt.getResponseHeader("etag"),We&&(c.etag[p]=We)),$t===204||ht.type==="HEAD"?Ne="nocontent":$t===304?Ne="notmodified":(Ne=Oe.state,Ye=Oe.data,Ae=Oe.error,_e=!Ae)):(Ae=Ne,($t||!Ne)&&(Ne="error",$t<0&&($t=0))),Yt.status=$t,Yt.statusText=(ne||Ne)+"",_e?Vt.resolveWith(Mt,[Ye,Ne,Yt]):Vt.rejectWith(Mt,[Yt,Ne,Ae]),Yt.statusCode(fe),fe=void 0,Y&&Xt.trigger(_e?"ajaxSuccess":"ajaxError",[Yt,ht,_e?Ye:Ae]),Jt.fireWith(Mt,[Yt,Ne]),Y&&(Xt.trigger("ajaxComplete",[Yt,ht]),--c.active||c.event.trigger("ajaxStop")))}return Yt},getJSON:function(s,o,f){return c.get(s,o,f,"json")},getScript:function(s,o){return c.get(s,void 0,o,"script")}}),c.each(["get","post"],function(s,o){c[o]=function(f,p,w,b){return tt(p)&&(b=b||w,w=p,p=void 0),c.ajax(c.extend({url:f,type:o,dataType:b,data:p,success:w},c.isPlainObject(f)&&f))}}),c.ajaxPrefilter(function(s){var o;for(o in s.headers)o.toLowerCase()==="content-type"&&(s.contentType=s.headers[o]||"")}),c._evalUrl=function(s,o,f){return c.ajax({url:s,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(p){c.globalEval(p,o,f)}})},c.fn.extend({wrapAll:function(s){var o;return this[0]&&(tt(s)&&(s=s.call(this[0])),o=c(s,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&o.insertBefore(this[0]),o.map(function(){for(var f=this;f.firstElementChild;)f=f.firstElementChild;return f}).append(this)),this},wrapInner:function(s){return tt(s)?this.each(function(o){c(this).wrapInner(s.call(this,o))}):this.each(function(){var o=c(this),f=o.contents();f.length?f.wrapAll(s):o.append(s)})},wrap:function(s){var o=tt(s);return this.each(function(f){c(this).wrapAll(o?s.call(this,f):s)})},unwrap:function(s){return this.parent(s).not("body").each(function(){c(this).replaceWith(this.childNodes)}),this}}),c.expr.pseudos.hidden=function(s){return!c.expr.pseudos.visible(s)},c.expr.pseudos.visible=function(s){return!!(s.offsetWidth||s.offsetHeight||s.getClientRects().length)},c.ajaxSettings.xhr=function(){try{return new F.XMLHttpRequest}catch{}};var ns={0:200,1223:204},wi=c.ajaxSettings.xhr();Q.cors=!!wi&&"withCredentials"in wi,Q.ajax=wi=!!wi,c.ajaxTransport(function(s){var o,f;if(Q.cors||wi&&!s.crossDomain)return{send:function(p,w){var b,A=s.xhr();if(A.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(b in s.xhrFields)A[b]=s.xhrFields[b];s.mimeType&&A.overrideMimeType&&A.overrideMimeType(s.mimeType),!s.crossDomain&&!p["X-Requested-With"]&&(p["X-Requested-With"]="XMLHttpRequest");for(b in p)A.setRequestHeader(b,p[b]);o=function(H){return function(){o&&(o=f=A.onload=A.onerror=A.onabort=A.ontimeout=A.onreadystatechange=null,H==="abort"?A.abort():H==="error"?typeof A.status!="number"?w(0,"error"):w(A.status,A.statusText):w(ns[A.status]||A.status,A.statusText,(A.responseType||"text")!=="text"||typeof A.responseText!="string"?{binary:A.response}:{text:A.responseText},A.getAllResponseHeaders()))}},A.onload=o(),f=A.onerror=A.ontimeout=o("error"),A.onabort!==void 0?A.onabort=f:A.onreadystatechange=function(){A.readyState===4&&F.setTimeout(function(){o&&f()})},o=o("abort");try{A.send(s.hasContent&&s.data||null)}catch(H){if(o)throw H}},abort:function(){o&&o()}}}),c.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(s){return c.globalEval(s),s}}}),c.ajaxPrefilter("script",function(s){s.cache===void 0&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),c.ajaxTransport("script",function(s){if(s.crossDomain||s.scriptAttrs){var o,f;return{send:function(p,w){o=c("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",f=function(b){o.remove(),f=null,b&&w(b.type==="error"?404:200,b.type)}),M.head.appendChild(o[0])},abort:function(){f&&f()}}}});var Ir=[],rr=/(=)\?(?=&|$)|\?\?/;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var s=Ir.pop()||c.expando+"_"+Mi.guid++;return this[s]=!0,s}}),c.ajaxPrefilter("json jsonp",function(s,o,f){var p,w,b,A=s.jsonp!==!1&&(rr.test(s.url)?"url":typeof s.data=="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rr.test(s.data)&&"data");if(A||s.dataTypes[0]==="jsonp")return p=s.jsonpCallback=tt(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,A?s[A]=s[A].replace(rr,"$1"+p):s.jsonp!==!1&&(s.url+=(Cr.test(s.url)?"&":"?")+s.jsonp+"="+p),s.converters["script json"]=function(){return b||c.error(p+" was not called"),b[0]},s.dataTypes[0]="json",w=F[p],F[p]=function(){b=arguments},f.always(function(){w===void 0?c(F).removeProp(p):F[p]=w,s[p]&&(s.jsonpCallback=o.jsonpCallback,Ir.push(p)),b&&tt(w)&&w(b[0]),b=w=void 0}),"script"}),Q.createHTMLDocument=function(){var s=M.implementation.createHTMLDocument("").body;return s.innerHTML="<form></form><form></form>",s.childNodes.length===2}(),c.parseHTML=function(s,o,f){if(typeof s!="string")return[];typeof o=="boolean"&&(f=o,o=!1);var p,w,b;return o||(Q.createHTMLDocument?(o=M.implementation.createHTMLDocument(""),p=o.createElement("base"),p.href=M.location.href,o.head.appendChild(p)):o=M),w=gt.exec(s),b=!f&&[],w?[o.createElement(w[1])]:(w=di([s],o,b),b&&b.length&&c(b).remove(),c.merge([],w.childNodes))},c.fn.load=function(s,o,f){var p,w,b,A=this,H=s.indexOf(" ");return H>-1&&(p=Je(s.slice(H)),s=s.slice(0,H)),tt(o)?(f=o,o=void 0):o&&typeof o=="object"&&(w="POST"),A.length>0&&c.ajax({url:s,type:w||"GET",dataType:"html",data:o}).done(function(T){b=arguments,A.html(p?c("<div>").append(c.parseHTML(T)).find(p):T)}).always(f&&function(T,Y){A.each(function(){f.apply(this,b||[T.responseText,Y,T])})}),this},c.expr.pseudos.animated=function(s){return c.grep(c.timers,function(o){return s===o.elem}).length},c.offset={setOffset:function(s,o,f){var p,w,b,A,H,T,Y,xt=c.css(s,"position"),Nt=c(s),ht={};xt==="static"&&(s.style.position="relative"),H=Nt.offset(),b=c.css(s,"top"),T=c.css(s,"left"),Y=(xt==="absolute"||xt==="fixed")&&(b+T).indexOf("auto")>-1,Y?(p=Nt.position(),A=p.top,w=p.left):(A=parseFloat(b)||0,w=parseFloat(T)||0),tt(o)&&(o=o.call(s,f,c.extend({},H))),o.top!=null&&(ht.top=o.top-H.top+A),o.left!=null&&(ht.left=o.left-H.left+w),"using"in o?o.using.call(s,ht):Nt.css(ht)}},c.fn.extend({offset:function(s){if(arguments.length)return s===void 0?this:this.each(function(w){c.offset.setOffset(this,s,w)});var o,f,p=this[0];if(p)return p.getClientRects().length?(o=p.getBoundingClientRect(),f=p.ownerDocument.defaultView,{top:o.top+f.pageYOffset,left:o.left+f.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var s,o,f,p=this[0],w={top:0,left:0};if(c.css(p,"position")==="fixed")o=p.getBoundingClientRect();else{for(o=this.offset(),f=p.ownerDocument,s=p.offsetParent||f.documentElement;s&&(s===f.body||s===f.documentElement)&&c.css(s,"position")==="static";)s=s.parentNode;s&&s!==p&&s.nodeType===1&&(w=c(s).offset(),w.top+=c.css(s,"borderTopWidth",!0),w.left+=c.css(s,"borderLeftWidth",!0))}return{top:o.top-w.top-c.css(p,"marginTop",!0),left:o.left-w.left-c.css(p,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var s=this.offsetParent;s&&c.css(s,"position")==="static";)s=s.offsetParent;return s||Ke})}}),c.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(s,o){var f=o==="pageYOffset";c.fn[s]=function(p){return xe(this,function(w,b,A){var H;if(ct(w)?H=w:w.nodeType===9&&(H=w.defaultView),A===void 0)return H?H[o]:w[b];H?H.scrollTo(f?H.pageXOffset:A,f?A:H.pageYOffset):w[b]=A},s,p,arguments.length)}}),c.each(["top","left"],function(s,o){c.cssHooks[o]=gr(Q.pixelPosition,function(f,p){if(p)return p=Li(f,o),Ki.test(p)?c(f).position()[o]+"px":p})}),c.each({Height:"height",Width:"width"},function(s,o){c.each({padding:"inner"+s,content:o,"":"outer"+s},function(f,p){c.fn[p]=function(w,b){var A=arguments.length&&(f||typeof w!="boolean"),H=f||(w===!0||b===!0?"margin":"border");return xe(this,function(T,Y,xt){var Nt;return ct(T)?p.indexOf("outer")===0?T["inner"+s]:T.document.documentElement["client"+s]:T.nodeType===9?(Nt=T.documentElement,Math.max(T.body["scroll"+s],Nt["scroll"+s],T.body["offset"+s],Nt["offset"+s],Nt["client"+s])):xt===void 0?c.css(T,Y,H):c.style(T,Y,xt,H)},o,A?w:void 0,A)}})}),c.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(s,o){c.fn[o]=function(f){return this.on(o,f)}}),c.fn.extend({bind:function(s,o,f){return this.on(s,null,o,f)},unbind:function(s,o){return this.off(s,null,o)},delegate:function(s,o,f,p){return this.on(o,s,f,p)},undelegate:function(s,o,f){return arguments.length===1?this.off(s,"**"):this.off(o,s||"**",f)},hover:function(s,o){return this.mouseenter(s).mouseleave(o||s)}}),c.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(s,o){c.fn[o]=function(f,p){return arguments.length>0?this.on(o,null,f,p):this.trigger(o)}});var as=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;c.proxy=function(s,o){var f,p,w;if(typeof o=="string"&&(f=s[o],o=s,s=f),!!tt(s))return p=rt.call(arguments,2),w=function(){return s.apply(o||this,p.concat(rt.call(arguments)))},w.guid=s.guid=s.guid||c.guid++,w},c.holdReady=function(s){s?c.readyWait++:c.ready(!0)},c.isArray=Array.isArray,c.parseJSON=JSON.parse,c.nodeName=Dt,c.isFunction=tt,c.isWindow=ct,c.camelCase=me,c.type=ft,c.now=Date.now,c.isNumeric=function(s){var o=c.type(s);return(o==="number"||o==="string")&&!isNaN(s-parseFloat(s))},c.trim=function(s){return s==null?"":(s+"").replace(as,"$1")},st=[],at=function(){return c}.apply(Pt,st),at!==void 0&&(Ct.exports=at);var os=F.jQuery,je=F.$;return c.noConflict=function(s){return F.$===c&&(F.$=je),s&&F.jQuery===c&&(F.jQuery=os),c},typeof ot>"u"&&(F.jQuery=F.$=c),c})},830:function(Ct,Pt,st){var at;/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/(function(F,ot){at=function(){return ot(F,F.document)}.call(Pt,st,Pt,Ct),at!==void 0&&(Ct.exports=at)})(typeof window<"u"?window:this,function(F,ot){var lt=typeof this<"u"?this:F,d=lt.SVG=function(r){if(d.supported)return r=new d.Doc(r),d.parser.draw||d.prepare(),r};if(d.ns="http://www.w3.org/2000/svg",d.xmlns="http://www.w3.org/2000/xmlns/",d.xlink="http://www.w3.org/1999/xlink",d.svgjs="http://svgjs.com/svgjs",d.supported=function(){return!!ot.createElementNS&&!!ot.createElementNS(d.ns,"svg").createSVGRect}(),!d.supported)return!1;d.did=1e3,d.eid=function(r){return"Svgjs"+tt(r)+d.did++},d.create=function(r){var h=ot.createElementNS(this.ns,r);return h.setAttribute("id",this.eid(r)),h},d.extend=function(){var r,h,v,E;for(r=[].slice.call(arguments),h=r.pop(),E=r.length-1;E>=0;E--)if(r[E])for(v in h)r[E].prototype[v]=h[v];d.Set&&d.Set.inherit&&d.Set.inherit()},d.invent=function(r){var h=typeof r.create=="function"?r.create:function(){this.constructor.call(this,d.create(r.create))};return r.inherit&&(h.prototype=new r.inherit),r.extend&&d.extend(h,r.extend),r.construct&&d.extend(r.parent||d.Container,r.construct),h},d.adopt=function(r){if(!r)return null;if(r.instance)return r.instance;var h;return r.nodeName=="svg"?h=r.parentNode instanceof F.SVGElement?new d.Nested:new d.Doc:r.nodeName=="linearGradient"?h=new d.Gradient("linear"):r.nodeName=="radialGradient"?h=new d.Gradient("radial"):d[tt(r.nodeName)]?h=new d[tt(r.nodeName)]:h=new d.Element(r),h.type=r.nodeName,h.node=r,r.instance=h,h instanceof d.Doc&&h.namespace().defs(),h.setData(JSON.parse(r.getAttribute("svgjs:data"))||{}),h},d.prepare=function(){var r=ot.getElementsByTagName("body")[0],h=(r?new d.Doc(r):d.adopt(ot.documentElement).nested()).size(2,0);d.parser={body:r||ot.documentElement,draw:h.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:h.polyline().node,path:h.path().node,native:d.create("svg")}},d.parser={native:d.create("svg")},ot.addEventListener("DOMContentLoaded",function(){d.parser.draw||d.prepare()},!1),d.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},d.utils={map:function(r,h){var v,E=r.length,G=[];for(v=0;v<E;v++)G.push(h(r[v]));return G},filter:function(r,h){var v,E=r.length,G=[];for(v=0;v<E;v++)h(r[v])&&G.push(r[v]);return G},radians:function(r){return r%360*Math.PI/180},degrees:function(r){return r*180/Math.PI%360},filterSVGElements:function(r){return this.filter(r,function(h){return h instanceof F.SVGElement})}},d.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},d.Color=function(r){var h;this.r=0,this.g=0,this.b=0,r&&(typeof r=="string"?d.regex.isRgb.test(r)?(h=d.regex.rgb.exec(r.replace(d.regex.whitespace,"")),this.r=parseInt(h[1]),this.g=parseInt(h[2]),this.b=parseInt(h[3])):d.regex.isHex.test(r)&&(h=d.regex.hex.exec(ct(r)),this.r=parseInt(h[1],16),this.g=parseInt(h[2],16),this.b=parseInt(h[3],16)):typeof r=="object"&&(this.r=r.r,this.g=r.g,this.b=r.b))},d.extend(d.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+M(this.r)+M(this.g)+M(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(r){return this.destination=new d.Color(r),this},at:function(r){return this.destination?(r=r<0?0:r>1?1:r,new d.Color({r:~~(this.r+(this.destination.r-this.r)*r),g:~~(this.g+(this.destination.g-this.g)*r),b:~~(this.b+(this.destination.b-this.b)*r)})):this}}),d.Color.test=function(r){return r+="",d.regex.isHex.test(r)||d.regex.isRgb.test(r)},d.Color.isRgb=function(r){return r&&typeof r.r=="number"&&typeof r.g=="number"&&typeof r.b=="number"},d.Color.isColor=function(r){return d.Color.isRgb(r)||d.Color.test(r)},d.Array=function(r,h){r=(r||[]).valueOf(),r.length==0&&h&&(r=h.valueOf()),this.value=this.parse(r)},d.extend(d.Array,{morph:function(r){if(this.destination=this.parse(r),this.value.length!=this.destination.length){for(var h=this.value[this.value.length-1],v=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(v);for(;this.value.length<this.destination.length;)this.value.push(h)}return this},settle:function(){for(var r=0,h=this.value.length,v=[];r<h;r++)v.indexOf(this.value[r])==-1&&v.push(this.value[r]);return this.value=v},at:function(r){if(!this.destination)return this;for(var h=0,v=this.value.length,E=[];h<v;h++)E.push(this.value[h]+(this.destination[h]-this.value[h])*r);return new d.Array(E)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(r){return r=r.valueOf(),Array.isArray(r)?r:this.split(r)},split:function(r){return r.trim().split(d.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var r=new this.constructor;return r.value=X(this.value),r}}),d.PointArray=function(r,h){d.Array.call(this,r,h||[[0,0]])},d.PointArray.prototype=new d.Array,d.PointArray.prototype.constructor=d.PointArray,d.extend(d.PointArray,{toString:function(){for(var r=0,h=this.value.length,v=[];r<h;r++)v.push(this.value[r].join(","));return v.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(r){if(!this.destination)return this;for(var h=0,v=this.value.length,E=[];h<v;h++)E.push([this.value[h][0]+(this.destination[h][0]-this.value[h][0])*r,this.value[h][1]+(this.destination[h][1]-this.value[h][1])*r]);return new d.PointArray(E)},parse:function(r){var h=[];if(r=r.valueOf(),Array.isArray(r)){if(Array.isArray(r[0]))return r.map(function(G){return G.slice()});if(r[0].x!=null)return r.map(function(G){return[G.x,G.y]})}else r=r.trim().split(d.regex.delimiter).map(parseFloat);r.length%2!==0&&r.pop();for(var v=0,E=r.length;v<E;v=v+2)h.push([r[v],r[v+1]]);return h},move:function(r,h){var v=this.bbox();if(r-=v.x,h-=v.y,!isNaN(r)&&!isNaN(h))for(var E=this.value.length-1;E>=0;E--)this.value[E]=[this.value[E][0]+r,this.value[E][1]+h];return this},size:function(r,h){var v,E=this.bbox();for(v=this.value.length-1;v>=0;v--)E.width&&(this.value[v][0]=(this.value[v][0]-E.x)*r/E.width+E.x),E.height&&(this.value[v][1]=(this.value[v][1]-E.y)*h/E.height+E.y);return this},bbox:function(){return d.parser.poly.setAttribute("points",this.toString()),d.parser.poly.getBBox()}});for(var rt={M:function(r,h,v){return h.x=v.x=r[0],h.y=v.y=r[1],["M",h.x,h.y]},L:function(r,h){return h.x=r[0],h.y=r[1],["L",r[0],r[1]]},H:function(r,h){return h.x=r[0],["H",r[0]]},V:function(r,h){return h.y=r[0],["V",r[0]]},C:function(r,h){return h.x=r[4],h.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,h){return h.x=r[2],h.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,h){return h.x=r[2],h.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,h){return h.x=r[0],h.y=r[1],["T",r[0],r[1]]},Z:function(r,h,v){return h.x=v.x,h.y=v.y,["Z"]},A:function(r,h){return h.x=r[5],h.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},wt="mlhvqtcsaz".split(""),I=0,O=wt.length;I<O;++I)rt[wt[I]]=function(r){return function(h,v,E){if(r=="H")h[0]=h[0]+v.x;else if(r=="V")h[0]=h[0]+v.y;else if(r=="A")h[5]=h[5]+v.x,h[6]=h[6]+v.y;else for(var G=0,J=h.length;G<J;++G)h[G]=h[G]+(G%2?v.y:v.x);return rt[r](h,v,E)}}(wt[I].toUpperCase());d.PathArray=function(r,h){d.Array.call(this,r,h||[["M",0,0]])},d.PathArray.prototype=new d.Array,d.PathArray.prototype.constructor=d.PathArray,d.extend(d.PathArray,{toString:function(){return c(this.value)},move:function(r,h){var v=this.bbox();if(r-=v.x,h-=v.y,!isNaN(r)&&!isNaN(h))for(var E,G=this.value.length-1;G>=0;G--)E=this.value[G][0],E=="M"||E=="L"||E=="T"?(this.value[G][1]+=r,this.value[G][2]+=h):E=="H"?this.value[G][1]+=r:E=="V"?this.value[G][1]+=h:E=="C"||E=="S"||E=="Q"?(this.value[G][1]+=r,this.value[G][2]+=h,this.value[G][3]+=r,this.value[G][4]+=h,E=="C"&&(this.value[G][5]+=r,this.value[G][6]+=h)):E=="A"&&(this.value[G][6]+=r,this.value[G][7]+=h);return this},size:function(r,h){var v,E,G=this.bbox();for(v=this.value.length-1;v>=0;v--)E=this.value[v][0],E=="M"||E=="L"||E=="T"?(this.value[v][1]=(this.value[v][1]-G.x)*r/G.width+G.x,this.value[v][2]=(this.value[v][2]-G.y)*h/G.height+G.y):E=="H"?this.value[v][1]=(this.value[v][1]-G.x)*r/G.width+G.x:E=="V"?this.value[v][1]=(this.value[v][1]-G.y)*h/G.height+G.y:E=="C"||E=="S"||E=="Q"?(this.value[v][1]=(this.value[v][1]-G.x)*r/G.width+G.x,this.value[v][2]=(this.value[v][2]-G.y)*h/G.height+G.y,this.value[v][3]=(this.value[v][3]-G.x)*r/G.width+G.x,this.value[v][4]=(this.value[v][4]-G.y)*h/G.height+G.y,E=="C"&&(this.value[v][5]=(this.value[v][5]-G.x)*r/G.width+G.x,this.value[v][6]=(this.value[v][6]-G.y)*h/G.height+G.y)):E=="A"&&(this.value[v][1]=this.value[v][1]*r/G.width,this.value[v][2]=this.value[v][2]*h/G.height,this.value[v][6]=(this.value[v][6]-G.x)*r/G.width+G.x,this.value[v][7]=(this.value[v][7]-G.y)*h/G.height+G.y);return this},equalCommands:function(r){var h,v,E;for(r=new d.PathArray(r),E=this.value.length===r.value.length,h=0,v=this.value.length;E&&h<v;h++)E=this.value[h][0]===r.value[h][0];return E},morph:function(r){return r=new d.PathArray(r),this.equalCommands(r)?this.destination=r:this.destination=null,this},at:function(r){if(!this.destination)return this;var h=this.value,v=this.destination.value,E=[],G=new d.PathArray,J,ut,dt,gt;for(J=0,ut=h.length;J<ut;J++){for(E[J]=[h[J][0]],dt=1,gt=h[J].length;dt<gt;dt++)E[J][dt]=h[J][dt]+(v[J][dt]-h[J][dt])*r;E[J][0]==="A"&&(E[J][4]=+(E[J][4]!=0),E[J][5]=+(E[J][5]!=0))}return G.value=E,G},parse:function(r){if(r instanceof d.PathArray)return r.valueOf();var h,v,E,G,J,qt,ut=0,dt=0,gt={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof r=="string"?r=r.replace(d.regex.numbersWithDots,_).replace(d.regex.pathLetters," $& ").replace(d.regex.hyphen,"$1 -").trim().split(d.regex.delimiter):r=r.reduce(function(Ee,qe){return[].concat.call(Ee,qe)},[]);var qt=[],Ut=new d.Point,ae=new d.Point,Qt=0,Ce=r.length;do d.regex.isPathLetter.test(r[Qt])?(G=r[Qt],++Qt):G=="M"?G="L":G=="m"&&(G="l"),qt.push(rt[G].call(null,r.slice(Qt,Qt=Qt+gt[G.toUpperCase()]).map(parseFloat),Ut,ae));while(Ce>Qt);return qt},bbox:function(){return d.parser.path.setAttribute("d",this.toString()),d.parser.path.getBBox()}}),d.Number=d.invent({create:function(r,h){this.value=0,this.unit=h||"",typeof r=="number"?this.value=isNaN(r)?0:isFinite(r)?r:r<0?-34e37:34e37:typeof r=="string"?(h=r.match(d.regex.numberAndUnit),h&&(this.value=parseFloat(h[1]),h[5]=="%"?this.value/=100:h[5]=="s"&&(this.value*=1e3),this.unit=h[5])):r instanceof d.Number&&(this.value=r.valueOf(),this.unit=r.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(r){return r=new d.Number(r),new d.Number(this+r,this.unit||r.unit)},minus:function(r){return r=new d.Number(r),new d.Number(this-r,this.unit||r.unit)},times:function(r){return r=new d.Number(r),new d.Number(this*r,this.unit||r.unit)},divide:function(r){return r=new d.Number(r),new d.Number(this/r,this.unit||r.unit)},to:function(r){var h=new d.Number(this);return typeof r=="string"&&(h.unit=r),h},morph:function(r){return this.destination=new d.Number(r),r.relative&&(this.destination.value+=this.value),this},at:function(r){return this.destination?new d.Number(this.destination).minus(this).times(r).plus(this):this}}}),d.Element=d.invent({create:function(r){this._stroke=d.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=r)&&(this.type=r.nodeName,this.node.instance=this,this._events=r._events||{},this._stroke=r.getAttribute("stroke")||this._stroke)},extend:{x:function(r){return this.attr("x",r)},y:function(r){return this.attr("y",r)},cx:function(r){return r==null?this.x()+this.width()/2:this.x(r-this.width()/2)},cy:function(r){return r==null?this.y()+this.height()/2:this.y(r-this.height()/2)},move:function(r,h){return this.x(r).y(h)},center:function(r,h){return this.cx(r).cy(h)},width:function(r){return this.attr("width",r)},height:function(r){return this.attr("height",r)},size:function(r,h){var v=q(this,r,h);return this.width(new d.Number(v.width)).height(new d.Number(v.height))},clone:function(r){this.writeDataToDom();var h=Ft(this.node.cloneNode(!0));return r?r.add(h):this.after(h),h},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(r){return this.after(r).remove(),r},addTo:function(r){return r.put(this)},putIn:function(r){return r.add(this)},id:function(r){return this.attr("id",r)},inside:function(r,h){var v=this.bbox();return r>v.x&&h>v.y&&r<v.x+v.width&&h<v.y+v.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var r=this.attr("class");return r==null?[]:r.trim().split(d.regex.delimiter)},hasClass:function(r){return this.classes().indexOf(r)!=-1},addClass:function(r){if(!this.hasClass(r)){var h=this.classes();h.push(r),this.attr("class",h.join(" "))}return this},removeClass:function(r){return this.hasClass(r)&&this.attr("class",this.classes().filter(function(h){return h!=r}).join(" ")),this},toggleClass:function(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)},reference:function(r){return d.get(this.attr(r))},parent:function(r){var h=this;if(!h.node.parentNode)return null;if(h=d.adopt(h.node.parentNode),!r)return h;for(;h&&h.node instanceof F.SVGElement;){if(typeof r=="string"?h.matches(r):h instanceof r)return h;if(!h.node.parentNode||h.node.parentNode.nodeName=="#document"||h.node.parentNode.nodeName=="#document-fragment")return null;h=d.adopt(h.node.parentNode)}},doc:function(){return this instanceof d.Doc?this:this.parent(d.Doc)},parents:function(r){var h=[],v=this;do{if(v=v.parent(r),!v||!v.node)break;h.push(v)}while(v.parent);return h},matches:function(r){return U(this.node,r)},native:function(){return this.node},svg:function(r){var h=ot.createElement("svg");if(r&&this instanceof d.Parent){h.innerHTML="<svg>"+r.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var v=0,E=h.firstChild.childNodes.length;v<E;v++)this.node.appendChild(h.firstChild.firstChild)}else return h.appendChild(r=ot.createElement("svg")),this.writeDataToDom(),r.appendChild(this.node.cloneNode(!0)),h.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var r=this.each?this:this.lines();r.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(r){return this.dom=r,this},is:function(r){return R(this,r)}}}),d.easing={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return-Math.cos(r*Math.PI/2)+1}},d.morph=function(r){return function(h,v){return new d.MorphObj(h,v).at(r)}},d.Situation=d.invent({create:function(r){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new d.Number(r.duration).valueOf(),this.delay=new d.Number(r.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=r.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),d.FX=d.invent({create:function(r){this._target=r,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(r,h,v){typeof r=="object"&&(h=r.ease,v=r.delay,r=r.duration);var E=new d.Situation({duration:r||1e3,delay:v||0,ease:d.easing[h||"-"]||h});return this.queue(E),this},delay:function(r){var h=new d.Situation({duration:r,delay:0,ease:d.easing["-"]});return this.queue(h)},target:function(r){return r&&r instanceof d.Element?(this._target=r,this):this._target},timeToAbsPos:function(r){return(r-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(r){return this.situation.duration/this._speed*r+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=F.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){F.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(r){return(typeof r=="function"||r instanceof d.Situation)&&this.situations.push(r),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof d.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var r,h,v,E=this.situation;if(E.init)return this;for(r in E.animations)for(v=this.target()[r](),Array.isArray(v)||(v=[v]),Array.isArray(E.animations[r])||(E.animations[r]=[E.animations[r]]),h=v.length;h--;)E.animations[r][h]instanceof d.Number&&(v[h]=new d.Number(v[h])),E.animations[r][h]=v[h].morph(E.animations[r][h]);for(r in E.attrs)E.attrs[r]=new d.MorphObj(this.target().attr(r),E.attrs[r]);for(r in E.styles)E.styles[r]=new d.MorphObj(this.target().style(r),E.styles[r]);return E.initialTransformation=this.target().matrixify(),E.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(r,h){var v=this.active;return this.active=!1,h&&this.clearQueue(),r&&this.situation&&(!v&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var r=this.situation;this.stop(),this.situation=r,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(r,h){var v=this.situation.duration/this._speed;return this.absPos=r,h||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*v,this.situation.finish=this.situation.start+v,this.step(!0)},speed:function(r){return r===0?this.pause():r?(this._speed=r,this.at(this.absPos,!0)):this._speed},loop:function(r,h){var v=this.last();return v.loops=r??!0,v.loop=0,h&&(v.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(r){var h=this.last();return typeof r>"u"?h.reversed=!h.reversed:h.reversed=r,this},progress:function(r){return r?this.situation.ease(this.pos):this.pos},after:function(r){var h=this.last(),v=function E(G){G.detail.situation==h&&(r.call(this,h),this.off("finished.fx",E))};return this.target().on("finished.fx",v),this._callStart()},during:function(r){var h=this.last(),v=function(E){E.detail.situation==h&&r.call(this,E.detail.pos,d.morph(E.detail.pos),E.detail.eased,h)};return this.target().off("during.fx",v).on("during.fx",v),this.after(function(){this.off("during.fx",v)}),this._callStart()},afterAll:function(r){var h=function v(E){r.call(this),this.off("allfinished.fx",v)};return this.target().off("allfinished.fx",h).on("allfinished.fx",h),this._callStart()},duringAll:function(r){var h=function(v){r.call(this,v.detail.pos,d.morph(v.detail.pos),v.detail.eased,v.detail.situation)};return this.target().off("during.fx",h).on("during.fx",h),this.afterAll(function(){this.off("during.fx",h)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(r,h,v){return this.last()[v||"animations"][r]=h,this._callStart()},step:function(r){if(r||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var h,v,E;h=Math.max(this.absPos,0),v=Math.floor(h),this.situation.loops===!0||v<this.situation.loops?(this.pos=h-v,E=this.situation.loop,this.situation.loop=v):(this.absPos=this.situation.loops,this.pos=1,E=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-E)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var G=this.situation.ease(this.pos);for(var J in this.situation.once)J>this.lastPos&&J<=G&&(this.situation.once[J].call(this.target(),this.pos,G),delete this.situation.once[J]);return this.active&&this.target().fire("during",{pos:this.pos,eased:G,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=G,this):this},eachAt:function(){var r,h,v,E=this,G=this.target(),J=this.situation;for(r in J.animations)v=[].concat(J.animations[r]).map(function(dt){return typeof dt!="string"&&dt.at?dt.at(J.ease(E.pos),E.pos):dt}),G[r].apply(G,v);for(r in J.attrs)v=[r].concat(J.attrs[r]).map(function(dt){return typeof dt!="string"&&dt.at?dt.at(J.ease(E.pos),E.pos):dt}),G.attr.apply(G,v);for(r in J.styles)v=[r].concat(J.styles[r]).map(function(dt){return typeof dt!="string"&&dt.at?dt.at(J.ease(E.pos),E.pos):dt}),G.style.apply(G,v);if(J.transforms.length){for(v=J.initialTransformation,r=0,h=J.transforms.length;r<h;r++){var ut=J.transforms[r];if(ut instanceof d.Matrix){ut.relative?v=v.multiply(new d.Matrix().morph(ut).at(J.ease(this.pos))):v=v.morph(ut).at(J.ease(this.pos));continue}ut.relative||ut.undo(v.extract()),v=v.multiply(ut.at(J.ease(this.pos)))}G.matrix(v)}return this},once:function(r,h,v){var E=this.last();return v||(r=E.ease(r)),E.once[r]=h,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:d.Element,construct:{animate:function(r,h,v){return(this.fx||(this.fx=new d.FX(this))).animate(r,h,v)},delay:function(r){return(this.fx||(this.fx=new d.FX(this))).delay(r)},stop:function(r,h){return this.fx&&this.fx.stop(r,h),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(r){if(this.fx){if(r==null)return this.fx.speed();this.fx.speed(r)}return this}}}),d.MorphObj=d.invent({create:function(r,h){if(d.Color.isColor(h))return new d.Color(r).morph(h);if(d.regex.delimiter.test(r))return d.regex.pathLetters.test(r)?new d.PathArray(r).morph(h):new d.Array(r).morph(h);if(d.regex.numberAndUnit.test(h))return new d.Number(r).morph(h);this.value=r,this.destination=h},extend:{at:function(r,h){return h<1?this.value:this.destination},valueOf:function(){return this.value}}}),d.extend(d.FX,{attr:function(r,h,v){if(typeof r=="object")for(var E in r)this.attr(E,r[E]);else this.add(r,h,"attrs");return this},style:function(r,h){if(typeof r=="object")for(var v in r)this.style(v,r[v]);else this.add(r,h,"styles");return this},x:function(r,h){if(this.target()instanceof d.G)return this.transform({x:r},h),this;var v=new d.Number(r);return v.relative=h,this.add("x",v)},y:function(r,h){if(this.target()instanceof d.G)return this.transform({y:r},h),this;var v=new d.Number(r);return v.relative=h,this.add("y",v)},cx:function(r){return this.add("cx",new d.Number(r))},cy:function(r){return this.add("cy",new d.Number(r))},move:function(r,h){return this.x(r).y(h)},center:function(r,h){return this.cx(r).cy(h)},size:function(r,h){if(this.target()instanceof d.Text)this.attr("font-size",r);else{var v;(!r||!h)&&(v=this.target().bbox()),r||(r=v.width/v.height*h),h||(h=v.height/v.width*r),this.add("width",new d.Number(r)).add("height",new d.Number(h))}return this},width:function(r){return this.add("width",new d.Number(r))},height:function(r){return this.add("height",new d.Number(r))},plot:function(r,h,v,E){return arguments.length==4?this.plot([r,h,v,E]):this.add("plot",new(this.target()).morphArray(r))},leading:function(r){return this.target().leading?this.add("leading",new d.Number(r)):this},viewbox:function(r,h,v,E){return this.target()instanceof d.Container&&this.add("viewbox",new d.ViewBox(r,h,v,E)),this},update:function(r){if(this.target()instanceof d.Stop){if(typeof r=="number"||r instanceof d.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset)}return this}}),d.Box=d.invent({create:function(r,h,v,E){if(typeof r=="object"&&!(r instanceof d.Element))return d.Box.call(this,r.left!=null?r.left:r.x,r.top!=null?r.top:r.y,r.width,r.height);arguments.length==4&&(this.x=r,this.y=h,this.width=v,this.height=E),Dt(this)},extend:{merge:function(r){var h=new this.constructor;return h.x=Math.min(this.x,r.x),h.y=Math.min(this.y,r.y),h.width=Math.max(this.x+this.width,r.x+r.width)-h.x,h.height=Math.max(this.y+this.height,r.y+r.height)-h.y,Dt(h)},transform:function(r){var h=1/0,v=-1/0,E=1/0,G=-1/0,J,ut,dt=[new d.Point(this.x,this.y),new d.Point(this.x2,this.y),new d.Point(this.x,this.y2),new d.Point(this.x2,this.y2)];return dt.forEach(function(gt){gt=gt.transform(r),h=Math.min(h,gt.x),v=Math.max(v,gt.x),E=Math.min(E,gt.y),G=Math.max(G,gt.y)}),ut=new this.constructor,ut.x=h,ut.width=v-h,ut.y=E,ut.height=G-E,Dt(ut),ut}}}),d.BBox=d.invent({create:function(r){if(d.Box.apply(this,[].slice.call(arguments)),r instanceof d.Element){var h;try{if(ot.documentElement.contains){if(!ot.documentElement.contains(r.node))throw new Exception("Element not in the dom")}else{for(var v=r.node;v.parentNode;)v=v.parentNode;if(v!=ot)throw new Exception("Element not in the dom")}h=r.node.getBBox()}catch{if(r instanceof d.Shape){var E=r.clone(d.parser.draw.instance).show();h=E.node.getBBox(),E.remove()}else h={x:r.node.clientLeft,y:r.node.clientTop,width:r.node.clientWidth,height:r.node.clientHeight}}d.Box.call(this,h)}},inherit:d.Box,parent:d.Element,construct:{bbox:function(){return new d.BBox(this)}}}),d.BBox.prototype.constructor=d.BBox,d.extend(d.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),d.RBox=d.invent({create:function(r){d.Box.apply(this,[].slice.call(arguments)),r instanceof d.Element&&d.Box.call(this,r.node.getBoundingClientRect())},inherit:d.Box,parent:d.Element,extend:{addOffset:function(){return this.x+=F.pageXOffset,this.y+=F.pageYOffset,this}},construct:{rbox:function(r){return r?new d.RBox(this).transform(r.screenCTM().inverse()):new d.RBox(this).addOffset()}}}),d.RBox.prototype.constructor=d.RBox,d.Matrix=d.invent({create:function(r){var h,v=ft([1,0,0,1,0,0]);for(r=r instanceof d.Element?r.matrixify():typeof r=="string"?ft(r.split(d.regex.delimiter).map(parseFloat)):arguments.length==6?ft([].slice.call(arguments)):Array.isArray(r)?ft(r):typeof r=="object"?r:v,h=It.length-1;h>=0;--h)this[It[h]]=r[It[h]]!=null?r[It[h]]:v[It[h]]},extend:{extract:function(){var r=mt(this,0,1),h=mt(this,1,0),v=180/Math.PI*Math.atan2(r.y,r.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(v*Math.PI/180)+this.f*Math.sin(v*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(v*Math.PI/180)+this.e*Math.sin(-v*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-v,skewY:180/Math.PI*Math.atan2(h.y,h.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:v,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new d.Matrix(this)}},clone:function(){return new d.Matrix(this)},morph:function(r){return this.destination=new d.Matrix(r),this},at:function(r){if(!this.destination)return this;var h=new d.Matrix({a:this.a+(this.destination.a-this.a)*r,b:this.b+(this.destination.b-this.b)*r,c:this.c+(this.destination.c-this.c)*r,d:this.d+(this.destination.d-this.d)*r,e:this.e+(this.destination.e-this.e)*r,f:this.f+(this.destination.f-this.f)*r});return h},multiply:function(r){return new d.Matrix(this.native().multiply(At(r).native()))},inverse:function(){return new d.Matrix(this.native().inverse())},translate:function(r,h){return new d.Matrix(this.native().translate(r||0,h||0))},scale:function(r,h,v,E){return arguments.length==1?h=r:arguments.length==3&&(E=v,v=h,h=r),this.around(v,E,new d.Matrix(r,0,0,h,0,0))},rotate:function(r,h,v){return r=d.utils.radians(r),this.around(h,v,new d.Matrix(Math.cos(r),Math.sin(r),-Math.sin(r),Math.cos(r),0,0))},flip:function(r,h){return r=="x"?this.scale(-1,1,h,0):r=="y"?this.scale(1,-1,0,h):this.scale(-1,-1,r,h??r)},skew:function(r,h,v,E){return arguments.length==1?h=r:arguments.length==3&&(E=v,v=h,h=r),r=d.utils.radians(r),h=d.utils.radians(h),this.around(v,E,new d.Matrix(1,Math.tan(h),Math.tan(r),1,0,0))},skewX:function(r,h,v){return this.skew(r,0,h,v)},skewY:function(r,h,v){return this.skew(0,r,h,v)},around:function(r,h,v){return this.multiply(new d.Matrix(1,0,0,1,r||0,h||0)).multiply(v).multiply(new d.Matrix(1,0,0,1,-r||0,-h||0))},native:function(){for(var r=d.parser.native.createSVGMatrix(),h=It.length-1;h>=0;h--)r[It[h]]=this[It[h]];return r},toString:function(){return"matrix("+kt(this.a)+","+kt(this.b)+","+kt(this.c)+","+kt(this.d)+","+kt(this.e)+","+kt(this.f)+")"}},parent:d.Element,construct:{ctm:function(){return new d.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof d.Nested){var r=this.rect(1,1),h=r.node.getScreenCTM();return r.remove(),new d.Matrix(h)}return new d.Matrix(this.node.getScreenCTM())}}}),d.Point=d.invent({create:function(r,h){var v,E,G={x:0,y:0};E=Array.isArray(r)?{x:r[0],y:r[1]}:typeof r=="object"?{x:r.x,y:r.y}:r!=null?{x:r,y:h??r}:G,this.x=E.x,this.y=E.y},extend:{clone:function(){return new d.Point(this)},morph:function(r,h){return this.destination=new d.Point(r,h),this},at:function(r){if(!this.destination)return this;var h=new d.Point({x:this.x+(this.destination.x-this.x)*r,y:this.y+(this.destination.y-this.y)*r});return h},native:function(){var r=d.parser.native.createSVGPoint();return r.x=this.x,r.y=this.y,r},transform:function(r){return new d.Point(this.native().matrixTransform(r.native()))}}}),d.extend(d.Element,{point:function(r,h){return new d.Point(r,h).transform(this.screenCTM().inverse())}}),d.extend(d.Element,{attr:function(r,h,v){if(r==null){for(r={},h=this.node.attributes,v=h.length-1;v>=0;v--)r[h[v].nodeName]=d.regex.isNumber.test(h[v].nodeValue)?parseFloat(h[v].nodeValue):h[v].nodeValue;return r}else if(typeof r=="object")for(h in r)this.attr(h,r[h]);else if(h===null)this.node.removeAttribute(r);else{if(h==null)return h=this.node.getAttribute(r),h==null?d.defaults.attrs[r]:d.regex.isNumber.test(h)?parseFloat(h):h;r=="stroke-width"?this.attr("stroke",parseFloat(h)>0?this._stroke:null):r=="stroke"&&(this._stroke=h),(r=="fill"||r=="stroke")&&(d.regex.isImage.test(h)&&(h=this.doc().defs().image(h,0,0)),h instanceof d.Image&&(h=this.doc().defs().pattern(0,0,function(){this.add(h)}))),typeof h=="number"?h=new d.Number(h):d.Color.isColor(h)?h=new d.Color(h):Array.isArray(h)&&(h=new d.Array(h)),r=="leading"?this.leading&&this.leading(h):typeof v=="string"?this.node.setAttributeNS(v,r,h.toString()):this.node.setAttribute(r,h.toString()),this.rebuild&&(r=="font-size"||r=="x")&&this.rebuild(r,h)}return this}}),d.extend(d.Element,{transform:function(r,h){var v=this,E,G;if(typeof r!="object")return E=new d.Matrix(v).extract(),typeof r=="string"?E[r]:E;if(E=new d.Matrix(v),h=!!h||!!r.relative,r.a!=null)E=h?E.multiply(new d.Matrix(r)):new d.Matrix(r);else if(r.rotation!=null)yt(r,v),E=h?E.rotate(r.rotation,r.cx,r.cy):E.rotate(r.rotation-E.extract().rotation,r.cx,r.cy);else if(r.scale!=null||r.scaleX!=null||r.scaleY!=null){if(yt(r,v),r.scaleX=r.scale!=null?r.scale:r.scaleX!=null?r.scaleX:1,r.scaleY=r.scale!=null?r.scale:r.scaleY!=null?r.scaleY:1,!h){var J=E.extract();r.scaleX=r.scaleX*1/J.scaleX,r.scaleY=r.scaleY*1/J.scaleY}E=E.scale(r.scaleX,r.scaleY,r.cx,r.cy)}else if(r.skew!=null||r.skewX!=null||r.skewY!=null){if(yt(r,v),r.skewX=r.skew!=null?r.skew:r.skewX!=null?r.skewX:0,r.skewY=r.skew!=null?r.skew:r.skewY!=null?r.skewY:0,!h){var J=E.extract();E=E.multiply(new d.Matrix().skew(J.skewX,J.skewY,r.cx,r.cy).inverse())}E=E.skew(r.skewX,r.skewY,r.cx,r.cy)}else r.flip?(r.flip=="x"||r.flip=="y"?r.offset=r.offset==null?v.bbox()["c"+r.flip]:r.offset:r.offset==null?(G=v.bbox(),r.flip=G.cx,r.offset=G.cy):r.flip=r.offset,E=new d.Matrix().flip(r.flip,r.offset)):(r.x!=null||r.y!=null)&&(h?E=E.translate(r.x,r.y):(r.x!=null&&(E.e=r.x),r.y!=null&&(E.f=r.y)));return this.attr("transform",E)}}),d.extend(d.FX,{transform:function(r,h){var v=this.target(),E,G;return typeof r!="object"?(E=new d.Matrix(v).extract(),typeof r=="string"?E[r]:E):(h=!!h||!!r.relative,r.a!=null?E=new d.Matrix(r):r.rotation!=null?(yt(r,v),E=new d.Rotate(r.rotation,r.cx,r.cy)):r.scale!=null||r.scaleX!=null||r.scaleY!=null?(yt(r,v),r.scaleX=r.scale!=null?r.scale:r.scaleX!=null?r.scaleX:1,r.scaleY=r.scale!=null?r.scale:r.scaleY!=null?r.scaleY:1,E=new d.Scale(r.scaleX,r.scaleY,r.cx,r.cy)):r.skewX!=null||r.skewY!=null?(yt(r,v),r.skewX=r.skewX!=null?r.skewX:0,r.skewY=r.skewY!=null?r.skewY:0,E=new d.Skew(r.skewX,r.skewY,r.cx,r.cy)):r.flip?(r.flip=="x"||r.flip=="y"?r.offset=r.offset==null?v.bbox()["c"+r.flip]:r.offset:r.offset==null?(G=v.bbox(),r.flip=G.cx,r.offset=G.cy):r.flip=r.offset,E=new d.Matrix().flip(r.flip,r.offset)):(r.x!=null||r.y!=null)&&(E=new d.Translate(r.x,r.y)),E?(E.relative=h,this.last().transforms.push(E),this._callStart()):this)}}),d.extend(d.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var r=(this.attr("transform")||"").split(d.regex.transforms).slice(0,-1).map(function(h){var v=h.trim().split("(");return[v[0],v[1].split(d.regex.delimiter).map(function(E){return parseFloat(E)})]}).reduce(function(h,v){return v[0]=="matrix"?h.multiply(ft(v[1])):h[v[0]].apply(h,v[1])},new d.Matrix);return r},toParent:function(r){if(this==r)return this;var h=this.screenCTM(),v=r.screenCTM().inverse();return this.addTo(r).untransform().transform(v.multiply(h)),this},toDoc:function(){return this.toParent(this.doc())}}),d.Transformation=d.invent({create:function(r,h){if(arguments.length>1&&typeof h!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(r))for(var v=0,E=this.arguments.length;v<E;++v)this[this.arguments[v]]=r[v];else if(typeof r=="object")for(var v=0,E=this.arguments.length;v<E;++v)this[this.arguments[v]]=r[this.arguments[v]];this.inversed=!1,h===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(r){for(var h=[],v=0,E=this.arguments.length;v<E;++v)h.push(this[this.arguments[v]]);var G=this._undo||new d.Matrix;return G=new d.Matrix().morph(d.Matrix.prototype[this.method].apply(G,h)).at(r),this.inversed?G.inverse():G},undo:function(r){for(var h=0,v=this.arguments.length;h<v;++h)r[this.arguments[h]]=typeof this[this.arguments[h]]>"u"?0:r[this.arguments[h]];return r.cx=this.cx,r.cy=this.cy,this._undo=new d[tt(this.method)](r,!0).at(1),this}}}),d.Translate=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(r,h){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),d.Rotate=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(r,h){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(r){var h=new d.Matrix().rotate(new d.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(r),this.cx,this.cy);return this.inversed?h.inverse():h},undo:function(r){return this._undo=r,this}}}),d.Scale=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(r,h){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),d.Skew=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(r,h){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),d.extend(d.Element,{style:function(r,h){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof r=="object")for(h in r)this.style(h,r[h]);else if(d.regex.isCss.test(r))for(r=r.split(/\s*;\s*/).filter(function(v){return!!v}).map(function(v){return v.split(/\s*:\s*/)});h=r.pop();)this.style(h[0],h[1]);else return this.node.style[Q(r)];else this.node.style[Q(r)]=h===null||d.regex.isBlank.test(h)?"":h;return this}}),d.Parent=d.invent({create:function(r){this.constructor.call(this,r)},inherit:d.Element,extend:{children:function(){return d.utils.map(d.utils.filterSVGElements(this.node.childNodes),function(r){return d.adopt(r)})},add:function(r,h){return h==null?this.node.appendChild(r.node):r.node!=this.node.childNodes[h]&&this.node.insertBefore(r.node,this.node.childNodes[h]),this},put:function(r,h){return this.add(r,h),r},has:function(r){return this.index(r)>=0},index:function(r){return[].slice.call(this.node.childNodes).indexOf(r.node)},get:function(r){return d.adopt(this.node.childNodes[r])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(r,h){var v,E,G=this.children();for(v=0,E=G.length;v<E;v++)G[v]instanceof d.Element&&r.apply(G[v],[v,G]),h&&G[v]instanceof d.Container&&G[v].each(r,h);return this},removeElement:function(r){return this.node.removeChild(r.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),d.extend(d.Parent,{ungroup:function(r,h){return h===0||this instanceof d.Defs||this.node==d.parser.draw?this:(r=r||(this instanceof d.Doc?this:this.parent(d.Parent)),h=h||1/0,this.each(function(){return this instanceof d.Defs?this:this instanceof d.Parent?this.ungroup(r,h-1):this.toParent(r)}),this.node.firstChild||this.remove(),this)},flatten:function(r,h){return this.ungroup(r,h)}}),d.Container=d.invent({create:function(r){this.constructor.call(this,r)},inherit:d.Parent}),d.ViewBox=d.invent({create:function(r){var h,v=[0,0,0,0],E,G,J,ut,dt,gt,qt,Ut,ae=1,Qt=1,Ce=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(r instanceof d.Element){for(qt=r,Ut=r,gt=(r.attr("viewBox")||"").match(Ce),dt=r.bbox,J=new d.Number(r.width()),ut=new d.Number(r.height());J.unit=="%";)ae*=J.value,J=new d.Number(qt instanceof d.Doc?qt.parent().offsetWidth:qt.parent().width()),qt=qt.parent();for(;ut.unit=="%";)Qt*=ut.value,ut=new d.Number(Ut instanceof d.Doc?Ut.parent().offsetHeight:Ut.parent().height()),Ut=Ut.parent();this.x=0,this.y=0,this.width=J*ae,this.height=ut*Qt,this.zoom=1,gt&&(E=parseFloat(gt[0]),G=parseFloat(gt[1]),J=parseFloat(gt[2]),ut=parseFloat(gt[3]),this.zoom=this.width/this.height>J/ut?this.height/ut:this.width/J,this.x=E,this.y=G,this.width=J,this.height=ut)}else r=typeof r=="string"?r.match(Ce).map(function(Ee){return parseFloat(Ee)}):Array.isArray(r)?r:typeof r=="object"?[r.x,r.y,r.width,r.height]:arguments.length==4?[].slice.call(arguments):v,this.x=r[0],this.y=r[1],this.width=r[2],this.height=r[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(r,h,v,E){return this.destination=new d.ViewBox(r,h,v,E),this},at:function(r){return this.destination?new d.ViewBox([this.x+(this.destination.x-this.x)*r,this.y+(this.destination.y-this.y)*r,this.width+(this.destination.width-this.width)*r,this.height+(this.destination.height-this.height)*r]):this}},parent:d.Container,construct:{viewbox:function(r,h,v,E){return arguments.length==0?new d.ViewBox(this):this.attr("viewBox",new d.ViewBox(r,h,v,E))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(r){d.Element.prototype[r]=function(h){return h==null?d.off(this,r):d.on(this,r,h),this}}),d.listenerId=0,d.on=function(r,h,v,E,G){var J=v.bind(E||r),ut=r instanceof d.Element?r.node:r;ut.instance=ut.instance||{_events:{}};var dt=ut.instance._events;v._svgjsListenerId||(v._svgjsListenerId=++d.listenerId),h.split(d.regex.delimiter).forEach(function(gt){var qt=gt.split(".")[0],Ut=gt.split(".")[1]||"*";dt[qt]=dt[qt]||{},dt[qt][Ut]=dt[qt][Ut]||{},dt[qt][Ut][v._svgjsListenerId]=J,ut.addEventListener(qt,J,G||!1)})},d.off=function(r,h,v,E){var G=r instanceof d.Element?r.node:r;if(G.instance&&!(typeof v=="function"&&(v=v._svgjsListenerId,!v))){var J=G.instance._events;(h||"").split(d.regex.delimiter).forEach(function(ut){var dt=ut&&ut.split(".")[0],gt=ut&&ut.split(".")[1],qt,Ut;if(v)J[dt]&&J[dt][gt||"*"]&&(G.removeEventListener(dt,J[dt][gt||"*"][v],E||!1),delete J[dt][gt||"*"][v]);else if(dt&&gt){if(J[dt]&&J[dt][gt]){for(Ut in J[dt][gt])d.off(G,[dt,gt].join("."),Ut);delete J[dt][gt]}}else if(gt)for(ut in J)for(qt in J[ut])gt===qt&&d.off(G,[ut,gt].join("."));else if(dt){if(J[dt]){for(qt in J[dt])d.off(G,[dt,qt].join("."));delete J[dt]}}else{for(ut in J)d.off(G,ut);G.instance._events={}}})}},d.extend(d.Element,{on:function(r,h,v,E){return d.on(this,r,h,v,E),this},off:function(r,h){return d.off(this.node,r,h),this},fire:function(r,h){return r instanceof F.Event?this.node.dispatchEvent(r):this.node.dispatchEvent(r=new d.CustomEvent(r,{detail:h,cancelable:!0})),this._event=r,this},event:function(){return this._event}}),d.Defs=d.invent({create:"defs",inherit:d.Container}),d.G=d.invent({create:"g",inherit:d.Container,extend:{x:function(r){return r==null?this.transform("x"):this.transform({x:r-this.x()},!0)},y:function(r){return r==null?this.transform("y"):this.transform({y:r-this.y()},!0)},cx:function(r){return r==null?this.gbox().cx:this.x(r-this.gbox().width/2)},cy:function(r){return r==null?this.gbox().cy:this.y(r-this.gbox().height/2)},gbox:function(){var r=this.bbox(),h=this.transform();return r.x+=h.x,r.x2+=h.x,r.cx+=h.x,r.y+=h.y,r.y2+=h.y,r.cy+=h.y,r}},construct:{group:function(){return this.put(new d.G)}}}),d.Doc=d.invent({create:function(r){r&&(r=typeof r=="string"?ot.getElementById(r):r,r.nodeName=="svg"?this.constructor.call(this,r):(this.constructor.call(this,d.create("svg")),r.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:d.Container,extend:{namespace:function(){return this.attr({xmlns:d.ns,version:"1.1"}).attr("xmlns:xlink",d.xlink,d.xmlns).attr("xmlns:svgjs",d.svgjs,d.xmlns)},defs:function(){if(!this._defs){var r;(r=this.node.getElementsByTagName("defs")[0])?this._defs=d.adopt(r):this._defs=new d.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var r=this.node.getScreenCTM();return r&&this.style("left",-r.e%1+"px").style("top",-r.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,d.parser.draw.parentNode||this.node.appendChild(d.parser.draw),this},clone:function(r){this.writeDataToDom();var h=this.node,v=Ft(h.cloneNode(!0));return r?(r.node||r).appendChild(v.node):h.parentNode.insertBefore(v.node,h.nextSibling),v}}}),d.extend(d.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var r=this.position()+1,h=this.parent();return h.removeElement(this).add(this,r),h instanceof d.Doc&&h.node.appendChild(h.defs().node),this},backward:function(){var r=this.position();return r>0&&this.parent().removeElement(this).add(this,r-1),this},front:function(){var r=this.parent();return r.node.appendChild(this.node),r instanceof d.Doc&&r.node.appendChild(r.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(r){r.remove();var h=this.position();return this.parent().add(r,h),this},after:function(r){r.remove();var h=this.position();return this.parent().add(r,h+1),this}}),d.Mask=d.invent({create:function(){this.constructor.call(this,d.create("mask")),this.targets=[]},inherit:d.Container,extend:{remove:function(){for(var r=this.targets.length-1;r>=0;r--)this.targets[r]&&this.targets[r].unmask();return this.targets=[],d.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new d.Mask)}}}),d.extend(d.Element,{maskWith:function(r){return this.masker=r instanceof d.Mask?r:this.parent().mask().add(r),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),d.ClipPath=d.invent({create:function(){this.constructor.call(this,d.create("clipPath")),this.targets=[]},inherit:d.Container,extend:{remove:function(){for(var r=this.targets.length-1;r>=0;r--)this.targets[r]&&this.targets[r].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new d.ClipPath)}}}),d.extend(d.Element,{clipWith:function(r){return this.clipper=r instanceof d.ClipPath?r:this.parent().clip().add(r),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),d.Gradient=d.invent({create:function(r){this.constructor.call(this,d.create(r+"Gradient")),this.type=r},inherit:d.Container,extend:{at:function(r,h,v){return this.put(new d.Stop).update(r,h,v)},update:function(r){return this.clear(),typeof r=="function"&&r.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(r,h,v){return r=="transform"&&(r="gradientTransform"),d.Container.prototype.attr.call(this,r,h,v)}},construct:{gradient:function(r,h){return this.defs().gradient(r,h)}}}),d.extend(d.Gradient,d.FX,{from:function(r,h){return(this._target||this).type=="radial"?this.attr({fx:new d.Number(r),fy:new d.Number(h)}):this.attr({x1:new d.Number(r),y1:new d.Number(h)})},to:function(r,h){return(this._target||this).type=="radial"?this.attr({cx:new d.Number(r),cy:new d.Number(h)}):this.attr({x2:new d.Number(r),y2:new d.Number(h)})}}),d.extend(d.Defs,{gradient:function(r,h){return this.put(new d.Gradient(r)).update(h)}}),d.Stop=d.invent({create:"stop",inherit:d.Element,extend:{update:function(r){return(typeof r=="number"||r instanceof d.Number)&&(r={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",new d.Number(r.offset)),this}}}),d.Pattern=d.invent({create:"pattern",inherit:d.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(r){return this.clear(),typeof r=="function"&&r.call(this,this),this},toString:function(){return this.fill()},attr:function(r,h,v){return r=="transform"&&(r="patternTransform"),d.Container.prototype.attr.call(this,r,h,v)}},construct:{pattern:function(r,h,v){return this.defs().pattern(r,h,v)}}}),d.extend(d.Defs,{pattern:function(r,h,v){return this.put(new d.Pattern).update(v).attr({x:0,y:0,width:r,height:h,patternUnits:"userSpaceOnUse"})}}),d.Shape=d.invent({create:function(r){this.constructor.call(this,r)},inherit:d.Element}),d.Bare=d.invent({create:function(r,h){if(this.constructor.call(this,d.create(r)),h)for(var v in h.prototype)typeof h.prototype[v]=="function"&&(this[v]=h.prototype[v])},inherit:d.Element,extend:{words:function(r){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(ot.createTextNode(r)),this}}}),d.extend(d.Parent,{element:function(r,h){return this.put(new d.Bare(r,h))}}),d.Symbol=d.invent({create:"symbol",inherit:d.Container,construct:{symbol:function(){return this.put(new d.Symbol)}}}),d.Use=d.invent({create:"use",inherit:d.Shape,extend:{element:function(r,h){return this.attr("href",(h||"")+"#"+r,d.xlink)}},construct:{use:function(r,h){return this.put(new d.Use).element(r,h)}}}),d.Rect=d.invent({create:"rect",inherit:d.Shape,construct:{rect:function(r,h){return this.put(new d.Rect).size(r,h)}}}),d.Circle=d.invent({create:"circle",inherit:d.Shape,construct:{circle:function(r){return this.put(new d.Circle).rx(new d.Number(r).divide(2)).move(0,0)}}}),d.extend(d.Circle,d.FX,{rx:function(r){return this.attr("r",r)},ry:function(r){return this.rx(r)}}),d.Ellipse=d.invent({create:"ellipse",inherit:d.Shape,construct:{ellipse:function(r,h){return this.put(new d.Ellipse).size(r,h).move(0,0)}}}),d.extend(d.Ellipse,d.Rect,d.FX,{rx:function(r){return this.attr("rx",r)},ry:function(r){return this.attr("ry",r)}}),d.extend(d.Circle,d.Ellipse,{x:function(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())},y:function(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())},cx:function(r){return r==null?this.attr("cx"):this.attr("cx",r)},cy:function(r){return r==null?this.attr("cy"):this.attr("cy",r)},width:function(r){return r==null?this.rx()*2:this.rx(new d.Number(r).divide(2))},height:function(r){return r==null?this.ry()*2:this.ry(new d.Number(r).divide(2))},size:function(r,h){var v=q(this,r,h);return this.rx(new d.Number(v.width).divide(2)).ry(new d.Number(v.height).divide(2))}}),d.Line=d.invent({create:"line",inherit:d.Shape,extend:{array:function(){return new d.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(r,h,v,E){return r==null?this.array():(typeof h<"u"?r={x1:r,y1:h,x2:v,y2:E}:r=new d.PointArray(r).toLine(),this.attr(r))},move:function(r,h){return this.attr(this.array().move(r,h).toLine())},size:function(r,h){var v=q(this,r,h);return this.attr(this.array().size(v.width,v.height).toLine())}},construct:{line:function(r,h,v,E){return d.Line.prototype.plot.apply(this.put(new d.Line),r!=null?[r,h,v,E]:[0,0,0,0])}}}),d.Polyline=d.invent({create:"polyline",inherit:d.Shape,construct:{polyline:function(r){return this.put(new d.Polyline).plot(r||new d.PointArray)}}}),d.Polygon=d.invent({create:"polygon",inherit:d.Shape,construct:{polygon:function(r){return this.put(new d.Polygon).plot(r||new d.PointArray)}}}),d.extend(d.Polyline,d.Polygon,{array:function(){return this._array||(this._array=new d.PointArray(this.attr("points")))},plot:function(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new d.PointArray(r))},clear:function(){return delete this._array,this},move:function(r,h){return this.attr("points",this.array().move(r,h))},size:function(r,h){var v=q(this,r,h);return this.attr("points",this.array().size(v.width,v.height))}}),d.extend(d.Line,d.Polyline,d.Polygon,{morphArray:d.PointArray,x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)},width:function(r){var h=this.bbox();return r==null?h.width:this.size(r,h.height)},height:function(r){var h=this.bbox();return r==null?h.height:this.size(h.width,r)}}),d.Path=d.invent({create:"path",inherit:d.Shape,extend:{morphArray:d.PathArray,array:function(){return this._array||(this._array=new d.PathArray(this.attr("d")))},plot:function(r){return r==null?this.array():this.clear().attr("d",typeof r=="string"?r:this._array=new d.PathArray(r))},clear:function(){return delete this._array,this},move:function(r,h){return this.attr("d",this.array().move(r,h))},x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)},size:function(r,h){var v=q(this,r,h);return this.attr("d",this.array().size(v.width,v.height))},width:function(r){return r==null?this.bbox().width:this.size(r,this.bbox().height)},height:function(r){return r==null?this.bbox().height:this.size(this.bbox().width,r)}},construct:{path:function(r){return this.put(new d.Path).plot(r||new d.PathArray)}}}),d.Image=d.invent({create:"image",inherit:d.Shape,extend:{load:function(r){if(!r)return this;var h=this,v=new F.Image;return d.on(v,"load",function(){d.off(v);var E=h.parent(d.Pattern);E!==null&&(h.width()==0&&h.height()==0&&h.size(v.width,v.height),E&&E.width()==0&&E.height()==0&&E.size(h.width(),h.height()),typeof h._loaded=="function"&&h._loaded.call(h,{width:v.width,height:v.height,ratio:v.width/v.height,url:r}))}),d.on(v,"error",function(E){d.off(v),typeof h._error=="function"&&h._error.call(h,E)}),this.attr("href",v.src=this.src=r,d.xlink)},loaded:function(r){return this._loaded=r,this},error:function(r){return this._error=r,this}},construct:{image:function(r,h,v){return this.put(new d.Image).load(r).size(h||0,v||h||0)}}}),d.Text=d.invent({create:function(){this.constructor.call(this,d.create("text")),this.dom.leading=new d.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",d.defaults.attrs["font-family"])},inherit:d.Shape,extend:{x:function(r){return r==null?this.attr("x"):this.attr("x",r)},y:function(r){var h=this.attr("y"),v=typeof h=="number"?h-this.bbox().y:0;return r==null?typeof h=="number"?h-v:h:this.attr("y",typeof r.valueOf()=="number"?r+v:r)},cx:function(r){return r==null?this.bbox().cx:this.x(r-this.bbox().width/2)},cy:function(r){return r==null?this.bbox().cy:this.y(r-this.bbox().height/2)},text:function(r){if(typeof r>"u"){for(var r="",h=this.node.childNodes,v=0,E=h.length;v<E;++v)v!=0&&h[v].nodeType!=3&&d.adopt(h[v]).dom.newLined==!0&&(r+=`
`),r+=h[v].textContent;return r}if(this.clear().build(!0),typeof r=="function")r.call(this,this);else{r=r.split(`
`);for(var v=0,G=r.length;v<G;v++)this.tspan(r[v]).newLine()}return this.build(!1).rebuild()},size:function(r){return this.attr("font-size",r).rebuild()},leading:function(r){return r==null?this.dom.leading:(this.dom.leading=new d.Number(r),this.rebuild())},lines:function(){var r=(this.textPath&&this.textPath()||this).node,h=d.utils.map(d.utils.filterSVGElements(r.childNodes),function(v){return d.adopt(v)});return new d.Set(h)},rebuild:function(r){if(typeof r=="boolean"&&(this._rebuild=r),this._rebuild){var h=this,v=0,E=this.dom.leading*new d.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(h.textPath()||this.attr("x",h.attr("x")),this.text()==`
`?v+=E:(this.attr("dy",E+v),v=0))}),this.fire("rebuild")}return this},build:function(r){return this._build=!!r,this},setData:function(r){return this.dom=r,this.dom.leading=new d.Number(r.leading||1.3),this}},construct:{text:function(r){return this.put(new d.Text).text(r)},plain:function(r){return this.put(new d.Text).plain(r)}}}),d.Tspan=d.invent({create:"tspan",inherit:d.Shape,extend:{text:function(r){return r==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof r=="function"?r.call(this,this):this.plain(r),this)},dx:function(r){return this.attr("dx",r)},dy:function(r){return this.attr("dy",r)},newLine:function(){var r=this.parent(d.Text);return this.dom.newLined=!0,this.dy(r.dom.leading*r.attr("font-size")).attr("x",r.x())}}}),d.extend(d.Text,d.Tspan,{plain:function(r){return this._build===!1&&this.clear(),this.node.appendChild(ot.createTextNode(r)),this},tspan:function(r){var h=(this.textPath&&this.textPath()||this).node,v=new d.Tspan;return this._build===!1&&this.clear(),h.appendChild(v.node),v.text(r)},clear:function(){for(var r=(this.textPath&&this.textPath()||this).node;r.hasChildNodes();)r.removeChild(r.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),d.TextPath=d.invent({create:"textPath",inherit:d.Parent,parent:d.Text,construct:{morphArray:d.PathArray,path:function(r){for(var h=new d.TextPath,v=this.doc().defs().path(r);this.node.hasChildNodes();)h.node.appendChild(this.node.firstChild);return this.node.appendChild(h.node),h.attr("href","#"+v,d.xlink),this},array:function(){var r=this.track();return r?r.array():null},plot:function(r){var h=this.track(),v=null;return h&&(v=h.plot(r)),r==null?v:this},track:function(){var r=this.textPath();if(r)return r.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return d.adopt(this.node.firstChild)}}}),d.Nested=d.invent({create:function(){this.constructor.call(this,d.create("svg")),this.style("overflow","visible")},inherit:d.Container,construct:{nested:function(){return this.put(new d.Nested)}}}),d.A=d.invent({create:"a",inherit:d.Container,extend:{to:function(r){return this.attr("href",r,d.xlink)},show:function(r){return this.attr("show",r,d.xlink)},target:function(r){return this.attr("target",r)}},construct:{link:function(r){return this.put(new d.A).to(r)}}}),d.extend(d.Element,{linkTo:function(r){var h=new d.A;return typeof r=="function"?r.call(h,h):h.to(r),this.parent().put(h).put(this)}}),d.Marker=d.invent({create:"marker",inherit:d.Container,extend:{width:function(r){return this.attr("markerWidth",r)},height:function(r){return this.attr("markerHeight",r)},ref:function(r,h){return this.attr("refX",r).attr("refY",h)},update:function(r){return this.clear(),typeof r=="function"&&r.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(r,h,v){return this.defs().marker(r,h,v)}}}),d.extend(d.Defs,{marker:function(r,h,v){return this.put(new d.Marker).size(r,h).ref(r/2,h/2).viewbox(0,0,r,h).attr("orient","auto").update(v)}}),d.extend(d.Line,d.Polyline,d.Polygon,d.Path,{marker:function(r,h,v,E){var G=["marker"];return r!="all"&&G.push(r),G=G.join("-"),r=arguments[1]instanceof d.Marker?arguments[1]:this.doc().marker(h,v,E),this.attr(G,r)}});var et={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,h){return h=="color"?r:r+"-"+h}};["fill","stroke"].forEach(function(r){var h,v={};v[r]=function(E){if(typeof E>"u")return this;if(typeof E=="string"||d.Color.isRgb(E)||E&&typeof E.fill=="function")this.attr(r,E);else for(h=et[r].length-1;h>=0;h--)E[et[r][h]]!=null&&this.attr(et.prefix(r,et[r][h]),E[et[r][h]]);return this},d.extend(d.Element,d.FX,v)}),d.extend(d.Element,d.FX,{rotate:function(r,h,v){return this.transform({rotation:r,cx:h,cy:v})},skew:function(r,h,v,E){return arguments.length==1||arguments.length==3?this.transform({skew:r,cx:h,cy:v}):this.transform({skewX:r,skewY:h,cx:v,cy:E})},scale:function(r,h,v,E){return arguments.length==1||arguments.length==3?this.transform({scale:r,cx:h,cy:v}):this.transform({scaleX:r,scaleY:h,cx:v,cy:E})},translate:function(r,h){return this.transform({x:r,y:h})},flip:function(r,h){return h=typeof r=="number"?r:h,this.transform({flip:r||"both",offset:h})},matrix:function(r){return this.attr("transform",new d.Matrix(arguments.length==6?[].slice.call(arguments):r))},opacity:function(r){return this.attr("opacity",r)},dx:function(r){return this.x(new d.Number(r).plus(this instanceof d.FX?0:this.x()),!0)},dy:function(r){return this.y(new d.Number(r).plus(this instanceof d.FX?0:this.y()),!0)},dmove:function(r,h){return this.dx(r).dy(h)}}),d.extend(d.Rect,d.Ellipse,d.Circle,d.Gradient,d.FX,{radius:function(r,h){var v=(this._target||this).type;return v=="radial"||v=="circle"?this.attr("r",new d.Number(r)):this.rx(r).ry(h??r)}}),d.extend(d.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(r){return this.node.getPointAtLength(r)}}),d.extend(d.Parent,d.Text,d.Tspan,d.FX,{font:function(r,h){if(typeof r=="object")for(h in r)this.font(h,r[h]);return r=="leading"?this.leading(h):r=="anchor"?this.attr("text-anchor",h):r=="size"||r=="family"||r=="weight"||r=="stretch"||r=="variant"||r=="style"?this.attr("font-"+r,h):this.attr(r,h)}}),d.Set=d.invent({create:function(r){r instanceof d.Set?this.members=r.members.slice():Array.isArray(r)?this.members=r:this.clear()},extend:{add:function(){var r,h,v=[].slice.call(arguments);for(r=0,h=v.length;r<h;r++)this.members.push(v[r]);return this},remove:function(r){var h=this.index(r);return h>-1&&this.members.splice(h,1),this},each:function(r){for(var h=0,v=this.members.length;h<v;h++)r.apply(this.members[h],[h,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(r){return this.index(r)>=0},index:function(r){return this.members.indexOf(r)},get:function(r){return this.members[r]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new d.RBox;var r=this.members[0].rbox(this.members[0].doc());return this.each(function(){r=r.merge(this.rbox(this.doc()))}),r}},construct:{set:function(r){return new d.Set(r)}}}),d.FX.Set=d.invent({create:function(r){this.set=r}}),d.Set.inherit=function(){var r,h=[];for(var r in d.Shape.prototype)typeof d.Shape.prototype[r]=="function"&&typeof d.Set.prototype[r]!="function"&&h.push(r);h.forEach(function(v){d.Set.prototype[v]=function(){for(var E=0,G=this.members.length;E<G;E++)this.members[E]&&typeof this.members[E][v]=="function"&&this.members[E][v].apply(this.members[E],arguments);return v=="animate"?this.fx||(this.fx=new d.FX.Set(this)):this}}),h=[];for(var r in d.FX.prototype)typeof d.FX.prototype[r]=="function"&&typeof d.FX.Set.prototype[r]!="function"&&h.push(r);h.forEach(function(v){d.FX.Set.prototype[v]=function(){for(var E=0,G=this.set.members.length;E<G;E++)this.set.members[E].fx[v].apply(this.set.members[E].fx,arguments);return this}})},d.extend(d.Element,{data:function(r,h,v){if(typeof r=="object")for(h in r)this.data(h,r[h]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,h===null?null:v===!0||typeof h=="string"||typeof h=="number"?h:JSON.stringify(h));return this}}),d.extend(d.Element,{remember:function(r,h){if(typeof arguments[0]=="object")for(var h in r)this.remember(h,r[h]);else{if(arguments.length==1)return this.memory()[r];this.memory()[r]=h}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this},memory:function(){return this._memory||(this._memory={})}}),d.get=function(r){var h=ot.getElementById(Ht(r)||r);return d.adopt(h)},d.select=function(r,h){return new d.Set(d.utils.map((h||ot).querySelectorAll(r),function(v){return d.adopt(v)}))},d.extend(d.Parent,{select:function(r){return d.select(r,this.node)}});function _(r,h,v,E){return v+E.replace(d.regex.dots," .")}function X(r){for(var h=r.slice(0),v=h.length;v--;)Array.isArray(h[v])&&(h[v]=X(h[v]));return h}function R(r,h){return r instanceof h}function U(r,h){return(r.matches||r.matchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector).call(r,h)}function Q(r){return r.toLowerCase().replace(/-(.)/g,function(h,v){return v.toUpperCase()})}function tt(r){return r.charAt(0).toUpperCase()+r.slice(1)}function ct(r){return r.length==4?["#",r.substring(1,2),r.substring(1,2),r.substring(2,3),r.substring(2,3),r.substring(3,4),r.substring(3,4)].join(""):r}function M(r){var h=r.toString(16);return h.length==1?"0"+h:h}function q(r,h,v){if(h==null||v==null){var E=r.bbox();h==null?h=E.width/E.height*v:v==null&&(v=E.height/E.width*h)}return{width:h,height:v}}function mt(r,h,v){return{x:h*r.a+v*r.c+0,y:h*r.b+v*r.d+0}}function ft(r){return{a:r[0],b:r[1],c:r[2],d:r[3],e:r[4],f:r[5]}}function At(r){return r instanceof d.Matrix||(r=new d.Matrix(r)),r}function yt(r,h){r.cx=r.cx==null?h.bbox().cx:r.cx,r.cy=r.cy==null?h.bbox().cy:r.cy}function c(r){for(var h=0,v=r.length,E="";h<v;h++)E+=r[h][0],r[h][1]!=null&&(E+=r[h][1],r[h][2]!=null&&(E+=" ",E+=r[h][2],r[h][3]!=null&&(E+=" ",E+=r[h][3],E+=" ",E+=r[h][4],r[h][5]!=null&&(E+=" ",E+=r[h][5],E+=" ",E+=r[h][6],r[h][7]!=null&&(E+=" ",E+=r[h][7])))));return E+" "}function Ft(r){for(var h=r.childNodes.length-1;h>=0;h--)r.childNodes[h]instanceof F.SVGElement&&Ft(r.childNodes[h]);return d.adopt(r).id(d.eid(r.nodeName))}function Dt(r){return r.x==null&&(r.x=0,r.y=0,r.width=0,r.height=0),r.w=r.width,r.h=r.height,r.x2=r.x+r.width,r.y2=r.y+r.height,r.cx=r.x+r.width/2,r.cy=r.y+r.height/2,r}function Ht(r){var h=(r||"").toString().match(d.regex.reference);if(h)return h[1]}function kt(r){return Math.abs(r)>1e-37?r:0}var It="abcdef".split("");if(typeof F.CustomEvent!="function"){var St=function(r,h){h=h||{bubbles:!1,cancelable:!1,detail:void 0};var v=ot.createEvent("CustomEvent");return v.initCustomEvent(r,h.bubbles,h.cancelable,h.detail),v};St.prototype=F.Event.prototype,d.CustomEvent=St}else d.CustomEvent=F.CustomEvent;return function(r){for(var h=0,v=["moz","webkit"],E=0;E<v.length&&!F.requestAnimationFrame;++E)r.requestAnimationFrame=r[v[E]+"RequestAnimationFrame"],r.cancelAnimationFrame=r[v[E]+"CancelAnimationFrame"]||r[v[E]+"CancelRequestAnimationFrame"];r.requestAnimationFrame=r.requestAnimationFrame||function(G){var J=new Date().getTime(),ut=Math.max(0,16-(J-h)),dt=r.setTimeout(function(){G(J+ut)},ut);return h=J+ut,dt},r.cancelAnimationFrame=r.cancelAnimationFrame||r.clearTimeout}(F),d})},480:()=>{}},fs={};function pe(Ct){var Pt=fs[Ct];if(Pt!==void 0)return Pt.exports;var st=fs[Ct]={exports:{}};return ps[Ct].call(st.exports,st,st.exports,pe),st.exports}pe.n=Ct=>{var Pt=Ct&&Ct.__esModule?()=>Ct.default:()=>Ct;return pe.d(Pt,{a:Pt}),Pt},pe.d=(Ct,Pt)=>{for(var st in Pt)pe.o(Pt,st)&&!pe.o(Ct,st)&&Object.defineProperty(Ct,st,{enumerable:!0,get:Pt[st]})},pe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),pe.o=(Ct,Pt)=>Object.prototype.hasOwnProperty.call(Ct,Pt),pe.r=Ct=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ct,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ct,"__esModule",{value:!0})};var _r={};(()=>{"use strict";pe.r(_r),pe.d(_r,{default:()=>hr});const Ct=require("siyuan");var Pt=(z,t,e)=>new Promise((n,a)=>{var l=g=>{try{x(e.next(g))}catch(m){a(m)}},u=g=>{try{x(e.throw(g))}catch(m){a(m)}},x=g=>g.done?n(g.value):Promise.resolve(g.value).then(l,u);x((e=e.apply(z,t)).next())});const st=(z,t)=>{const e={method:"POST"};return t instanceof FormData?e.body=t:e.body=JSON.stringify(t),fetch(z,e)},at=(z="/data/markmind")=>Pt(void 0,null,function*(){return new Promise((t,e)=>{st("/api/file/readDir",{path:z}).then(n=>n.json()).then(n=>{n&&n.code==0&&n.data?t(!0):t(!1)}).catch(n=>{t(!1),console.log(n)})})}),F=z=>Pt(void 0,null,function*(){const t=new FormData;for(let e in z)t.append(e,z[e]);return new Promise((e,n)=>{st("/api/file/putFile",t).then(a=>a.json()).then(a=>{a&&a.code==0?e(!0):e(!1)}).catch(a=>{console.log(a),e(!1)})})}),ot=(z="/data/markmind")=>Pt(void 0,null,function*(){return new Promise((t,e)=>{st("/api/file/readDir",{path:z}).then(n=>n.json()).then(n=>{n&&n.code==0?t(n.data):t(null)}).catch(n=>{t(null)})})}),lt=z=>Pt(void 0,null,function*(){return new Promise((t,e)=>{st("/api/file/removeFile",{path:z}).then(n=>n.json()).then(n=>{n.code==0?t(!0):t(!1)}).catch(n=>{t(!1)})})}),d=z=>Pt(void 0,null,function*(){return new Promise((t,e)=>{st("/api/file/getFile",{path:z}).then(n=>n.json()).then(n=>{t(n)}).catch(n=>{t(null)})})}),rt=z=>Pt(void 0,null,function*(){return new Promise((t,e)=>{const n=new FormData;n.append("assetsDirPath","/assets/"),n.append("file[]",z),st("/api/asset/upload",n).then(a=>a.json()).then(a=>{a&&a.code==0?t(a.data):t(null)}).catch(a=>{t(null)})})});function wt(){function z(){return((1+Math.random())*65536|0).toString(16).substring(1)}return z()+z()+z()+z()}const I=wt;function O(z){return`<div class="b3-dialog__content markmind-dialog">
    <h3>${z.canvasSize}</h3>
    <select>
       <option value="8000">8000</option>
       <option value="12000">12000</option>
       <option value="16000">16000</option>
       <option value="20000">20000</option>
       <option value="24000">24000</option>
       <option value="30000">30000</option>
       <option value="40000">40000</option>
       <option value="50000">50000</option>
       <option value="60000">60000</option>
       <option value="70000">70000</option>
       <option value="80000">80000</option>
       <option value="90000">90000</option>
       <option value="100000">100000</option>
       <option value="160000">160000</option>
    </select>
    
    <h3>${z.storeFolder}</h3>
    <input class="b3-text-field fn__block" placeholder="${z.storePath}"/>

    <h3>${z.activeCodeName}</h3>
    <textarea class="b3-text-field fn__block" placeholder="${z.activeCode}"></textarea>

    
    </div>
    <div class="b3-dialog__action">
        <button class="b3-button b3-button--cancel">${z.cancel}</button><div class="fn__space"></div>
        <button class="b3-button b3-button--text">${z.save}</button>
    </div>
    `}function et(z){return`<div class="b3-dialog__content markmind-dialog">
    <select>
        <option value=""></option>
        <option value="blue">blue</option>
        <option value="blue2">blue2</option>
        <option value="black">black</option>
        <option value="white">white</option>
        <option value="normal">normal</option>
        <option value="red">red</option>
    </select>
   </div>
<div class="b3-dialog__action">
<button class="b3-button b3-button--cancel">${z.cancel}</button><div class="fn__space"></div>
<button class="b3-button b3-button--text">${z.save}</button>
</div>`}function _(z){return`<div class="b3-dialog__content markmind-dialog">
    <h3>${z.mindmapName}</h3>
    <input class="b3-text-field fn__block markmind-name"/>
    <!--
    <h3>${z.isDir}</h3>
     <input type="checkbox" class="markmind-checkbox"/>
     -->
   </div>
<div class="b3-dialog__action">
<button class="b3-button b3-button--cancel">${z.cancel}</button><div class="fn__space"></div>
<button class="b3-button b3-button--text">${z.save}</button>
</div>`}function X(z){var t=`{"theme":"blue","mindData":[[{"id":"${I()}","text":"${z.rootText}","backgroundColor":"#00aaff","color":"#fff","fontSize":"18","borderStyle":"solid","borderWidth":0,"borderColor":"red","paddingLeft":18,"paddingRight":18,"paddingBottom":14,"paddingTop":14,"x":3957,"y":3984,"width":0,"height":0,"borderTopLeftRadius":4,"borderBottomLeftRadius":4,"borderTopRightRadius":4,"borderBottomRightRadius":4,"z":10,"priority":"","percent":"","isImageNode":false,"imageWidth":100,"imageHeight":100,"imagePosition":"top","imageRadius":4,"image":"","imageName":"","link":"","remark":"","todoDone":false,"isTodo":false,"shapeType":"rect","stroke":"","marks":[],"isExpanded":true,"textAlign":"left","nodeWidth":0,"nodeHeight":0,"main":true,"isRoot":true,"pid":"","nodeType":"richText","isExpand":true,"layout":{"layoutName":"minder2","direct":"mind"}}]],"induceData":[],"wireFrameData":[],"relateLinkData":[],"calloutData":[],"marks":[],"scrollLeft":3533,"scrollTop":3863,"canvasWidth":8000}`;return t}class R{constructor(t,e,n="image"){this.node=t,this.resizeDom=e,this.type=n,this.init(),this._addEvent()}init(){this.frame=document.createElement("div"),this.bar=document.createElement("div"),this.frame.className="resize-frame",this.bar.className="resize-bar iconfont icon-resize",this.bar.style="position:absolute;width:20px;height:20px;right:0;bottom:0;color:#333;z-index:8000;cursor:nw-resize",this.bar.innerHTML=`
      <svg t="1684676412487" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3228" width="20" height="20"><path d="M938.666667 938.666667 853.333333 938.666667 853.333333 853.333333 938.666667 853.333333 938.666667 938.666667M938.666667 768 853.333333 768 853.333333 682.666667 938.666667 682.666667 938.666667 768M768 938.666667 682.666667 938.666667 682.666667 853.333333 768 853.333333 768 938.666667M768 768 682.666667 768 682.666667 682.666667 768 682.666667 768 768M597.333333 938.666667 512 938.666667 512 853.333333 597.333333 853.333333 597.333333 938.666667M938.666667 597.333333 853.333333 597.333333 853.333333 512 938.666667 512 938.666667 597.333333Z" p-id="3229"></path></svg>
      `,this.frame.appendChild(this.bar),this._refreshFrame(),this.node.dom.appendChild(this.frame)}_refreshFrame(){if(this.type=="image")var t=this.resizeDom.offsetLeft,e=this.resizeDom.offsetTop;else var t=0,e=0;var n=this.resizeDom.offsetWidth,a=this.resizeDom.offsetHeight;this.frame.style=`background:rgba(255,255,255,.3);width:${n}px;height:${a}px;position:absolute;left:${t}px;top:${e}px;border:1px solid blue;text-align:right`}remove(){this.frame&&this.node.dom.removeChild(this.frame),this.bar.removeEventListener("click",this._click),this.bar.removeEventListener("mousedown",this._mouseDown),document.removeEventListener("mousemove",this._mouseMove),document.removeEventListener("mouseup",this._mouseUp),this.frame=null,this.node.imageMark=null}_click(t){t.stopPropagation()}_mouseDown(t){t.stopPropagation(),!this.node.getMind().readOnly&&(this.sx=t.pageX,this.sy=t.pageY,this.drag=!0,this.oldw=this.resizeDom.offsetWidth,this.oldh=this.resizeDom.offsetHeight,this.node.dom.setAttribute("draggable",!1),this.resizeDom.setAttribute("draggable",!1),this.node.dom.style.zIndex=50,this.func1=this._mouseMove.bind(this),this.func2=this._mouseUp.bind(this),document.addEventListener("mousemove",this.func1),document.addEventListener("mouseup",this.func2),this.node.getMind().emit("hide"))}_mouseMove(t){if(this.drag){var e=t.pageX,n=t.pageY;if(this.dx=e-this.sx,this.dy=n-this.sy,this.resizeDom.style.width=this.oldw+this.dx+"px",this.resizeDom.style.height=this.oldh+this.dy+"px",this.frame.style.width=this.oldw+this.dx+"px",this.frame.style.height=this.oldh+this.dy+"px",this.type=="image"){var a=this.resizeDom.offsetLeft,l=this.resizeDom.offsetTop;this.frame.style.left=`${a}px`,this.frame.style.top=`${l}px`}this.node.refreshBox()}}_mouseUp(){this.drag=!1,this.node._refreshBounding(),this.node.refreshBox(),document.removeEventListener("mousemove",this.func1),document.removeEventListener("mouseup",this.func2),this.node.dom.setAttribute("draggable",!0),this.resizeDom.setAttribute("draggable",!0),this.node.dom.style.zIndex=this.node.data.z;var t=this.resizeDom.offsetWidth,e=this.resizeDom.offsetHeight;this.remove(),this.type=="image"?this.node.getMind().execute("changeNode",{nodes:[this.node],data:{key:"imageSize",imageWidth:t,imageHeight:e}}):this.node.getMind().execute("changeNode",{nodes:[this.node],data:{key:"nodeSize",nodeWidth:t,nodeHeight:e}})}_addEvent(){this.drag=!1,this.sx=0,this.sy=0,this.dx=0,this.bar.addEventListener("click",this._click.bind(this)),this.bar.addEventListener("mousedown",this._mouseDown.bind(this))}}const U={},Q={},tt={},ct={"Open as mindmap board":"\xD6ffne als Mindmap","Create new mindmap":"Erstelle neue Mindmap","New mindmap board":"Neue Mindmap","Untitled mindmap":"Unbenannte Mindmap","Open as markdown":"\xD6ffne als Markdown","Sub title":"Untertitel","Export to opml":"Exportiere als opml","Export to image":"Exportiere als Bild","Canvas size":"Leinwandgr\xF6\xDFe","Canvas size desc":"Breite und H\xF6he der Leinwand","Canvas background":"Leinwand Hintergrund","Canvas background desc":"Hintergrundfarbe der Leinwand","Max level of node to markdown head":"Maximale Knotenebene welche eine \xDCberschrift erstellt","Max level of node to markdown head desc":"Angeben, welche Knotenebene eine separate \xDCberschrift anstelle eines Listenelements erstellt.","Font size":"Schriftgr\xF6\xDFe","Font size desc":"Gebe die Schriftgr\xF6\xDFe ans","Mind map layout direct":"Mindmap Layout","Mind map layout direct desc":"Geben Sie die Richtung an, in der die Knoten in Ihrer Mindmap platziert werden.",Right:"Rechts",Left:"Links",Centered:"Zentriert"},M={"Open as mindmap board":"Open as mindmap","Create new mindmap":"Create new mindmap","New mindmap board":"New mindmap board","Untitled mindmap":"Untitled mindmap","Open as markdown":"Open as markdown","Sub title":"Sub title","Export to opml":"Export to opml","Export to image":"Export to image","Canvas size":"Canvas size","Canvas size desc":"Width and height of the canvas","Canvas background":"Canvas background","Canvas background desc":"Background color of canvas","Max level of node to markdown head":"Max level of node to create a Heading","Max level of node to markdown head desc":"Specify which Node Level creates a seperate Heading instead of a List-Item","Font size":"Font Size","Font size desc":"Specify the Font Size","Mind map layout direct":"Mindmap Layout","Mind map layout direct desc":"Specify the direction the nodes are placed in your Mindmap",Right:"Right",Left:"Left",Centered:"Centered","Open PDF File":"Open PDF file...","Save Image error,Please try again":"Save image error,please try again","Creating Rect Annotate":"Creating rect annotate...","Cancel Create Rect Annotate":"Cancel create rect annotate","File Is Not Exist":"File is not exist","Open File Error":"Open file error","PDF Cannot Open More Instances":"PDF reader cannot open more instances","Create Rect Annotate":"Created rect annotate","Stroke Array":"Stroke Color","Stroke Array Desc":"Node link color base on this value or random color","PDFJs Plugin Path":"PDF reader path","PDFJs Plugin Path Desc":"If you want to use PDF annotation,You need download pdf js plugin and set up this value","Andriod pdfjs Plugin Path":"Andriod pdf reader path","Ios pdfjs Plugin Path":"Ios pdf reader path","Mac pdfjs Plugin Path":"Mac pdfjs Plugin Path","PDF Path":"PDF store path","PDF Annotate Path":"PDF annotate store path","PDF Image Path":"Image store path of PDF rect annotate","Miss PDF Reader Path":"Miss PDF plugin path,you need download Pdf js plugin,and set up value of PDF reader path","Please Use Rich Mode":"Please change yaml mindmap-plugin basic to rich","The probation period has ended":"The probation period has ended or active code has expired",Rect:"Rect",Circle:"Circle",Pointer:"Pointer","Show MindMap":"Show mind map","Hide MindMap":"Hide mind map","Open Protocol":"Support protocol","Open Protocol Desc":"Support protocol like 'obsidian://{protocol name}' for function of jump to pdf annotate",Protocol:"Protocol","Protocol Desc":"Protocol name",Open:"Open",Close:"Close","Open as outline":"Open as outline","Show Annotate":"Show annotate","Annotation save type":"PDF annotation save type","Annotation save type desc":"The type of save pdf annotation,there are two file types:`annos` and `md`\uFF0C`annos` as default,`annos` is `json` file in fact ","Export annotate pdf":"Export annotate pdf","Export annotate pdf tip":"This is a time-consuming operation. Please wait patiently","Export annotate pdf success":"Export pdf success","Export annotate pdf error":"Export pdf error","Active Code":"Active code","Active Code Desc":"You can active markmind by use this value. Web site:<https://www.markmind.net>","Active error":"Active code error","Active success":"Active success","Annotate PDF":"Annotate PDF","Annotate EPUB":"Annotate EPUB","PDF Viewer Theme":"PDF viewer theme","PDF Viewer Theme desc":"Theme of pdf viewer","Copy as markdown":"Copy as markdown","Copy node text":"Copy node text only","Copy node link":"Copy node link","Export as opml":"Export as opml","Mobile app not support":"File not support mobile app","Not support file type":"The file type is not support,please open pdf file","Not find md file":"This pdf has not annotations in valut","Please select another node":"Please select another node","Change layout to mindmap":"Change layout to mindmap","Change layout to right":"Change layout to right","Change layout to left":"Change layout to left","Change layout to tree":"Change layout to tree","Copy mindmap node":"Copy selected node","Paste to node":"Paste to node","Toggle mardkown/mindmap":"Toggle markdown/mindmap mode","Copy node id":"Copy node ID","Mobile Active Code":"Mobile active code","Mobile Active Code Desc":"You can active mobile markmind by use value , it will create if you input active code","Mindmap mode":"Mindmap mode","Mindmap mode desc":"When create mindmap , it will create mode of this value , `basic` mode as default","Pdf screen short":"Folder to save image","Pdf screen short desc":"Save image to this folder when use pdf rect annotate","Set mindmap to center":"Set mindmap to center",save:"Save",cancel:"Cancel","Remove annotate space":"Remove space of pdf annotate","Remove annotate space desc":"In environment of chinese , open this and it will remove spaces between text automatic","Get path of vault":"Get base path of vault","Smooth movement":"Support smooth movement of mindmap nodes","Smooth movement desc":"Smooth movement of mindmap nodes","Support code block":"Support parse code block of mindmap","Support code block desc":"Support parse code block of mindmap in markdown file",toPng:"Export to PNG","Set pdf js path":"Set up pdf js plugin path","Please open a mind map":"Please open a mind map and try this command again","Set up pdf js path success":"Success,please restart obsidian","Create new outline":"Create new outline","Copy node":"Copy","Paste node":"Paste","Fill color":"Fill color","Stroke color":"Stroke color","Text color":"Text color","Text align":"Text align","Stroke width":"Stroke width","Stroke style":"Stroke style",nodeColor:"Setup board color",nodeColorDesc:"Use this to setup node background/stroke/font color","Export to html":"Export to html","Change layout to fishLeft":"Change layout to left fish","Change layout to fishRight":"Change layout to right fish","Open as table":"Open as table","get table html":"Get html code of table","get table markdown":"Get markdown of table","Get pdf annotations":"Import pdf highlight annotations","extract highlight success":"Import pdf highlight success","Change basic mode to rich mode":"Change basic mode to rich mode","Export pdf annotations":"Export pdf annotations","Format of pdf highlight":"Format of pdf highlight","Format of pdf highlight desc":"When export pdf highights , it will generate file in this format","Use new version of pdfjs":"Toggle to new version of pdfjs","Use old version of pdfjs":"Toggle to old version of pdfjs",searchResult:"Find {{nodeNumber}} nodes contains this word","Toggle search box":"Toggle search box","Fine tune height of annotate":"Fine tune height of annotate","Fine tune height of annotate desc":"Fine tune height of annotate , adjust upward (px)","Fine tune height of annotate desc one":"Fine tune height of annotate , adjust downward (px)","Create hand drawn mindmap":"Create hand drawn mindmap from basic mode","Decode URI pdf link":"Open decode PDF link","Decode URI pdf link desc":"If your `annotate-target` is encode by `encodeURI` , you can open this","Expand to first node level":"Expand to first node level","Expand to second node level":"Expand to second node level","Expand to third node level":"Expand to third node level","Expand to all node level":"Expand to all node level","Expand to fourth node level":"Expand to fourth node level","Expand to fifth node level":"Expand to fifth node level","Auto create node when annotate":"Auto create node when annotate","Auto create node when annotate desc":"Auto create node when create pdf annotate"},dt={ar:U,cs:Q,da:tt,de:ct,en:M,"en-gb":{},es:{},fr:{},hi:{},id:{},it:{},ja:{},ko:{},nl:{},nn:{},pl:{},pt:{},"pt-br":{},ro:{},ru:{},tr:{},"zh-cn":{"Open as mindmap board":"\u6253\u5F00\u4E3A\u601D\u7EF4\u5BFC\u56FE","Create new mindmap":"\u521B\u5EFA\u65B0\u601D\u7EF4\u5BFC\u56FE","New mindmap board":"\u65B0\u5EFA\u601D\u7EF4\u5BFC\u56FE","Untitled mindmap":"\u672A\u547D\u540D\u601D\u7EF4\u5BFC\u56FE","Open as markdown":"\u6253\u5F00\u4E3A Markdown \u6587\u4EF6",topic:"\u4E2D\u5FC3\u4E3B\u9898","Sub title":"\u65B0\u8282\u70B9","Same title":"\u540C\u7EA7\u8282\u70B9","Parent title":"\u7236\u7EA7\u8282\u70B9","Export to opml":"\u5BFC\u51FA\u81F3OPML","Export to image":"\u5BFC\u51FA\u81F3\u56FE\u7247","Canvas size":"\u753B\u5E03\u5C3A\u5BF8","Canvas size desc":"\u7ED8\u5236\u601D\u7EF4\u5BFC\u56FE\u753B\u5E03\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6","Canvas background":"\u80CC\u666F\u989C\u8272","Canvas background desc":"\u753B\u5E03\u7684\u80CC\u666F\u989C\u8272","Max level of node to markdown head":"\u8282\u70B9\u6587\u5B57\u8F6C\u4E3Amarkdown\u6807\u9898\u7684\u6700\u5927\u5C42\u7EA7","Max level of node to markdown head desc":"\u5C06\u5C0F\u4E8E\u8BE5\u5C42\u7EA7\u7684\u8282\u70B9\u6587\u5B57\u8F6C\u4E3Amarkdown\u6807\u9898\uFF0C\u6700\u5927\u5C42\u7EA7\u4E3A6\uFF0C\u56E0\u4E3AHTML\u6807\u9898\u652F\u6301\u6700\u5927\u4E3A6\u7EA7","Font size":"\u6587\u5B57\u5927\u5C0F","Font size desc":"\u601D\u7EF4\u5BFC\u56FE\u6587\u5B57\u9ED8\u8BA4\u5927\u5C0F\uFF0C\u5355\u4F4Dpx","Mind map layout direct":"\u601D\u7EF4\u5BFC\u56FE\u5E03\u5C40\u65B9\u5411","Mind map layout direct desc":"\u601D\u7EF4\u5BFC\u56FE\u7684\u5E03\u5C40\u65B9\u5411\uFF0C\u5206\u4E3A\u5411\u4E24\u4FA7\u53D1\u6563\u3001\u4EC5\u53F3\u4FA7\u3001\u4EC5\u5DE6\u4FA7\u4E09\u4E2A\u65B9\u5411","Expand node":"\u5C55\u5F00\u8282\u70B9","Collapse node":"\u6536\u7F29\u8282\u70B9","Only show this node":"\u4EC5\u663E\u793A\u8BE5\u8282\u70B9","Expand all node":"\u5C55\u5F00\u6240\u6709\u8282\u70B9","Collapse all node":"\u6536\u7F29\u6240\u6709\u8282\u70B9","Add relate link":"\u6DFB\u52A0\u8054\u7CFB\u7EBF","Remove relate link":"\u5220\u9664\u8054\u7CFB\u7EBF","Add summary node":"\u6DFB\u52A0\u5F52\u7EB3","Remove summary node":"\u5220\u9664\u5F52\u7EB3","Remove node":"\u5220\u9664\u8282\u70B9","Only remove this node":"\u4EC5\u5220\u9664\u8BE5\u8282\u70B9","Add child node":"\u6DFB\u52A0\u5B50\u8282\u70B9","Add brother node":"\u6DFB\u52A0\u5144\u5F1F\u8282\u70B9","Open PDF File":"\u6B63\u5728\u6253\u5F00PDF\u6587\u4EF6...","Save Image error,Please try again":"\u4FDD\u5B58\u56FE\u7247\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5","Creating Rect Annotate":"\u6B63\u5728\u521B\u5EFA\u77E9\u5F62\u6807\u6CE8","Cancel Create Rect Annotate":"\u53D6\u6D88\u521B\u5EFA\u77E9\u5F62\u6807\u6CE8","File Is Not Exist":"\u6587\u4EF6\u4E0D\u5B58\u5728","Open File Error":"\u6253\u5F00\u6587\u4EF6\u5931\u8D25","PDF Cannot Open More Instances":"\u4E0D\u652F\u6301\u591A\u5F00PDF\u9605\u8BFB\u5668","Create Rect Annotate":"\u521B\u5EFA\u77E9\u5F62\u6807\u6CE8\u6210\u529F","Stroke Array":"\u989C\u8272\u7EC4","Stroke Array Desc":"\u8282\u70B9\u8FDE\u7EBF\u989C\u8272\u5C06\u6309\u7167\u989C\u8272\u7EC4\u751F\u6210,\u5426\u5219\u751F\u6210\u968F\u673A\u989C\u8272","PDFJs Plugin Path":"PDFJs \u63D2\u4EF6\u8DEF\u5F84","Andriod pdfjs Plugin Path":"\u5B89\u5353 PDFJs \u63D2\u4EF6\u8DEF\u5F84","Ios pdfjs Plugin Path":"IOS PDFJs \u63D2\u4EF6\u8DEF\u5F84","Mac pdfjs Plugin Path":"Mac PDFJs \u63D2\u4EF6\u8DEF\u5F84","PDFJs Plugin Path Desc":"\u5982\u679C\u60A8\u8981\u4F7F\u7528PDF\u6807\u6CE8\u529F\u80FD\uFF0C\u60A8\u9700\u8981\u4E0B\u8F7DPDFJS\u63D2\u4EF6\uFF0C\u5E76\u8BBE\u7F6E\u63D2\u4EF6\u8DEF\u5F84","PDF Path":"PDF \u5B58\u50A8\u8DEF\u5F84","PDF Annotate Path":"PDF \u6807\u6CE8\u5B58\u50A8\u8DEF\u5F84","PDF Image Path":"PDF \u77E9\u5F62\u6807\u6CE8\u751F\u6210\u7684\u56FE\u7247\u5B58\u50A8\u8DEF\u5F84","Miss PDF Reader Path":"\u7F3A\u5C11PDF\u63D2\u4EF6\uFF0C\u60A8\u9700\u8981\u4E0B\u8F7DPDFJS\u63D2\u4EF6\uFF0C\u5E76\u5728\u8BBE\u7F6E\u4E2D\u8BBE\u7F6EPDF\u63D2\u4EF6\u8DEF\u5F84(\u7EDD\u5BF9\u8DEF\u5F84)","Please Use Rich Mode":"\u76EE\u524D\u5904\u4E8EBasic\u6A21\u5F0F\u6216\u8005\u672A\u6FC0\u6D3B\uFF0C\u65E0\u6CD5\u4F7F\u7528PDF\u6807\u6CE8\u529F\u80FD\uFF0C\u8BF7\u4F7F\u7528Rich\u6A21\u5F0F\u6216\u8005\u6FC0\u6D3B\u8F6F\u4EF6","The probation period has ended":"\u514D\u8D39\u7248\u672C\u6216\u8005\u6FC0\u6D3B\u7801\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u81F3markmind.net\u8D2D\u4E70\u6FC0\u6D3B\u7801\u4EE5\u6FC0\u6D3B\u5E94\u7528",Rect:"\u77E9\u5F62",Circle:"\u5706",Pointer:"\u70B9","Show MindMap":"\u663E\u793A\u601D\u7EF4\u5BFC\u56FE","Hide MindMap":"\u9690\u85CF\u601D\u7EF4\u5BFC\u56FE","Open Protocol":"\u5F00\u542F\u534F\u8BAE\u652F\u6301","Open Protocol Desc":"\u652F\u6301\u7C7B\u4F3C obsidian://{Protocol name} \u7684\u534F\u8BAE,\u7528\u4E8E\u8DF3\u8F6C\u81F3PDF\u6807\u6CE8",Protocol:"\u534F\u8BAE\u540D","Protocol Desc":"\u534F\u8BAE\u540D\u79F0",Open:"\u5F00\u542F",Close:"\u5173\u95ED","Open as outline":"\u6253\u5F00\u4E3A\u5927\u7EB2","Show Annotate":"\u5C55\u793A\u6807\u6CE8","Annotation save type":"\u6807\u6CE8\u4FDD\u5B58\u7C7B\u578B","Annotation save type desc":"\u5F53\u4FDD\u5B58PDF\u6807\u6CE8\u65F6\u4FDD\u5B58\u7684\u6587\u4EF6\u7C7B\u578B\uFF0C\u76EE\u524D\u5206\u4E3A\u4FDD\u5B58\u4E3Aannos\u548Cmarkdown\u4E24\u79CD\uFF0C\u9ED8\u8BA4\u6269\u5C55\u540D\u4E3Aannos(\u672C\u8D28\u662Fjson\u6587\u4EF6)","Export annotate pdf":"\u5BFC\u51FA\u6807\u6CE8\u540E\u7684PDF\u6587\u4EF6","Export annotate pdf tip":"\u8FD9\u662F\u4E00\u4E2A\u8D39\u65F6\u7684\u64CD\u4F5C\uFF0C\u8BF7\u8010\u5FC3\u7B49\u5F85...","Export annotate pdf success":"\u5BFC\u51FAPDF\u6587\u4EF6\u6210\u529F","Export annotate pdf error":"\u5BFC\u51FAPDF\u6587\u4EF6\u5931\u8D25","Active Code":"\u6FC0\u6D3B\u7801","Active Code Desc":"\u53EF\u4EE5\u4F7F\u7528\u8BE5\u503C\u6FC0\u6D3Bmarkmind,\u7F51\u7AD9\uFF1A<https://www.markmind.net/cn>","Active error":"\u6FC0\u6D3B\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u6FC0\u6D3B\u7801","Active success":"\u5DF2\u6FC0\u6D3B","Annotate PDF":"\u6253\u5F00\u6CE8\u91CAPDF","Annotate EPUB":"\u6253\u5F00\u6CE8\u91CAEPUB","PDF Viewer Theme":"PDF\u9605\u8BFB\u5668\u4E3B\u9898","PDF Viewer Theme desc":"\u5207\u6362PDF\u9605\u8BFB\u5668\u4E3B\u9898\u76AE\u80A4","Copy as markdown":"\u590D\u5236\u4E3Amarkdown","Copy node text":"\u4EC5\u590D\u5236\u8BE5\u8282\u70B9\u6587\u672C","Copy node link":"\u590D\u5236\u8282\u70B9\u5F15\u7528\u94FE\u63A5","Export as opml":"\u5BFC\u51FA\u4E3AOPML","Mobile app not support":"\u79FB\u52A8\u7AEF\u4E0D\u652F\u6301\u6253\u5F00\u672C\u5730PDF\u6587\u4EF6","Not support file type":"\u4E0D\u652F\u6301\u6CE8\u91CA\u8BE5\u6587\u4EF6\u7C7B\u578B\uFF0C\u53EA\u652F\u6301pdf\u6587\u4EF6","Not find md file":"\u8FD9\u662F\u4E00\u4E2A\u5916\u90E8pdf\u6587\u4EF6\uFF0C\u5728\u6587\u4EF6\u5939\u4E2D\u5C1A\u4E0D\u5B58\u5728\u6279\u6CE8\u4FE1\u606F","Please select another node":"\u8BF7\u9009\u62E9\u53E6\u4E00\u4E2A\u8282\u70B9","Change layout to mindmap":"\u5207\u6362\u601D\u7EF4\u5BFC\u56FE\u5E03\u5C40\u4E3A\u9ED8\u8BA4","Change layout to right":"\u5207\u6362\u601D\u7EF4\u5BFC\u56FE\u5E03\u5C40\u4E3A\u53F3\u4FA7","Change layout to left":"\u5207\u6362\u601D\u7EF4\u5BFC\u56FE\u5E03\u5C40\u4E3A\u5DE6\u4FA7","Change layout to tree":"\u5207\u6362\u601D\u7EF4\u5BFC\u56FE\u5E03\u5C40\u4E3A\u6811\u5411\u4E0B\u5E03\u5C40","Copy mindmap node":"\u590D\u5236\u8282\u70B9","Paste to node":"\u7C98\u8D34\u8282\u70B9","Toggle mardkown/mindmap":"\u5207\u6362\u4E3AMarkdown\u6216\u601D\u7EF4\u5BFC\u56FE\u6A21\u5F0F","Copy node id":"\u83B7\u53D6\u8282\u70B9ID","Mobile Active Code":"\u79FB\u52A8\u7AEF\u6FC0\u6D3B\u7801","Mobile Active Code Desc":"\u7528\u4E8E\u6FC0\u6D3B\u79FB\u52A8\u7AEF\uFF0C\u5F53\u4F60\u586B\u5165\u6FC0\u6D3B\u7801\u65F6\uFF0C\u8BE5\u503C\u5C06\u81EA\u52A8\u751F\u6210","Mindmap mode":"\u601D\u7EF4\u5BFC\u56FE\u6A21\u5F0F","Mindmap mode desc":"\u5F53\u521B\u5EFA\u601D\u7EF4\u5BFC\u56FE\u65F6\uFF0C\u5C06\u6309\u7167\u8BE5\u503C\u521B\u5EFA\u601D\u7EF4\u5BFC\u56FE\u7684\u6A21\u5F0F\uFF0C\u9ED8\u8BA4\u662Fbasic\u6A21\u5F0F","Pdf screen short":"PDF \u622A\u56FE\u6587\u4EF6\u5939","Pdf screen short desc":"\u7528\u4E8E\u4FDD\u5B58PDF\u77E9\u5F62\u6807\u6CE8\u6240\u622A\u7684\u56FE\u7247","Set mindmap to center":"\u5C45\u4E2D\u601D\u7EF4\u5BFC\u56FE",save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88","Remove annotate space":"\u81EA\u52A8\u79FB\u9664\u6807\u6CE8\u6587\u5B57\u4E2D\u7684\u7A7A\u683C","Remove annotate space desc":"\u5728\u4E2D\u6587\u73AF\u5883\u4E0B\uFF0C\u67D0\u4E9Bpdf\u6587\u5B57\u6807\u6CE8\u65F6\uFF0C\u6587\u5B57\u4E4B\u95F4\u5B58\u5728\u7A7A\u683C\uFF0C\u53EF\u4EE5\u5F00\u542F\u8BE5\u9009\u9879\uFF0C\u5C06\u81EA\u52A8\u79FB\u9664\u6587\u5B57\u4E4B\u95F4\u7684\u7A7A\u683C","Get path of vault":"\u83B7\u53D6\u5E93\u7684\u57FA\u7840\u8DEF\u5F84","Smooth movement":"\u5F00\u542F\u652F\u6301\u601D\u7EF4\u5BFC\u56FE\u8282\u70B9\u652F\u6301\u5E73\u6ED1\u8FC7\u6E21\u6548\u679C","Smooth movement desc":"\u5F53\u70B9\u51FB\u5F15\u7528\u8282\u70B9\u65F6,\u8282\u70B9\u8DF3\u8F6C\u5230\u540C\u4E00\u601D\u7EF4\u5BFC\u56FE\u7684\u5176\u4ED6\u8282\u70B9\u65F6\u7684\u8FC7\u6E21\u6548\u679C","Support code block":"\u5F00\u542F\u652F\u6301\u56FE\u6587\u6DF7\u6392","Support code block desc":"\u652F\u6301\u5728markdown\u6587\u6863\u4E2D\u56FE\u6587\u6DF7\u6392\u6548\u679C",toPng:"\u5BFC\u51FA\u4E3APNG\u56FE\u7247","Set pdf js path":"\u8BBE\u7F6E pdfjs \u63D2\u4EF6\u8DEF\u5F84","Please open a mind map":"\u8BF7\u6253\u5F00\u4E00\u4E2A\u601D\u7EF4\u5BFC\u56FE\u5E76\u91CD\u65B0\u6267\u884C\u6B64\u547D\u4EE4","Set up pdf js path success":"\u8BBE\u7F6E pdfjs \u63D2\u4EF6\u8DEF\u5F84\u6210\u529F\uFF0C\u8BF7\u91CD\u65B0\u542F\u52A8 obsidian","Create new outline":"\u521B\u5EFA\u5927\u7EB2","Copy node":"\u590D\u5236","Paste node":"\u7C98\u8D34","Fill color":"\u80CC\u666F\u989C\u8272","Stroke color":"\u5916\u6846\u989C\u8272","Text color":"\u6587\u5B57\u989C\u8272","Text align":"\u5BF9\u9F50\u65B9\u5F0F","Stroke width":"\u5916\u6846\u7C97\u7EC6","Stroke style":"\u5916\u6846\u6837\u5F0F",nodeColor:"\u8282\u70B9\u8BBE\u7F6E\u9762\u677F\u989C\u8272\u7EC4",nodeColorDesc:"\u7528\u4E8E\u6539\u53D8\u8282\u70B9\u8BBE\u7F6E\u9762\u677F\u989C\u8272\u7EC4","Export to html":"\u5BFC\u51FA\u601D\u7EF4\u5BFC\u56FE\u4E3Ahtml\u6587\u4EF6","Change layout to fishLeft":"\u5207\u6362\u601D\u7EF4\u5BFC\u56FE\u5E03\u5C40\u4E3A\u5DE6\u4FA7\u9C7C\u9AA8\u56FE","Change layout to fishRight":"\u5207\u6362\u601D\u7EF4\u5BFC\u56FE\u5E03\u5C40\u4E3A\u53F3\u4FA7\u9C7C\u9AA8\u56FE","Open as table":"\u6253\u5F00\u4E3A\u8868\u683C","get table html":"\u83B7\u53D6\u8868\u683C\u7684HTML\u6E90\u7801","get table markdown":"\u83B7\u53D6\u8868\u683C\u7684 markdown \u6587\u672C","Get pdf annotations":"\u5BFC\u5165PDF\u9AD8\u4EAE\u6807\u6CE8","extract highlight success":"\u5BFC\u5165PDF\u9AD8\u4EAE\u6210\u529F","Change basic mode to rich mode":"\u5C06 basic \u6A21\u5F0F\u8F6C\u4E3A rich \u6A21\u5F0F","Export pdf annotations":"\u5BFC\u51FA PDF \u6CE8\u91CA","Format of pdf highlight":"PDF \u6CE8\u91CA\u683C\u5F0F\u8BBE\u7F6E","Format of pdf highlight desc":"\u5F53\u5BFC\u51FA PDF \u6CE8\u91CA\u65F6\uFF0C\u5C06\u6309\u7167\u8BE5\u683C\u5F0F\u751F\u6210\u6587\u4EF6","Use new version of pdfjs":"\u5207\u6362\u81F3\u65B0\u7248 pdfjs \u63D2\u4EF6","Use old version of pdfjs":"\u5207\u6362\u81F3\u65E7\u7248 pdfjs \u63D2\u4EF6",searchResult:"\u53D1\u73B0\u5230 {{nodeNumber}} \u4E2A\u8282\u70B9\u5305\u542B\u8BE5\u5173\u952E\u5B57","Toggle search box":"\u6253\u5F00\u6216\u5173\u95ED\u641C\u7D22\u6846","Fine tune height of annotate":"\u5FAE\u8C03 PDF \u6807\u6CE8\u9AD8\u5EA6","Fine tune height of annotate desc":"\u5411\u4E0A\u8C03\u6574\u7684\u8DDD\u79BB (px)","Fine tune height of annotate desc one":"\u5411\u4E0B\u8C03\u6574\u7684\u8DDD\u79BB (px)","Create hand drawn mindmap":"\u751F\u6210\u624B\u7ED8\u6A21\u5F0F\u7684\u601D\u7EF4\u5BFC\u56FE","Decode URI pdf link":"\u662F\u5426\u6253\u5F00\u89E3\u7801PDF\u94FE\u63A5","Decode URI pdf link desc":"\u5982\u679C\u4F60\u7684 `annotate-target`\u88AB `encodeURI`\u7F16\u7801 , \u53EF\u4EE5\u6253\u5F00\u8BE5\u9009\u9879","Expand to first node level":"\u5C55\u5F00\u81F3\u7B2C\u4E00\u7EA7\u8282\u70B9","Expand to second node level":"\u5C55\u5F00\u81F3\u7B2C\u4E8C\u7EA7\u8282\u70B9","Expand to third node level":"\u5C55\u5F00\u81F3\u7B2C\u4E09\u7EA7\u8282\u70B9","Expand to all node level":"\u5C55\u5F00\u6240\u6709\u8282\u70B9","Expand to fourth node level":"\u5C55\u5F00\u81F3\u7B2C\u56DB\u7EA7\u8282\u70B9","Expand to fifth node level":"\u5C55\u5F00\u81F3\u7B2C\u4E94\u7EA7\u8282\u70B9","Auto create node when annotate":"\u6807\u6CE8\u65F6\u81EA\u52A8\u751F\u6210\u601D\u7EF4\u5BFC\u56FE\u8282\u70B9","Auto create node when annotate desc":"\u5F53\u521B\u5EFA pdf \u6807\u6CE8\u65F6\u81EA\u52A8\u662F\u5426\u81EA\u52A8\u521B\u5EFA\u601D\u7EF4\u5BFC\u56FE\u8282\u70B9"},"zh-tw":{}}["zh-cn"];function gt(z){return dt&&dt[z]||M[z]}function qt(z,t){var e=z;t&&t.preprocessing&&(e=t.preprocessing(e)),e=e.replace(/(?:\n|\r\n|\r)/ig," ").replace(/&nbsp;/g," ").replace(/<\s*script[^>]*>[\s\S]*?<\/script>/mig,"").replace(/<\s*style[^>]*>[\s\S]*?<\/style>/mig,"").replace(/<!--.*?-->/mig,"").replace(/<!DOCTYPE.*?>/ig,""),t&&t.tagreplacement&&(e=t.tagreplacement(e));var n=["p","h[1-6]","dl","dt","dd","ol","ul","dir","address","blockquote","center","hr","pre","form","textarea","table"],a=["div","li","fieldset","legend","tr","th","caption","thead","tbody","tfoot"];for(let u=0;u<n.length;u++){var l=RegExp("</?\\s*"+n[u]+"[^>]*>","ig");e=e.replace(l,`

`)}for(let u=0;u<a.length;u++){var l=RegExp("<\\s*"+a[u]+"[^>]*>","ig");e=e.replace(l,`
`)}return e=e.replace(/<\s*br[^>]*\/?\s*>/ig,`
`),e=e.replace(/(<([^>]+)>)/ig,"").replace(/([^\n\S]+)\n/g,`
`).replace(/([^\n\S]+)$/,"").replace(/\n{2,}/g,`

`).replace(/^\n+/,"").replace(/\n+$/,"").replace(/&([^;]+);/g,Ut),t&&t.postprocessing&&(e=t.postprocessing(e)),e}function Ut(z,t){var e;return t.substr(0,1)=="#"?t.substr(1,1)=="x"?e=parseInt(t.substr(2),16):e=parseInt(t.substr(1),10):e=ae[t],e===void 0||e===NaN?"&"+t+";":String.fromCharCode(e)}var ae={nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,quot:34,amp:38,lt:60,gt:62,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364},Qt=window.Lute.New(),Ce={makeHtml(z){return Qt.MarkdownStr("",z)}};function Ee(z){if(window.getSelection){z.focus();var t=window.getSelection();t.selectAllChildren(z),t.collapseToEnd()}else if(document.selection){var t=document.selection.createRange();t.moveToElementText(z),t.collapse(!1),t.select()}}class qe{constructor(t,e=null){let n={id:I(),text:"",backgroundColor:"#333",color:"#343a40",fontSize:14,borderStyle:"solid",borderWidth:0,borderColor:"red",paddingLeft:10,paddingRight:10,paddingBottom:6,paddingTop:6,x:0,y:0,width:0,height:0,borderTopLeftRadius:4,borderBottomLeftRadius:4,borderTopRightRadius:4,borderBottomRightRadius:4,z:10,priority:"",percent:"",isImageNode:!1,imageWidth:100,imageHeight:100,imagePosition:"top",imageRadius:4,image:"",imageName:"",link:"",remark:"",todoDone:!1,isTodo:!1,shapeType:"rect",stroke:"",marks:[],isExpanded:!0,textAlign:"left",nodeWidth:0,nodeHeight:0};this.data={...n,...t},this.box={},this.summaries=[],this.wireFrames=[],this.wfs=[],this.induces=[],this.parent=null,this.initialize=!0,this.mind=e,this.mind&&(this.group=this.mind.shapeGroup.group()),this.induce=null,this.wireFrame=null,this.callout=null,this.relateLinks=[],this.selected=!1,this.isExpanded=this.data.isExpanded||!0,this.isHide=!1,this.children=[],this.isEdit=!1,this.nodeType=this.data.nodeType||"richText",this.shapeType=this.data.shapeType,this.name="node",this.data.stroke&&(this.stroke=this.data.stroke),this.clickLink=this._clickLink.bind(this),this.clickRemark=this._clickRemark.bind(this),this.initDom(),this.initialize=!1}renderMdText(){this.mind.useMarkDown&&(this.textDom.innerText=this.data.mdText)}parseText(){var t=this;if(this.data.mdText=this.textDom.innerText,!!this.mind.useMarkDown){if(this.data.text=Ce.makeHtml(this.textDom.innerText).trim(),this.textDom.innerHTML=this.data.text,this.initialize){var e=this.textDom.querySelectorAll(".katex"),n=e.length;n&&(this.textDom.classList.contains("b3-typography")||this.textDom.classList.add("b3-typography"),this.timeOut=setTimeout(()=>{t._refreshBounding(),t.refreshShape(),t.refreshBox(),t.getMind().emit("refresh",{node:t}),t.timeOut=null},1600))}this.textDom.querySelectorAll("img").forEach(a=>{a.onload=()=>{t.timeOut||(t.timeOut=setTimeout(()=>{t._refreshBounding(),t.refreshShape(),t.refreshBox(),t.getMind().emit("refresh",{node:t}),t.timeOut=null},0))},a.onerror=()=>{t.timeOut||(t.timeOut=setTimeout(()=>{t._refreshBounding(),t.refreshShape(),t.refreshBox(),t.getMind().emit("refresh",{node:t}),t.timeOut=null},0))}}),t._refreshBounding(),t.refreshShape(),t.refreshBox()}}addRelateLink(t){this.relateLinks.indexOf(t)==-1&&this.relateLinks.push(t)}removeRelateLink(t){var e=this.relateLinks.indexOf(t);e>-1&&this.relateLinks.splice(e,1)}hide(){this.dom.style.display="none",this.shapeSvg&&this.shapeSvg.hide(),this.isHide=!0}show(){this.dom.style.display="block",this.shapeSvg&&this.shapeSvg.show(),this.isHide=!1}collapse(){function t(e){e.hide(),e.induces.length&&e.induces.forEach(n=>{t(n.root)}),e.layout&&e.layout.group&&(e.layout.group.hide(),e.layout.isShow=!1),e.isExpand()&&e.children.forEach(n=>{t(n)})}this.children.forEach(e=>{t(e)}),this.isExpanded=!1,this.bar.classList.add("icon-jiahao"),this.bar.classList.remove("icon-min"),this.bar.innerHTML='<svg t="1684669639525" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2746" width="12" height="12"><path d="M847.0528 491.52H532.48V176.9472c0-11.264-9.216-20.48-20.48-20.48s-20.48 9.216-20.48 20.48V491.52H176.9472c-11.264 0-20.48 9.216-20.48 20.48s9.216 20.48 20.48 20.48H491.52v314.5728c0 11.264 9.216 20.48 20.48 20.48s20.48-9.216 20.48-20.48V532.48h314.5728c11.264 0 20.48-9.216 20.48-20.48s-9.216-20.48-20.48-20.48z" p-id="2747"></path></svg>',this.layout&&this.layout.group&&(this.layout.group.hide(),this.layout.isShow=!1),this.children.length&&this.getMind().updateAllAssist()}expand(){this.isExpanded=!0,this.bar.classList.remove("icon-jiahao"),this.bar.classList.add("icon-min"),this.bar.innerHTML='<svg t="1684669694848" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3719" width="12" height="12"><path d="M877.4 528.2H148.7c-10.5 0-19.1-8.6-19.1-19.1s8.6-19.1 19.1-19.1h728.7c10.5 0 19.1 8.6 19.1 19.1s-8.5 19.1-19.1 19.1z" fill="#333333" p-id="3720"></path></svg>';function t(n){n.show(),n.boundingRect=null,n.induces.length&&n.induces.forEach(a=>{t(a.root)}),n.isExpand()&&(n.layout&&n.layout.group&&(n.layout.group.show(),n.layout.isShow=!0),n.children.forEach(a=>{t(a)}))}t(this);function e(n){n.refreshBox(),n.isExpand()&&n.children.forEach(a=>{e(a)}),n.wfs.length&&n.wfs.forEach(a=>{a.show(),a.refreshItems()}),n.induces.length&&n.induces.forEach(a=>{a.show(),a.refreshItems(),e(a.root)})}e(this)}addMark(t){this.data.marks.push(t)}removeMark(t){var e=-1;if(this.data.marks.forEach((n,a)=>{n.id==t.id&&(e=a)}),e>-1)return this.data.marks.splice(e,1)}initShape(){if(!this.group)if(this.mind)this.group=this.mind.shapeGroup.group();else return;switch(this.shapeSvg&&(this.shapeSvg.remove(),this.shapeSvg=null),this.data.shapeType){case"diamond":case"bubble":this.shapeSvg=this.group.polygon(),this.shapeSvg.fill(this.data.backgroundColor).stroke({color:this.data.borderColor,width:this.data.borderWidth,linecap:"round",linejoin:"round"});break}}refreshShape(){if(this.shapeSvg){if(this.data.borderStyle=="solid")var t=[0];else if(this.data.borderStyle=="dashed")var t=[6,3];else var t=[2,2];this.shapeSvg.attr("stroke-dasharray",t).plot(this.getShapePoint()),this.refreshBox(),this.refreshDomPos()}}getShapePoint(){var t=this.getDomBox();switch(this.data.shapeType){case"diamond":return this.group.w=t.width/2,this.group.h=t.height/2,[[0,t.height],[t.width,0],[t.width*2,t.height],[t.width,t.height*2]];case"bubble":break}}initDom(){this.dom=document.createElement("div"),this.dom.dataset.id=this.data.id||this.id,this.dom.className="node",this.assistDom=document.createElement("div"),this.assistDom.className="node-assist",this.textDom=document.createElement("div"),this.textDom.className="node-text",this.groupDom=document.createElement("div"),this.groupDom.className="node-group clearfix",this.markDom=document.createElement("div"),this.markDom.className="node-mark",this.markDom.style.display="inline-block",this.groupDom.appendChild(this.assistDom),this.groupDom.appendChild(this.textDom),this.groupDom.appendChild(this.markDom),this.dom.appendChild(this.groupDom),this.groupDom.style.display="block",this.marksDom=document.createElement("div"),this.marksDom.classList.add("node-markList"),this.groupDom.appendChild(this.marksDom),this.bar=document.createElement("div"),this.bar.classList.add("node-bar"),this.bar.classList.add("iconfont"),this.isExpanded?(this.bar.classList.add("icon-min"),this.bar.innerHTML='<svg t="1684669694848" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3719" width="12" height="12"><path d="M877.4 528.2H148.7c-10.5 0-19.1-8.6-19.1-19.1s8.6-19.1 19.1-19.1h728.7c10.5 0 19.1 8.6 19.1 19.1s-8.5 19.1-19.1 19.1z" fill="#333333" p-id="3720"></path></svg>'):(this.bar.classList.add("icon-jiahao"),this.bar.innerHTML='<svg t="1684669639525" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2746" width="12" height="12"><path d="M847.0528 491.52H532.48V176.9472c0-11.264-9.216-20.48-20.48-20.48s-20.48 9.216-20.48 20.48V491.52H176.9472c-11.264 0-20.48 9.216-20.48 20.48s9.216 20.48 20.48 20.48H491.52v314.5728c0 11.264 9.216 20.48 20.48 20.48s20.48-9.216 20.48-20.48V532.48h314.5728c11.264 0 20.48-9.216 20.48-20.48s-9.216-20.48-20.48-20.48z" p-id="2747"></path></svg>'),this.bar.style="border-radius:50%;cursor:point;font-size:12px;color:rgb(228, 228, 228);position:absolute;width:14px;height:14px;line-height:14px;text-align:center;",this.dom.appendChild(this.bar),this.textDom.innerText=this.data.text,this.mind.el.contains(this.dom)||this.mind.el.appendChild(this.dom),this.parseText(),this._refresh(),this.textDom.node=this,this.dom.node=this}_refresh(){this.dom.style.color=this.data.color,this.dom.style.fontSize=this.data.fontSize+"px",this.dom.style.textAlign=this.data.textAlign,this.dom.style.fontSize=this.data.fontSize+"px",this.dom.style.paddingLeft=this.data.paddingLeft+this.data.borderWidth+"px",this.dom.style.paddingRight=this.data.paddingRight+this.data.borderWidth+"px",this.dom.style.paddingTop=this.data.paddingTop+this.data.borderWidth+"px",this.dom.style.paddingBottom=this.data.paddingBottom+this.data.borderWidth+"px",this.dom.style.left=this.data.x+"px",this.dom.style.top=this.data.y+"px",this.dom.style.zIndex=this.data.z,this.data.nodeWidth?this.dom.style.width=this.data.nodeWidth+"px":this.dom.style.width="auto",this.data.nodeHeight?this.dom.style.height=this.data.nodeHeight+"px":this.dom.style.height="auto",this.initAssist(),this.initReMark(),this.initMark(),this.refreshImage(),["rect","parallelogram","ellipse","roundRect"].indexOf(this.data.shapeType)>-1?(this.shapeDom&&this.dom.removeChild(this.shapeDom),this.shapeDom=document.createElement("div"),this.shapeDom.className="node-shape node-"+this.data.shapeType,this.shapeDom.style.width="100%",this.dom.appendChild(this.shapeDom),this.shapeDom.node=this,this.shapeSvg&&(this.shapeSvg.remove(),this.shapeSvg=null),this.shapeDom.style.backgroundColor=this.data.backgroundColor,this.shapeDom.style.borderStyle=this.data.borderStyle,this.getNodeType()=="relateLink"?this.shapeDom.style.borderWidth="0px":this.shapeDom.style.borderWidth=this.data.borderWidth+"px",this.shapeDom.style.borderColor=this.data.borderColor,this.shapeDom.style.borderTopLeftRadius=this.data.borderTopLeftRadius+"px",this.shapeDom.style.borderTopRightRadius=this.data.borderTopRightRadius+"px",this.shapeDom.style.borderBottomLeftRadius=this.data.borderBottomLeftRadius+"px",this.shapeDom.style.borderBottomRightRadius=this.data.borderBottomRightRadius+"px"):(this.shapeDom&&(this.dom.removeChild(this.shapeDom),this.shapeDom=null),this.initShape(),this.refreshBox(),this.setPosition(this.data.x,this.data.y),this.refreshShape()),this.refreshBox()}_refreshBounding(){for(var t=this;t;)t.boundingRect=null,t=t.parent||t.belongInduce&&t.belongInduce.node;var e=this.mind.getRootByNode(this);if(e&&e.layout&&["fish","time"].indexOf(e.layout.layoutName)>-1){var n=this.mind.getSecondNodeByNode(this);this.mind.traverseBF(a=>{a.boundingRect=null},n)}}_clickLink(t){t.stopPropagation(),t.preventDefault(),this.getMind().emit("openExternal",{href:this.data.link})}_clickRemark(t){}initReMark(){this.data.link?(this.linkDom&&this.linkDom.removeEventListener("click",this.clickLink),this.linkDom&&this.markDom.removeChild(this.linkDom),this.linkDom=document.createElement("a"),this.linkDom.className="node-link iconfont icon-infenicon15",this.linkDom.href=this.data.link,this.linkDom.style="display:inline-block;verticle-align:middle;padding:0 2px;font-size:18px;text-decoration:none",this.linkDom.setAttribute("target","_blank"),this.markDom.appendChild(this.linkDom),this.linkDom.addEventListener("click",this.clickLink),this.linkDom.innerHTML=`
      <svg t="1684659264348" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6022" width="16" height="16"><path d="M341.333333 554.666667l341.333333 0 0-85.333333L341.333333 469.333333 341.333333 554.666667zM166.4 512c0-98.133333 76.8-174.933333 174.933333-174.933333l128 0L469.333333 256 341.333333 256c-140.8 0-256 115.2-256 256s115.2 256 256 256l128 0 0-81.066667L341.333333 686.933333C243.2 686.933333 166.4 610.133333 166.4 512zM682.666667 256l-128 0 0 81.066667 128 0c98.133333 0 174.933333 76.8 174.933333 174.933333 0 98.133333-76.8 174.933333-174.933333 174.933333l-128 0L554.666667 768l128 0c140.8 0 256-115.2 256-256S823.466667 256 682.666667 256z" p-id="6023"></path></svg>
      `):(this.linkDom&&this.linkDom.removeEventListener("click",this.clickLink),this.linkDom&&this.markDom.removeChild(this.linkDom),this.linkDom=null),this.data.remark?(this.remarkDom&&this.markDom.removeChild(this.remarkDom),this.remarkDom=document.createElement("div"),this.remarkDom.className="node-remark iconfont icon-note",this.remarkDom.style="display:inline-block;verticle-align:middle;padding:0 2px",this.remarkDom.innerHTML=`
      <svg t="1684659376771" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7057" width="16" height="16"><path d="M512.761856 230.106112l-360.31488 0L152.446976 871.2448l589.847552 0L742.294528 544.626688l51.291136-48.973824L793.585664 871.2448c0 28.324864-22.966272 51.291136-51.291136 51.291136l-589.847552 0c-28.324864 0-51.291136-22.966272-51.291136-51.291136l0-641.138688c0-28.325888 22.966272-51.291136 51.291136-51.291136L563.289088 178.814976l1.276928 1.277952L512.761856 230.106112zM806.509568 152.706048c15.490048 0.776192 30.027776 7.675904 40.445952 19.171328 13.686784 10.894336 22.514688 26.747904 24.594432 44.115968-1.62816 18.169856-10.317824 34.987008-24.205312 46.83264-14.263296 14.738432-126.02368 125.159424-332.102656 328.269824l-15.777792 15.552512c-23.629824 7.300096-80.217088 25.483264-122.993664 39.281664 13.774848-45.48096 30.304256-100.427776 37.666816-126.399488 44.053504-44.003328 335.307776-334.820352 346.377216-345.726976 12.335104-12.284928 28.663808-19.74784 46.031872-21.050368M806.546432 101.465088c-30.954496 1.214464-60.319744 14.062592-82.221056 35.989504C712.329216 149.300224 372.349952 488.790016 372.349952 488.790016c-2.679808 2.705408-4.608 6.048768-5.597184 9.730048-9.203712 34.035712-55.360512 185.116672-55.824384 186.61888-2.354176 7.713792-0.25088 16.104448 5.459968 21.801984 4.007936 4.032512 9.46688 6.286336 15.152128 6.273024 2.229248 0.013312 4.458496-0.324608 6.587392-0.989184 1.577984-0.526336 157.492224-50.939904 183.149568-58.60352 3.381248-1.01376 6.462464-2.842624 8.979456-5.310464 16.191488-15.978496 328.671232-323.611648 353.902592-349.745152 26.145792-26.923008 39.156736-55.022592 38.656-83.34848-1.990656-31.118336-16.57856-60.094464-40.3968-80.2304-19.871744-20.774912-47.19616-32.80896-75.933696-33.434624l0 0L806.546432 101.465088z" p-id="7058"></path></svg>
      `,this.markDom.appendChild(this.remarkDom)):(this.remarkDom&&this.markDom.removeChild(this.remarkDom),this.remarkDom=null)}_imageClick(t){t.stopPropagation(),!this.mind.readOnly&&(this.imageMark||(this.imageMark=new R(this,this.imageDom)),this.getMind().emit("hide"),setTimeout(()=>{this.getMind().emit("showImage",{node:this})},10))}refreshImage(){var t=this;this.imageDom&&(this.imageDom.removeEventListener("click",this.imageClick),this.dom.removeChild(this.imageDom),this.imageDom=null),this.data.isImageNode&&(this.imageClick=this._imageClick.bind(this),this.imageDom=document.createElement("img"),this.imageDom.src=this.data.image,this.imageDom.style.width=this.data.imageWidth+"px",this.imageDom.style.height=this.data.imageHeight+"px",this.imageDom.style.borderRadius=this.data.imageRadius,this.imageDom.addEventListener("click",this.imageClick),this.imageDom.style.margin="",this.imageDom.setAttribute("draggable",!1),this.data.imagePosition=="left"?(this.dom.insertBefore(this.imageDom,this.groupDom),this.imageDom.style.display="inline-block",this.imageDom.style.verticalAlign="middle",this.imageDom.style.marginRight="4px",this.groupDom.style.display="inline-block"):this.data.imagePosition=="right"?(this.dom.appendChild(this.imageDom),this.imageDom.style.display="inline-block",this.imageDom.style.verticalAlign="middle",this.imageDom.style.marginLeft="4px",this.groupDom.style.display="inline-block"):this.data.imagePosition=="bottom"?(this.dom.appendChild(this.imageDom),this.imageDom.style.display="block",this.imageDom.style.marginTop="6px",this.imageDom.style.marginLeft="auto",this.imageDom.style.marginRight="auto",this.groupDom.style.display="block"):(this.dom.insertBefore(this.imageDom,this.groupDom),this.imageDom.style.display="block",this.imageDom.style.marginBottom="6px",this.imageDom.style.marginLeft="auto",this.imageDom.style.marginRight="auto",this.groupDom.style.display="block"))}initAssist(){this.data.priority?(this.priorityDom&&this.assistDom.removeChild(this.priorityDom),this.priorityDom=document.createElement("div"),this.priorityDom.dataset.priority=this.data.priority,this.priorityDom.className="node-priority",this.priorityDom.innerText=this.data.priority,this.assistDom.appendChild(this.priorityDom)):(this.priorityDom&&this.assistDom.removeChild(this.priorityDom),this.priorityDom=null),this.data.isTodo&&(this.todoDom&&this.assistDom.removeChild(this.todoDom),this.todoDom=document.createElement("div"),this.todoDom.className="todo-container",this.todoDomcheck=document.createElement("input"),this.todoDomcheck.className="magic-checkbox",this.todoDomcheck.type="checkbox",this.todoDomcheck.id="todo-"+this.getId(),this.label=document.createElement("label"),this.label.setAttribute("for","todo-"+this.getId()),this.todoDom.appendChild(this.todoDomcheck),this.todoDom.appendChild(this.label),this.assistDom.appendChild(this.todoDom),this.data.todoDone?$(this.todoDomcheck).prop("checked",!0):$(this.todoDomcheck).prop("checked",!1),this.todoDom.onclick=t=>{t.stopPropagation()},this.todoDom.ondblclick=t=>{t.stopPropagation()},this.todoDomcheck.onclick=t=>{this.toggleTodoState()}),this.data.percent?(this.percentDom&&this.assistDom.removeChild(this.percentDom),this.percentDom=document.createElement("div"),this.percentDom.dataset.percent=this.data.percent,this.data.percent=="not-start"?(this.percentDom.className="node-percent iconfont icon-weikaishi",this.data.todoDone=!1):this.data.percent==100?(this.percentDom.className="node-percent iconfont icon-wancheng",this.data.todoDone=!0):(this.percentDom.className="node-percent pie",this.data.todoDone=!1),this.assistDom.appendChild(this.percentDom)):(this.percentDom&&this.assistDom.removeChild(this.percentDom),this.percentDom=null),this._refreshAnnotation(),this._refreshTodo(),this.initMark()}_refreshAnnotation(){this.data.annotation?this.annotationDom||(this.annotationDom=document.createElement("div"),this.annotationDom.innerHTML=`
       <svg t="1684725818323" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8356" width="16" height="16"><path d="M984.687304 758.316522H39.312696A17.051826 17.051826 0 0 1 22.26087 741.220174V285.629217c0-9.394087 7.635478-17.029565 17.051826-17.029565h945.374608c9.416348 0 17.051826 7.613217 17.051826 17.029565V741.286957a17.051826 17.051826 0 0 1-17.051826 17.051826" fill="#FA4E4E" p-id="8357"></path><path d="M897.224348 22.26087H126.775652a33.391304 33.391304 0 0 0-33.391304 33.391304v111.104a33.391304 33.391304 0 0 0 66.782609 0v-77.690435h318.041043V937.850435h-68.85287a33.391304 33.391304 0 1 0 0 66.782608h204.466087a33.391304 33.391304 0 1 0 0-66.782608h-68.830608V89.043478h318.842434v77.690435a33.391304 33.391304 0 1 0 66.782609 0v-111.081739a33.391304 33.391304 0 0 0-33.391304-33.391304" fill="#4A4A4A" p-id="8358"></path></svg>
       `,this.annotationDom.classList.add("node-annotation"),this.assistDom.appendChild(this.annotationDom),this.annotationDom.node=this):(this.annotationDom&&this.assistDom.removeChild(this.annotationDom),this.annotationDom=null)}initMark(){this.marksDom.innerHTML="",this.data.marks.length&&this.data.marks.forEach(t=>{var e=document.createElement("div");e.classList.add("node-mark-item"),e.innerHTML=t.text,e.style.backgroundColor=t.fill,this.marksDom.appendChild(e)})}setTodoDone(){this.data.isTodo&&(this.data.todoDone=!0,this._refreshTodo())}_refreshTodo(){this.data.todoDone?this.textDom.classList.contains("node-todo-done")||this.textDom.classList.add("node-todo-done"):this.textDom.classList.contains("node-todo-done")&&this.textDom.classList.remove("node-todo-done")}toggleTodoState(){this.data.isTodo&&(this.data.todoDone=!this.data.todoDone,this._refreshTodo())}setTodo(){this.data.isTodo=!0,this.initAssist(),this.refreshBox()}removeTodo(){this.data.isTodo=!1,this.todoDom.onclick=null,this.todoDom.ondblclick=null,this.todoDomcheck.onclick=null,this.todoDom&&this.assistDom.removeChild(this.todoDom),this.todoDom=null,this.refreshBox()}isTodo(){return this.data.isTodo}setPriority(t){this.data.priority!=t&&(this.data.priority=t,this.initAssist())}removePriority(){this.data.priority="",this.dom.removeChild(this.priorityDom),this.priorityDom=null,this.refreshBox()}setPercent(t){this.data.percent!=t&&(this.data.percent=t,this.initAssist())}removePercent(){this.data.percent="",this.dom.removeChild(this.percentDom),this.percentDom=null,this.refreshBox()}setLink(t){this.data.link=t,this.initReMark()}removeLink(){this.data.link&&(this.markDom.removeChild(this.linkDom),this.linkDom=null,this.refreshBox())}setRemark(t){this.data.remark=t,this.initReMark()}removeRemark(){this.data.remark&&(this.markDom.removeChild(this.remarkDom),this.remarkDom=null,this.refreshBox())}resizeNode(){this.nodeMark=new R(this,this.dom,"node")}cancelResize(){this.nodeMark&&(this.nodeMark.remove(),this.nodeMark=null)}getNodeType(){return this.data.nodeType||this.nodeType}setText(t){this.textDom.innerText=t,this.parseText(),this.refreshBox(),this.refreshCBox()}getText(){return this.data.mdText||this.data.text}getTxt(){return this.textDom.textContent||this.textDom.innerText||""}refresh(){if(this._refresh(),this.refreshShape(),this.getNodeType()=="callout"){if(!this.callout)return;this.callout.color=this.data.backgroundColor,this.callout.refresh()}if(this.getNodeType()=="relateLink"){if(!this.relateLink)return;this.relateLink.data.color=this.data.backgroundColor,this.relateLink.data.width=this.data.borderWidth||1,this.data.borderStyle=="solid"?this.relateLink.data.dashArray=[0]:this.data.borderStyle=="dashed"?this.relateLink.data.dashArray=[6,4]:this.relateLink.data.dashArray=[2,2],this.relateLink.refresh()}this.refreshCBox()}addChild(t,e){this.children.indexOf(t)==-1&&(e>-1?(e>this.children.length&&(e=this.children.length),this.children.splice(e,0,t)):this.children.push(t),t.parent=this)}getMind(){return this.mind}getSiblings(){return this.parent?this.parent.children.filter(t=>t!=this):[]}getId(){return this.data.id||this.id}isShow(){return!this.isHide}addThemeClass(t){this.dom.classList.contains(t)||this.dom.classList.add(t),this.themeName=t}addClass(t){this.shapeDom.classList.contains(t)||this.shapeDom.classList.add(t)}removeClass(t){this.shapeDom.classList.contains(t)&&this.shapeDom.classList.remove(t)}removeThemeClass(t){this.dom.classList.remove(t||this.themeName),this.themeName=""}move(t,e){var n=this.getPosition();this.setPosition(n.x+t,n.y+e)}getNodeList(){var t=[];return function e(n){t.push(n),n.children.forEach(a=>{e(a)})}(this),t}getShowNodeList(){var t=[];return function e(n){n.isShow()&&t.push(n),n.children.forEach(a=>{e(a)})}(this),t}getLevel(){var t=0,e=this.parent;if(this==this.mind.root)return t;for(t++;e&&e!=this.mind.root;)t++,e=e.parent;return t}getPosition(){return{x:this.box.x,y:this.box.y}}refreshDomPos(){var t=this.box.x,e=this.box.y;this.group&&(this.dom.style.left=t+this.group.w+"px",this.dom.style.top=e+this.group.h+"px")}setPosition(t,e){this.box.x=t,this.box.y=e,this.data.x=t,this.data.y=e,["rect","parallelogram","ellipse","roundRect"].indexOf(this.data.shapeType)>-1?(this.dom.style.left=t+"px",this.dom.style.top=e+"px"):this.group&&(this.group.attr({transform:`translate(${t},${e})`}),this.dom.style.left=t+this.group.w+"px",this.dom.style.top=e+this.group.h+"px")}getDomBox(){var t=parseInt(this.dom.style.top),e=parseInt(this.dom.style.left),n=Math.ceil(this.dom.offsetWidth),a=Math.ceil(this.dom.offsetHeight);return this.selected&&(n=n-4,a=a-4),{x:e,y:t,width:n,height:a}}getSvgBox(){if(this.shapeSvg){var t=this.shapeSvg.bbox();return this.box.width=t.width,this.box.height=t.height,this.box}else return this.box}refreshBox(t){return["rect","parallelogram","ellipse","roundRect"].indexOf(this.data.shapeType)>-1?this.box=this.getDomBox():this.box=this.getSvgBox(),this.box}getBox(){return this.box}refreshCBox(){this.cbox=this.getCBox()}getCBox(t){var e=this.getBox(),n=0,a=0;if(this.callout){var l=this.callout.getBox();l.y<e.y&&(n=e.y-l.y),l.y+l.height>e.y+e.height&&(a=l.y+l.height-e.y-e.height)}if(t&&this.wfs.length){var u=0;this.wfs.forEach(x=>{if(x.data&&x.data.text){var g=x.getTextBox().height;u<g&&(u=g)}}),n+=u+3,a+=3}return{...e,th:n,bh:a}}getBBox(){var t=this.getBox();if(this.callout){this.callout.refresh();var e=this.callout.getBox();t=this.merge(t,e)}return t}merge(t,e){var n=Math.max(t.x+t.width,e.x+e.width),a=Math.max(t.y+t.height,e.y+e.height),l=Math.min(t.x,e.x),u=Math.min(t.y,e.y);return{x:l,y:u,x1:n,y1:a,width:n-l,height:a-u}}getBoundingRect(){return this.box}getLayout(){for(var t=this,e=null;t;){if(t.layout){e=t.layout;break}t=t.parent}return e}getTopLayout(){if(!this.parent)return this.layout||null;var t=this,e=null,n=this.layout;for(this.layout=null;t;){if(t.layout){e=t.layout;break}t=t.parent}return this.layout=n,this.topLayout=e,e}getParent(){return this.parent}select(){this.selected=!0,this.dom.style.border="2px solid blue",this.dom.classList.contains("node-callout")||this.dom.classList.contains("node-relate")||this.dom.classList.contains("node-wireFrame")||this.nodeType=="induce"?this.dom.setAttribute("draggable",!1):this.dom.setAttribute("draggable",!0)}unSelect(){this.selected=!1,this.dom.style.border="",this.dom.setAttribute("draggable",!1)}isExpand(){return this.isExpanded}isTopParent(t){if(!t||t==this)return!1;for(var e=!1,n=t;n;)if(n==this){e=!0;break}else n=n.parent;return e}getChildren(){return this.children}isFirst(){if(this.parent){var t=this.parent.getChildren();return t&&t.indexOf(this)==0}else return!0}isLast(){if(this.parent){var t=this.parent.getChildren();return t.length&&t.indexOf(this)==t.length-1}else return!0}removeChild(t){var e=this.children.indexOf(t);return e>-1&&this.children.splice(e,1),e}moveNode(t,e,n){if(e.getId()!=t){var a=this.mind.getNodeById(t);if(a){for(var l=!1,u=e.parent;u;){if(u==a){l=!0;break}u=u.parent}if(!l)if(this.mind._refreshBounding(a),this.mind._refreshBounding(this),this.isExpanded||this.expand(),a&&a.nodeType=="freeNode")this.mind.execute("changeFreeRootToNode",{node:a,parent:this});else{if(a.data.main)return;if(n=="top"||n=="left")this.mind.execute("moveNode",{type:"siblings",node:a,oldParent:a.parent,dropNode:e,direct:n});else if(n=="down"||n=="right")this.mind.execute("moveNode",{type:"siblings",node:a,oldParent:a.parent,dropNode:e,direct:n});else if(n.indexOf("child")>-1){var x=n.split("-");x[1]?this.mind.execute("moveNode",{type:"child",node:a,oldParent:a.parent,parent:this,direct:x[1]}):this.mind.execute("moveNode",{type:"child",node:a,oldParent:a.parent,parent:this})}}}}}cancelEdit(){if(this.isEdit){this.textDom.style.display="inline-block";var t=!1;this.oldText!=this.textDom.innerText?(this.mind.execute("changeNode",{nodes:[this],data:{key:"text",oldText:this.oldText,text:this.textDom.innerText}}),t=!0):t||this.parseText(),this.isEdit=!1,this.dom.style.zIndex=this.data.z||10,this.getMind().status="",this.dom.classList.contains("node-callout")||this.dom.setAttribute("draggable",!0),this.textDom.setAttribute("contenteditable",!1),this.nodeType=="relateLink"&&(this.data.text||this.mind.execute("relateHideNode",{relateLink:this.relateLink}))}}getTextBox(){return{width:this.groupDom.offsetWidth,height:this.groupDom.offsetHeight}}edit(){if(this.mind.clearEditNode(),this.textDom.setAttribute("contenteditable",!0),this.isEdit=!0,this.dom.style.zIndex=60,this.getMind().status="editNode",this.renderMdText(),this.oldText=this.data.mdText,Ee(this.textDom),this.data.main)this.getTxt()==gt("topic")&&this.selectText();else{var t=this.getTxt();(t==gt("Sub title")||t==gt("Same title")||t==gt("Parent title")||this.nodeType=="relateLink"||this.nodeType=="wireFrame")&&this.selectText()}this.getMind().emit("hide")}_clickFn(){this.mind&&this.mind.clearSelectNode(),this.mind._selectNode=this,this.select(),this.mind.emit("selectNode",{node:this}),(this.nodeType=="induce"||this.belongInduce)&&this.mind.emit("showAssist",{induce:this.belongInduce}),this.isEdit||this.mind.emit("showNodeNav",{node:this}),this.mind.status=="editNode"&&this.mind.editNode!=this&&(this.mind.status="",this.mind.editNode=null)}isRoot(){return!!(this.nodeType=="freeNode"||this.data.main)}getData(t,e){var n={...this.data,pid:this.parent&&this.parent.getId()||"",nodeType:this.nodeType,isExpanded:this.isExpanded};if(this.layout){var a=this.layout.layoutName,l=this.layout.direct;n.layout={layoutName:a,direct:l}}else n.layout=null;return this.wireFrame&&(n.wireFrame=!0),this.induce&&(n.induce=!0),this.data.main&&(n.isRoot=!0),t?n.text=this.textDom.textContent||this.textDom.innerText:this.data.mdText&&(n.text=this.data.mdText.trim()),this.belongInduce&&(n.belongInduce=this.belongInduce.getId()),delete n.innerText,delete n.mdText,this.stroke&&(n.stroke=this.stroke),e&&this.removeEvent(),n}getTemplateData(t,e){var n={...this.data,pid:this.parent&&this.parent.getId()||"",nodeType:this.nodeType,isExpand:this.isExpanded};if(this.layout){var a=this.layout.layoutName,l=this.layout.direct;n.layout={layoutName:a,direct:l}}else n.layout=null;return this.wireFrame&&(n.wireFrame=!0),this.induce&&(n.induce=!0),this.data.main&&(n.isRoot=!0),t?n.text=this.textDom.textContent||this.textDom.innerText:this.data.mdText&&(n.text=this.data.mdText.trim()),this.belongInduce&&(n.belongInduce=this.belongInduce.getId()),delete n.innerText,delete n.mdText,n.annotation&&delete n.annotation,this.stroke&&(n.stroke=this.stroke),e&&this.removeEvent(),n}setImagePosition(t){this.data.imagePostion=t||"top",this._refreshBounding(),this.refresh()}getImagePosition(){return this.data.imagePostion}getHtml(){var t=this.textDom.innerHTML;if(this.data.link){var e=`<a href="${this.data.link}">${this.data.link}</a>`;t+=e}if(this.data.isImageNode){var n=`<p><img src="${this.data.image}" style="width:600px;text:-align:center"/></p>`;t+=n}return this.data.remark&&(t+=this.data.remark),t}isLeaf(){return!this.children.length}setData(t){this.data={...this.data,...t},this.refresh()}getStyle(){var t={};return["backgroundColor","borderStyle","borderWidth","borderColor","paddingLeft","paddingRight","paddingBottom","paddingTop","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","textAlign","color","fontSize","fontFamily"].forEach(e=>{t[e]=this.data[e]}),t.text=this.textDom.innerHTML,t}setStyle(t){this.setData(t)}selectText(){var t=this.textDom;if(document.body.createTextRange){var e=document.body.createTextRange();e.moveToElementText(t),e.select()}else if(window.getSelection){var n=window.getSelection(),e=document.createRange();e.selectNodeContents(t),n.removeAllRanges(),n.addRange(e)}}initEvent(){}removeEvent(){this.textDom.onblur=null,this.bar.onclick=null,this.bar.ondblclick=null,this.dom.ondrop=null,this.data.link&&this.linkDom&&this.linkDom.removeEventListener("click",this.clickLink),this.data.remark&&this.remarkDom&&this.remarkDom.removeEventListener("click",this.clickRemark),this.imageDom&&this.imageDom.removeEventListener("click",this.imageClick),this.todoDom&&(this.todoDom.onclick=null,this.todoDom.ondblclick=null),this.todoDomcheck&&(this.todoDomcheck.onclick=null)}}const Zt=qe,di=[{name:"normal",text:"\u7ECF\u5178",use:!1,config:{"main-root-fill":"rgb(232,222,153)","main-root-stroke":"transparent","main-root-textFill":"rgb(82,50,0)","main-root-fontSize":"18","main-root-textPadding":[15,18,14,18],"second-node-fill":"rgb(164,195,190)","second-node-stroke":"transparent","second-node-textFill":"#333","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"rgb(164,195,190)","free-root-stroke":"transparent","free-root-textFill":"#333","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#666","free-second-node-stroke":"transparent","free-second-node-textFill":"#fff","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"#fff","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#f5f5f5",lineWidth:2,background:"#555","relate-stroke":"#ccc","relate-textFill":"#ccc","wireFrame-stroke":"#f6f6f6","wireFrame-fill":"rgba(255,255,255,.2)","induce-stroke":"#f6f6f6","induce-fill":"#666","induce-textFill":"#f6f6f6","induce-fontSize":"14","induce-fontFamily":"","induce-fontStyle":""}},{name:"white",text:"\u767D\u8272",use:!1,config:{"main-root-fill":"#fff","main-root-stroke":"#333","main-root-textFill":"#333","main-root-fontSize":"18","main-root-borderWidth":2,"main-root-textPadding":[15,18,14,18],"second-node-fill":"#fff","second-node-stroke":"#333","second-node-textFill":"#333","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"rgb(251,81,81)","free-root-stroke":"rgb(251,81,81)","free-root-textFill":"#fff","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#fff","free-second-node-stroke":"#333","free-second-node-textFill":"#333","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"#fff","node-stroke":"transparent","node-textFill":"#333","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#333",lineWidth:2,background:"#fff","relate-stroke":"rgb(251,81,81)","relate-textFill":"#333","wireFrame-stroke":"rgb(251,81,81)","wireFrame-fill":"transparent","induce-stroke":"rgb(251,81,81)","induce-fill":"rgb(251,81,81)","induce-textFill":"#fff","induce-fontSize":"14","induce-fontFamily":"","induce-fontStyle":""}},{name:"white1",text:"\u767D\u8272",use:!1,config:{"main-root-fill":"#283593","main-root-stroke":"#283593","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[15,18,14,18],"second-node-fill":"#fff","second-node-stroke":"#283593","second-node-textFill":"#283593","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#AD1457","free-root-stroke":"#AD1457","free-root-textFill":"#fff","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#fff","free-second-node-stroke":"#283593","free-second-node-textFill":"#283593","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"#D7CCC8","node-stroke":"transparent","node-textFill":"#283593","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#283593",lineWidth:2,background:"#D7CCC8","relate-stroke":"#AD1457","relate-textFill":"#333","wireFrame-stroke":"#AD1457","wireFrame-fill":"transparent","induce-stroke":"#AD1457","induce-fill":"#AD1457","induce-textFill":"#fff","induce-fontSize":"14","induce-fontFamily":"","induce-fontStyle":""}},{name:"black",text:"\u9ED1\u8272",use:!1,config:{"main-root-fill":"rgb(5,196,235)","main-root-stroke":"transparent","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[18,14,18,14],"second-node-fill":"rgb(35, 39, 62)","second-node-stroke":"rgb(115, 154, 163)","second-node-textFill":"rgb(236,236,244)","second-node-fontSize":"14","second-node-textPadding":[8,7,8,7],distance:40,"free-root-fill":"rgb(253, 241, 107)","free-root-stroke":"transparent","free-root-textFill":"#fff","free-root-fontSize":"14","free-root-textPadding":[8,7,8,7],"free-second-node-fill":"rgb(35, 39, 62)","free-second-node-stroke":"rgb(115, 154, 163)","free-second-node-textFill":"#fff","free-second-node-fontSize":"12","free-second-node-textPadding":[7,5,7,5],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"rgb(115, 154, 163)","node-fontSize":"12","node-textPadding":[6,5,6,5],stroke:"rgb(115, 154, 163)",lineWidth:2,background:"rgb(35, 39, 62)","relate-stroke":"rgb(206, 214, 218)","relate-textFill":"#fff","wireFrame-stroke":"rgb(206, 214, 218)","wireFrame-fill":"transparent","induce-stroke":"rgb(253, 241, 107)","induce-fill":"rgb(66,78,96)","induce-textFill":"#fff","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"black2",text:"\u9ED1\u8272",use:!1,config:{"main-root-fill":"#c31105","main-root-stroke":"transparent","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[18,14,18,14],"second-node-fill":"#383833","second-node-stroke":"#383833","second-node-textFill":"#fff","second-node-fontSize":"14","second-node-textPadding":[10,6,10,6],distance:40,"free-root-fill":"#383833","free-root-stroke":"#383833","free-root-textFill":"#fff","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#f1f1f1","free-second-node-stroke":"#383833","free-second-node-textFill":"#383833","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"#383833","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#383833",lineWidth:2,background:"#f1f1f1","relate-stroke":"#383833","relate-textFill":"#333","wireFrame-stroke":"#c31105","wireFrame-fill":"transparent","induce-stroke":"#333","induce-fill":"#333","induce-textFill":"#fff","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"blue",text:"\u84DD\u8272",use:!0,config:{"main-root-fill":"#00aaff","main-root-stroke":"transparent","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[18,14,18,14],"second-node-fill":"#fff","second-node-stroke":"transparent","second-node-textFill":"#666","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#fff","free-root-stroke":"transparent","free-root-textFill":"#666","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"rgb(230, 238, 242)","free-second-node-stroke":"rgb(206, 214, 218)","free-second-node-textFill":"#666","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"#343a40","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"rgb(206, 214, 218)",lineWidth:2,background:"rgb(230, 238, 242)","relate-stroke":"rgb(206, 214, 218)","relate-textFill":"#343a40","wireFrame-stroke":"rgb(206, 214, 218)","wireFrame-fill":"transparent","induce-stroke":"rgb(206, 214, 218)","induce-fill":"#fff","induce-textFill":"#343a40","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"blue2",text:"\u84DD\u8272",use:!1,config:{"main-root-fill":"#1097e8","main-root-stroke":"#fff","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[18,14,18,14],"second-node-fill":"#fff","second-node-stroke":"#1097e8","second-node-textFill":"#1097e8","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#fff","free-root-stroke":"#1097e8","free-root-textFill":"#1097e8","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"rgb(230, 238, 242)","free-second-node-stroke":"rgb(206, 214, 218)","free-second-node-textFill":"#666","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"#333","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"rgb(206, 214, 218)",lineWidth:2,background:"rgb(230, 238, 242)","relate-stroke":"rgb(206, 214, 218)","relate-textFill":"#666","wireFrame-stroke":"rgb(206, 214, 218)","wireFrame-fill":"transparent","induce-stroke":"rgb(206, 214, 218)","induce-fill":"#fff","induce-textFill":"#666","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"blue3",text:"\u84DD\u8272",use:!1,config:{"main-root-fill":"#fbffff","main-root-stroke":"#fbffff","main-root-textFill":"#333","main-root-fontSize":"18","main-root-textPadding":[18,14,18,14],"second-node-fill":"rgb(255, 235, 204)","second-node-stroke":"transparent","second-node-textFill":"#333","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"rgb(255, 235, 204)","free-root-stroke":"transparent","free-root-textFill":"#333","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#56a3b3","free-second-node-stroke":"#fff","free-second-node-textFill":"#fff","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"#56a3b3","node-stroke":"transparent","node-textFill":"#fff","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#fff",lineWidth:2,background:"#56a3b3","relate-stroke":"#fff","relate-textFill":"#fff","wireFrame-stroke":"#fff","wireFrame-fill":"rgba(255,255,255,.2)","induce-stroke":"#fff","induce-fill":"#fff","induce-textFill":"#333","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"blue4",text:"\u84DD\u8272",use:!1,config:{"main-root-fill":"rgb(48,61,77)","main-root-stroke":"rgb(48,61,77)","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[18,14,18,14],"second-node-fill":"rgb(63,114,175)","second-node-stroke":"rgb(63,114,175)","second-node-textFill":"#fff","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"rgb(213,214,210)","free-root-stroke":"rgb(213,214,210)","free-root-textFill":"rgb(48,61,77)","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"rgb(175,188,207)","free-second-node-stroke":"rgb(175,188,207)","free-second-node-textFill":"rgb(48,61,77)","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"rgb(175,188,207)","node-stroke":"transparent","node-textFill":"rgb(48,61,77)","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"rgb(48,61,77)",lineWidth:2,background:"rgb(175,188,207)","relate-stroke":"#fff","relate-textFill":"#fff","wireFrame-stroke":"rgb(213,214,210)","wireFrame-fill":"rgba(255,255,255,.2)","induce-stroke":"rgb(213,214,210)","induce-fill":"rgb(213,214,210)","induce-textFill":"#333","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"red",text:"red",use:!0,config:{"main-root-fill":"rgb(191, 115, 115)","main-root-stroke":"rgb(191, 115, 115)","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[15,18,14,18],"second-node-fill":"rgb(246, 238, 238)","second-node-stroke":"rgb(191, 115, 115)","second-node-textFill":"#333","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"rgb(246, 238, 238)","free-root-stroke":"rgb(246, 238, 238)","free-root-textFill":"#333","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"rgb(251, 251, 251)","free-second-node-stroke":"rgb(191, 115, 115)","free-second-node-textFill":"#333","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"#333","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"rgb(191, 115, 115)",lineWidth:2,background:"rgb(251, 251, 251)","relate-stroke":"rgb(191, 115, 115)","relate-textFill":"#333","wireFrame-stroke":"rgb(191, 115, 115)","wireFrame-fill":"transparent","induce-stroke":"rgb(191, 115, 115)","induce-fill":"rgb(191, 115, 115)","induce-textFill":"#fff","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"red2",text:"red",use:!0,config:{"main-root-fill":"#B71C1C","main-root-stroke":"#B71C1C","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[15,18,14,18],"second-node-fill":"#263238","second-node-stroke":"#B71C1C","second-node-textFill":"#eee","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"rgb(246, 238, 238)","free-root-stroke":"rgb(246, 238, 238)","free-root-textFill":"#333","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#263238","free-second-node-stroke":"#B71C1C","free-second-node-textFill":"#fff","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"#263238","node-stroke":"transparent","node-textFill":"#eee","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#B71C1C",lineWidth:2,background:"#263238","relate-stroke":"rgb(191, 115, 115)","relate-textFill":"#fff","wireFrame-stroke":"rgb(191, 115, 115)","wireFrame-fill":"transparent","induce-stroke":"rgb(191, 115, 115)","induce-fill":"rgb(191, 115, 115)","induce-textFill":"#fff","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"green2",text:"\u7EFF\u8272",use:!1,config:{"main-root-fill":"#43A047","main-root-stroke":"transparent","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[18,14,18,14],"second-node-fill":"#F0F4C3","second-node-stroke":"transparent","second-node-textFill":"rgb(83,175,128)","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#F0F4C3","free-root-stroke":"transparent","free-root-textFill":"rgb(83,175,128)","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#43A047","free-second-node-stroke":"transparent","free-second-node-textFill":"#fff","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"#263238","node-stroke":"transparent","node-textFill":"rgb(83,175,128)","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"rgb(83,175,128)",lineWidth:2,background:"#263238","relate-stroke":"#FF9E80","relate-textFill":"#FF9E80","wireFrame-stroke":"#4DD0E1","wireFrame-fill":"rgba(1,149,164,.2)","induce-stroke":"#4DD0E1","induce-fill":"#F0F4C3","induce-textFill":"rgb(1,149,164)","induce-fontSize":"14","induce-fontFamily":"","induce-fontStyle":""}},{name:"orange",text:"\u6A58\u8272",use:!1,config:{"main-root-fill":"#FFD180","main-root-stroke":"#FFD180","main-root-textFill":"#fff","main-root-fontSize":"18","main-root-textPadding":[15,18,14,18],"second-node-fill":"#4E342E","second-node-stroke":"#4E342E","second-node-textFill":"#fff","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#FF8A80","free-root-stroke":"#FF8A80","free-root-textFill":"#fff","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#FFF8E1","free-second-node-stroke":"#4E342E","free-second-node-textFill":"#4E342E","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"#333","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#4E342E",lineWidth:2,background:"#FFF8E1","relate-stroke":"#FF8A80","relate-textFill":"#333","wireFrame-stroke":"#FF8A80","wireFrame-fill":"transparent","induce-stroke":"#FF8A80","induce-fill":"#FF8A80","induce-textFill":"#fff","induce-fontSize":"14","induce-fontFamily":"","induce-fontStyle":""}},{name:"markdown",text:"\u84DD\u8272",use:!0,config:{"main-root-fill":"#f6f8fa","main-root-stroke":"transparent","main-root-textFill":"##333","main-root-fontSize":"18","main-root-textPadding":[18,14,18,14],"second-node-fill":"#fff","second-node-stroke":"transparent","second-node-textFill":"#666","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#fff","free-root-stroke":"transparent","free-root-textFill":"#666","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"rgb(230, 238, 242)","free-second-node-stroke":"rgb(206, 214, 218)","free-second-node-textFill":"#666","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"#ffffff","node-stroke":"transparent","node-textFill":"#666","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#dfe2e5",lineWidth:2,background:"#ffffff","relate-stroke":"rgb(206, 214, 218)","relate-textFill":"#666","wireFrame-stroke":"rgb(206, 214, 218)","wireFrame-fill":"transparent","induce-stroke":"rgb(206, 214, 218)","induce-fill":"#fff","induce-textFill":"#666","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"dark",text:"\u9ED1\u8272",use:!1,config:{"main-root-fill":"rgb(64, 158, 255)","main-root-stroke":"transparent","main-root-textFill":"rgba(255, 255, 255, .8)","main-root-fontSize":"18","main-root-textPadding":[18,14,18,14],"second-node-fill":"#fff","second-node-stroke":"rgb(115, 154, 163)","second-node-textFill":"rgb(64, 158, 255)","second-node-fontSize":"14","second-node-textPadding":[8,7,8,7],distance:40,"free-root-fill":"#fff","free-root-stroke":"transparent","free-root-textFill":"rgb(94, 186, 241)","free-root-fontSize":"14","free-root-textPadding":[8,7,8,7],"free-second-node-fill":"rgb(35, 39, 62)","free-second-node-stroke":"rgb(115, 154, 163)","free-second-node-textFill":"#fff","free-second-node-fontSize":"12","free-second-node-textPadding":[7,5,7,5],"free-distance":30,"node-fill":"#282828","node-stroke":"transparent","node-textFill":"rgba(255, 255, 255, .8)","node-fontSize":"12","node-textPadding":[6,5,6,5],stroke:"#7b7b7b",lineWidth:2,background:"#282828","relate-stroke":"rgb(206, 214, 218)","relate-textFill":"#fff","wireFrame-stroke":"rgb(206, 214, 218)","wireFrame-fill":"transparent","induce-stroke":"rgb(253, 241, 107)","induce-fill":"rgb(66,78,96)","induce-textFill":"#fff","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"pro1",text:"theme-pro1",use:!0,config:{"main-root-fill":"#1A2235","main-root-stroke":"#FF9F00","main-root-textFill":"#FF9F00","main-root-fontSize":"18","main-root-textPadding":[15,18,14,18],"second-node-fill":"#1A2235","second-node-stroke":"#00C2C3","second-node-textFill":"#DADCD0","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#1A2235","free-root-stroke":"#FF9F00","free-root-textFill":"#FF9F00","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#1A2235","free-second-node-stroke":"#00C2C3","free-second-node-textFill":"#DADCD0","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"#DADCD0","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#00C2C3",lineWidth:2,background:"#1A2235","relate-stroke":"#FF9F00","relate-textFill":"#FF9F00","wireFrame-stroke":"#1A2235","wireFrame-fill":"#1A2235","induce-stroke":"#FF9F00","induce-fill":"#007C74","induce-textFill":"#F8F7F7","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"pro2",text:"theme-pro2",use:!0,config:{"main-root-fill":"#B85F5F","main-root-stroke":"transparent","main-root-textFill":"#DCC691","main-root-fontSize":"18","main-root-textPadding":[15,18,14,18],"second-node-fill":"#FFFFFF","second-node-stroke":"#DCC691","second-node-textFill":"#9B806B","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#B85F5F","free-root-stroke":"#B85F5F","free-root-textFill":"#DCC691","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#fff","free-second-node-stroke":"transaprent","free-second-node-textFill":"#434B54","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"#434B54","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#DCC691",lineWidth:2,background:"#FFFFFF","relate-stroke":"#B85F5F","relate-textFill":"#9B806B","wireFrame-stroke":"#B85F5F","wireFrame-fill":"rgba(215, 179, 179,.3)","induce-stroke":"#B85F5F","induce-fill":"#B85F5F","induce-textFill":"#DCC691","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"pro3",text:"theme-pro3",use:!0,config:{"main-root-fill":"#45006F","main-root-stroke":"transparent","main-root-textFill":"#FFFFFF","main-root-fontSize":"18","main-root-textPadding":[15,18,14,18],"second-node-fill":"#8956A2","second-node-stroke":"transparent","second-node-textFill":"#FFFFFF","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#BA69C8","free-root-stroke":"#BA69C8","free-root-textFill":"#fff","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#FFFFFF","free-second-node-stroke":"transaprent","free-second-node-textFill":"#35455B","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"#fff","node-stroke":"transparent","node-textFill":"#35455B","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#000000",lineWidth:2,background:"#EFF0F5","relate-stroke":"#E5682C","relate-textFill":"#E5682C","wireFrame-stroke":"#E0BC95","wireFrame-fill":"transparent","induce-stroke":"#000000","induce-fill":"#E5682C","induce-textFill":"#fff","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}},{name:"pro4",text:"theme-pro4",use:!0,config:{"main-root-fill":"#6078A0","main-root-stroke":"transparent","main-root-textFill":"#FFFFFF","main-root-fontSize":"18","main-root-textPadding":[15,18,14,18],"second-node-fill":"#FFFFFF","second-node-stroke":"#F67939","second-node-textFill":"#6078A0","second-node-fontSize":"14","second-node-textPadding":[9,14,8,14],distance:40,"free-root-fill":"#F67939","free-root-stroke":"#F67939","free-root-textFill":"#fff","free-root-fontSize":"14","free-root-textPadding":[9,14,8,14],"free-second-node-fill":"#FFFFFF","free-second-node-stroke":"transaprent","free-second-node-textFill":"#6078A0","free-second-node-fontSize":"12","free-second-node-textPadding":[6,10,5,10],"free-distance":30,"node-fill":"transparent","node-stroke":"transparent","node-textFill":"#6078A0","node-fontSize":"12","node-textPadding":[5,8,4,8],stroke:"#FFFFFF",lineWidth:2,background:"#F1ECE6","relate-stroke":"#F67939","relate-textFill":"#F67939","wireFrame-stroke":"#F67939","wireFrame-fill":"#FCE3D6","induce-stroke":"#F67939","induce-fill":"#F67939","induce-textFill":"#fff","induce-fontSize":"","induce-fontFamily":"","induce-fontStyle":""}}];var ue={"main-root-textPadding":[18,14,18,14],"second-node-textPadding":[8,7,8,7],"free-root-textPadding":[8,7,8,7],"free-second-node-textPadding":[7,5,7,5],"node-textPadding":[6,5,6,5]};const de=()=>{};de.use=z=>{var t=null;return di.forEach(e=>{z?e.name==z?(e.use=!0,t=e):e.use=!1:e.use&&(t=e)}),t.config={...t.config,...ue},t},de.register=(z,t)=>{di.push({name:z,config:t})};const Kt=de;class xi{constructor(t){this.name=t}execute(){}undo(){}redo(){this.execute()}updateItems(t){for(var e=t||this.parent;e;)e.wireFrames.length&&e.wireFrames.forEach(n=>{n.refreshItems()}),e.summaries.length&&e.summaries.forEach(n=>{n.refreshItems()}),e.belongInduce?e=e.belongInduce.node:e=e.parent}refresh(t){if(t){var e=t.getMind();e.emit("refresh",{node:t})}}}const Gt=xi;class Ui extends Gt{constructor(t,e,n,a){super("addNode"),this.node=t,this.parent=e,this.mind=n,this.index=a||-1}execute(){this.index>-1?this.mind.addNode(this.node,this.parent,this.index):this.mind.addNode(this.node,this.parent),this.updateItems(this.node),this.node.refreshBox(),this.refresh(this.node),this.mind.getSelectNode()&&this.mind.getSelectNode().unSelect(),setTimeout(()=>{this.mind.selectNode(this.node),this.node.edit()},0)}undo(){this.mind.getSelectNode()&&this.mind.getSelectNode().unSelect();var t=this.node.parent;this.index=this.mind.removeNode(this.node),this.updateItems(t),this.refresh(t),setTimeout(()=>{this.mind.selectNode(t)},0)}}class zr extends Gt{constructor(t,e){super("addAnnotation"),this.node=t,this.id=e,this.oldAnnnotation=this.node.data.annotation,this.oldAnnnotation&&(this.oldAnnnotation=JSON.stringify(this.node.data.annotation))}execute(){this.node.data.annotation={id:this.id},this.node._refreshAnnotation(),this.node._refreshBounding(),this.refresh(this.node)}undo(){this.oldAnnnotation?this.node.data.annotation=JSON.parse(this.oldAnnnotation):this.node.data.annotation=null,this.node._refreshAnnotation(),this.node._refreshBounding(),this.refresh(this.node)}}class Hr extends Gt{constructor(t,e,n,a){super("addNode"),this.node=t,this.parent=e,this.mind=n,this.index=a||-1}execute(){this.index>-1?this.mind.addNode(this.node,this.parent,this.index):this.mind.addNode(this.node,this.parent),this.updateItems(this.node),this.node.refreshBox(),this.refresh(this.node),this.mind.emit("hide")}undo(){this.mind.getSelectNode()&&this.mind.getSelectNode().unSelect();var t=this.node.parent;this.index=this.mind.removeNode(this.node),this.updateItems(t),this.refresh(t),setTimeout(()=>{this.mind.selectNode(t)},0)}}class dr extends Gt{constructor(t,e,n){super("addParent"),this.node=t,this.newNode=e,this.oldParent=n}execute(){this.index=this.oldParent.removeChild(this.node),this.node.mind.addNode(this.newNode,this.oldParent,this.index),this.newNode.addChild(this.node),this.node._refreshBounding(),this.node.refreshBox(),this.refresh(this.node),this.node.mind.getSelectNode().unSelect(),setTimeout(()=>{this.node.mind.selectNode(this.newNode),this.newNode.edit()},0)}undo(){this.newNode.removeChild(this.node),this.oldParent.removeChild(this.newNode),this.oldParent.addChild(this.node,this.index),this.node.mind.removeNode(this.newNode),this.node._refreshBounding(),this.refresh(this.node),setTimeout(()=>{this.node.mind.selectNode(this.node)},0)}}class fr extends Gt{constructor(t,e){super("removeNode"),this.node=t,this.parent=this.node.parent,this.mind=e,this.isFreeRoot=this.node.nodeType=="freeNode",this.isInduce=this.node.nodeType=="induce",this.isRelateLink=this.node.nodeType=="relateLink"}execute(){var t=this;if(this.isFreeRoot)this.mind.removeFreeNode(this.node),this.mind.removeNode(this.node),this.refresh(this.node);else if(this.isInduce)this.relateNode=this.node.belongInduce.node,this.induce=this.node.belongInduce,this.mind.removeInduce(this.induce),this.relateNode.induce=null,this.mind.removeNode(this.node),this.relateNode._refreshBounding(),this.updateItems(this.relateNode),this.refresh(this.relateNode);else if(this.isRelateLink)this.mind.removeRelateLink(this.node.relateLink),this.mind.removeNode(this.node),this.refresh(this.node);else{this.node._refreshBounding(),this.node.refreshBox();var e=this.parent.wireFrames,n=this.parent.summaries;this.cacheInfo={wfs:[],induces:[]},e.forEach(a=>{if(a.node==a.endNode)a.node==t.node&&(t.mind.removeWireFrame(a),t.cacheInfo.wfs.push({item:a,type:"remove"}));else if(a.rangeNode.indexOf(t.node)>-1)if(a.rangeNode[0]==t.node){t.node.wfs.splice(t.node.wfs.indexOf(a),1);var l=a.rangeNode.slice();a.rangeNode.shift(),a.rangeNode[0].wfs.push(a),t.cacheInfo.wfs.push({item:a,type:"changeRangeNode-start",oldRange:l,newRange:a.rangeNode.slice()})}else if(a.rangeNode[a.rangeNode.length-1]==t.node){var l=a.rangeNode.slice();a.rangeNode.pop(),t.cacheInfo.wfs.push({item:a,type:"changeRangeNode-end",oldRange:l,newRange:a.rangeNode.slice()})}else{var l=a.rangeNode.slice(),u=a.rangeNode.indexOf(t.node);a.rangeNode.splice(u,1),t.cacheInfo.wfs.push({item:a,type:"changeRangeNode",oldRange:l,newRange:a.rangeNode.slice(),num:u})}}),n.forEach(a=>{if(a.node==a.endNode)a.node==t.node&&(t.mind.removeInduce(a),t.cacheInfo.induces.push({item:a,type:"remove"}),t.mind.removeNode(a.root));else if(a.rangeNode.indexOf(t.node)>-1)if(a.rangeNode[0]==t.node){t.node.induces.splice(t.node.induces.indexOf(wf),1);var l=a.rangeNode.slice();a.rangeNode.shift(),a.rangeNode[0].induces.push(wf),t.cacheInfo.induces.push({item:a,type:"changeRangeNode-start",oldRange:l,newRange:wf.rangeNode.slice()})}else if(a.rangeNode[a.rangeNode.length-1]==t.node){var l=a.rangeNode.slice();a.rangeNode.pop(),t.cacheInfo.induces.push({item:a,type:"changeRangeNode-end",oldRange:l,newRange:a.rangeNode.slice()})}else{var l=a.rangeNode.slice(),u=a.rangeNode.indexOf(t.node);a.rangeNode.splice(u,1),t.cacheInfo.induces.push({item:a,type:"changeRangeNode",oldRange:l,newRange:a.rangeNode.slice(),num:u})}}),this.index=this.mind.removeNode(this.node),this.updateItems(this.parent),this.refresh(this.parent)}setTimeout(()=>{this.parent&&this.parent.mind.selectNode(this.parent)},0)}undo(){var t=this;this.isFreeRoot?this.mind.addFreeNode(this.node):this.isInduce?(this.relateNode._refreshBounding(),this.relateNode.induce=this.induce,this.mind.addInduce(this.induce),this.induce.init()):this.isRelateLink?this.mind.addRelateLink(this.node.relateLink):this.mind.addNode(this.node,this.parent,this.index),this.mind.traverseDF(e=>{this.mind._addNodeDom(e),e.callout&&(this.mind.addCallout(e.callout),this.mind.el.appendChild(e.callout.root.dom),e.callout.init()),e._wireFrames.length&&(e.wireFrames=e._wireFrames.slice(),e._wireFrames=[],e.wireFrames.forEach(n=>{this.mind.addWireFrame(n),n.init()})),e._summaries.length&&(e.summaries=e._summaries.slice(),e._summaries=[],e.summaries.forEach(n=>{this.mind.addInduce(n),n.init(),this.mind.traverseDF(a=>{this.mind._addNodeDom(a)},n.root)}))},this.node),this.node._removeLink&&this.node._removeLink.forEach(e=>{this.mind.addRelateLink(e)}),this.node._refreshBounding(),this.node.refreshBox(),this.cacheInfo&&this.cacheInfo.wfs.forEach(e=>{if(e.type=="remove"&&(t.mind.addWireFrame(e.item),e.item.init()),e.type=="changeRangeNode-start"){t.node.wfs.push(e.item);var n=e.item.rangeNode[0];n.wfs.splice(n.wfs.indexOf(e.item),1),e.item.rangeNode=e.oldRange}(e.type=="changeRangeNode-end"||e.type=="changeRangeNode")&&(e.item.rangeNode=e.oldRange)}),this.cacheInfo&&this.cacheInfo.induces.forEach(e=>{if(e.type=="remove"&&(t.mind.addInduce(e.item),e.item.init(),this.mind.traverseDF(a=>{this.mind._addNodeDom(a)},e.item.root)),e.type=="changeRangeNode-start"){t.node.induces.push(e.item);var n=e.item.rangeNode[0];n.induces.splice(n.induces.indexOf(e.item),1),e.item.rangeNode=e.oldRange}(e.type=="changeRangeNode-end"||e.type=="changeRangeNode")&&(e.item.rangeNode=e.oldRange)}),this.updateItems(this.node),this.mind.getSelectNode()&&this.mind.getSelectNode().unSelect(),this.refresh(this.node),setTimeout(()=>{this.mind.selectNode(this.node)},0)}}class jr extends Gt{constructor(t){super("changeNodeTodo"),this.node=t}execute(){this.changeTodo()}undo(){this.changeTodo()}changeTodo(){this.node.isTodo()?this.node.mind.traverseBF(t=>{t.removeTodo()},this.node):this.node.mind.traverseBF(t=>{t.setTodo()},this.node),this.refresh(this.node)}}class cr extends Gt{constructor(t,e,n,a){super("changeNode"),this.isRefresh=a,this.node=t,this.oldData=e,this.newData=n}execute(){this.node.setData(this.newData),!this.node.parent&&this.newData.x&&this.node.setPosition(this.newData.x,this.newData.y),this.node._refreshBounding(),this.isRefresh&&this.refresh(this.node),this.node.data.nodeType=="wireFrame"&&this.node.wireFrame&&this.node.wireFrame.refresh()}undo(){this.node.setData(this.oldData),!this.node.parent&&this.oldData.x&&this.node.setPosition(this.oldData.x,this.oldData.y),this.node._refreshBounding(),this.isRefresh&&this.refresh(this.node),this.node.data.nodeType=="wireFrame"&&this.node.wireFrame&&this.node.wireFrame.refresh()}}class Or extends Gt{constructor(t,e,n){super("changeNodeText"),this.node=t,this.oldText=e,this.text=n}execute(){this.node.setText(this.text),this.refresh(this.node)}undo(){this.node.setText(this.oldText),this.refresh(this.node)}}class fi extends Gt{constructor(t){super("addRelate"),this.link=t,this.mind=this.link.startNode.getMind()}execute(){this.mind.addRelateLink(this.link),this.mind.status="",this.link.status="added",this.refresh(this.link.startNode)}undo(){this.mind.removeRelateLink(this.link),this.refresh(this.link.startNode)}}class ur extends Gt{constructor(t,e,n){super("relateLinkBox"),this.relateLink=t,this.oldBox=e,this.box=n}execute(){this.relateLink.data=this.box.data,this.relateLink.setBox({...this.box}),this.refresh(this.relateLink.startNode)}undo(){this.relateLink.data=this.oldBox.data,this.relateLink.setBox({...this.oldBox}),this.refresh(this.relateLink.startNode)}}class Ki extends Gt{constructor(t,e){super("addWireFrame"),this.wireFrame=t,this.mind=e,this.node=this.wireFrame.node,this.num=1}execute(){this.node._refreshBounding(),this.mind.addWireFrame(this.wireFrame),this.num!=1&&(this.node.wireFrame=this.wireFrame,this.wireFrame.init()),this.num++,this.updateItems(this.node),this.refresh(this.node)}undo(){this.mind.removeWireFrame(this.wireFrame),this.node.wireFrame=null,this.node._refreshBounding(),this.updateItems(this.node),this.refresh(this.node)}}class Ji extends Gt{constructor(t,e){super("remmoveWireFrame"),this.mind=e,this.node=t.node,this.wireFrame=t}execute(){this.mind.removeWireFrame(this.wireFrame),this.node.wireFrame=null,this.node._refreshBounding(),this.updateItems(this.node),this.refresh(this.node)}undo(){this.node.wireFrame=this.wireFrame,this.node._refreshBounding(),this.mind.addWireFrame(this.wireFrame),this.wireFrame.init(),this.updateItems(this.node),this.refresh(this.node)}}class Bi extends Gt{constructor(t,e,n){super("changeWireFrame"),this.wireFrame=t,this.oldData=e,this.newData=n}execute(){this.wireFrame.setData(this.newData),this.wireFrame.node._refreshBounding(),this.refresh(this.wireFrame.node)}undo(){this.wireFrame.setData(this.oldData),this.wireFrame.node._refreshBounding(),this.refresh(this.wireFrame.node)}}class pr extends Gt{constructor(t,e){super("addInduce"),this.node=t,this.induce=e,this.mind=this.node.getMind(),this.added=!1}execute(){this.added||(this.mind.addInduce(this.induce),this.added=!0),this.node._refreshBounding(),this.updateItems(this.node),this.refresh(this.node)}undo(){this.added=!1,this.mind.el.removeChild(this.induce.root.dom),this.mind.removeInduce(this.induce),this.node._refreshBounding(),this.updateItems(this.node),this.refresh(this.node)}}class cs extends null{constructor(t){super("removeCommand"),this.node=t.node,this.induce=t}execute(){var t=this.node.getMind();t.removeInduce(this.induce),this.induce.root.layout&&this.induce.root.layout.group&&this.induce.root.layout.group.remove()&&(this.induce.root.layout.group=null),function e(n){t.remove(n),n.wireFrames&&n.wireFrames.forEach(a=>{t.removeWireFrame(a)}),n.summaries&&n.summaries.forEach(a=>{t.removeInduce(a),a.root.layout&&a.root.layout.group&&a.root.layout.group.remove()&&(a.root.layout.group=null),e(a.root)}),n.getChildren().forEach(a=>{e(a)})}(this.induce.root),this.node.induce=null,this.node._refreshBounding(),this.updateItems(this.node),this.refresh(this.node)}undo(){var t=this.node.getMind();t.addInduce(this.induce),function e(n){t.add(n),n.wireFrames.length&&n.wireFrames.forEach(a=>{t.addWireFrame(a)}),n.summaries.length&&n.summaries.forEach(a=>{t.addInduce(a),e(a.root)}),n.getChildren().forEach(a=>{e(a)})}(this.induce.root),this.node.induce=this.induce,this.node._refreshBounding(),this.updateItems(this.node),this.refresh(this.node)}}class Li extends null{constructor(t,e,n){super("changeInduceCommand"),this.induce=t,this.oldData=e,this.newData=n}execute(){this.induce.setData(this.newData),this.induce.refresh(),this.refresh(this.induce.node)}undo(){this.induce.setData(this.oldData),this.induce.refresh(),this.refresh(this.induce.node)}}class gr extends Gt{constructor(t){super("addCallout"),this.callout=t,this.mind=t.node.getMind(),this.num=1}execute(){this.mind.addCallout(this.callout),this.num!=1&&(this.callout.init(),this.mind.el.appendChild(this.callout.root.dom)),this.callout.node.callout=this.callout,this.num++,this.updateItems(this.callout.node),this.refresh(this.callout.node)}undo(){this.mind.removeCallout(this.callout),this.mind.el.removeChild(this.callout.root.dom),this.callout.off(),this.callout.remove(),this.callout.node.callout=null,this.callout.node._refreshBounding(),this.updateItems(this.callout.node),this.refresh(this.callout.node)}}class vr extends Gt{constructor(t){super("RemoveCallout"),this.callout=t,this.mind=t.node.getMind()}execute(){this.mind.el.removeChild(this.callout.root.dom),this.mind.removeCallout(this.callout),this.callout.node._refreshBounding(),this.callout.off(),this.callout.node.callout=null,this.updateItems(this.callout.node),this.refresh(this.callout.node)}undo(){this.mind.addCallout(this.callout),this.mind.el.appendChild(this.callout.root.dom),this.callout.init(),this.callout.node.callout=this.callout,this.callout.node._refreshBounding(),this.updateItems(this.callout.node),this.refresh(this.callout.node)}}class Wr extends null{constructor(t,e,n){super("changeCallout"),this.callout=t,this.oldPos=e,this.newPos=n}execute(){this.callout.root.setPosition(this.newPos.x,this.newPos.y),this.callout.refresh(),this.refresh(this.callout.node)}undo(){this.callout.root.setPosition(this.oldPos.x,this.oldPos.y),this.callout.refresh(),this.refresh(this.callout.node)}}class Si extends Gt{constructor(t){super("manyCmd"),this.cmd=t}execute(){this.cmd.forEach(t=>t.execute()),this.cmd[0].node&&this.refresh(this.cmd[0].node)}undo(){this.cmd.forEach(t=>t.undo()),this.cmd[0].node&&this.refresh(this.cmd[0].node)}}class Qr extends Gt{constructor(t){super("changeNodeToFreeRoot"),this.node=t,this.mind=t.getMind(),this.pos=this.node.getPosition(),this.parent=this.node.parent,this.node.data.main=!1,this.node.layout?this.node._isRoot=!0:this.node._isRoot=!1}execute(){var t=this;if(this.node._refreshBounding(),this.parent)var e=this.parent.wireFrames,n=this.parent.summaries;this.cacheInfo={wfs:[],induces:[]},e&&e.forEach(a=>{if(a.node==a.endNode){if(a.node==t.node){var l=a.node.parent,u=l.wireFrames.indexOf(a);l.wireFrames.splice(u,1),a.node.wireFrame=a,t.cacheInfo.wfs.push({item:a,type:"toFreeRoot"})}}else if(a.rangeNode.indexOf(t.node)>-1)if(a.rangeNode[0]==t.node){t.node.wfs.splice(t.node.wfs.indexOf(a),1);var x=a.rangeNode.slice();a.rangeNode.shift(),a.rangeNode[0].wfs.push(a),t.cacheInfo.wfs.push({item:a,type:"changeRangeNode-start",oldRange:x,newRange:a.rangeNode.slice()})}else if(a.rangeNode[a.rangeNode.length-1]==t.node){var x=a.rangeNode.slice();a.rangeNode.pop(),t.cacheInfo.wfs.push({item:a,type:"changeRangeNode-end",oldRange:x,newRange:a.rangeNode.slice()})}else{var x=a.rangeNode.slice(),g=a.rangeNode.indexOf(t.node);a.rangeNode.splice(g,1),t.cacheInfo.wfs.push({item:a,type:"changeRangeNode",oldRange:x,newRange:a.rangeNode.slice(),num:g})}}),n&&n.forEach(a=>{if(a.node==a.endNode)a.node==t.node&&(t.mind.removeInduce(a),t.cacheInfo.induces.push({item:a,type:"remove"}),t.mind.removeNode(a.root));else if(a.rangeNode.indexOf(t.node)>-1)if(a.rangeNode[0]==t.node){t.node.induces.splice(t.node.induces.indexOf(wf),1);var l=a.rangeNode.slice();a.rangeNode.shift(),a.rangeNode[0].induces.push(wf),t.cacheInfo.induces.push({item:a,type:"changeRangeNode-start",oldRange:l,newRange:wf.rangeNode.slice()})}else if(a.rangeNode[a.rangeNode.length-1]==t.node){var l=a.rangeNode.slice();a.rangeNode.pop(),t.cacheInfo.induces.push({item:a,type:"changeRangeNode-end",oldRange:l,newRange:a.rangeNode.slice()})}else{var l=a.rangeNode.slice(),u=a.rangeNode.indexOf(t.node);a.rangeNode.splice(u,1),t.cacheInfo.induces.push({item:a,type:"changeRangeNode",oldRange:l,newRange:a.rangeNode.slice(),num:u})}}),this.parent&&(this.index=this.parent.removeChild(this.node)),this.node.parent=null,this.mind.addFreeNode(this.node),this.mind.traverseDF(a=>{a.boundingRect=null},this.node),this.node.nodeType="freeNode",this.node.setPosition(this.pos.x,this.pos.y),this.updateItems(this.parent),this.updateItems(this.node),this.parent._refreshBounding(),this.refresh(this.parent),this.refresh(this.node)}undo(){var t=this;this.mind.removeFreeNode(this.node),this.node.layout.group.clear(),this.node.nodeType="richText",this.parent&&this.parent.addChild(this.node,this.index),this.node._refreshBounding(),this.mind.traverseDF(e=>{e.boundingRect=null},this.node),this.node._isRoot||(this.node.layout.group&&this.node.layout.group.remove(),this.node.layout=null),this.cacheInfo&&this.cacheInfo.wfs.forEach(e=>{if(e.type=="toFreeRoot"){var n=e.item.node.parent;n&&(n.wireFrames.push(e.item),n.wireFrames.unique(),n.wireFrames.sort(function(l,u){return l.rangeNode.length-u.rangeNode.length})),e.item.node.wireFrame=null}if(e.type=="remove"&&(t.mind.addWireFrame(e.item),e.item.init()),e.type=="changeRangeNode-start"){t.node.wfs.push(e.item);var a=e.item.rangeNode[0];a.wfs.splice(a.wfs.indexOf(e.item),1),e.item.rangeNode=e.oldRange}(e.type=="changeRangeNode-end"||e.type=="changeRangeNode")&&(e.item.rangeNode=e.oldRange)}),this.cacheInfo&&this.cacheInfo.induces.forEach(e=>{if(e.type=="remove"&&(t.mind.addInduce(e.item),e.item.init(),this.mind.traverseDF(a=>{this.mind._addNodeDom(a)},e.item.root)),e.type=="changeRangeNode-start"){t.node.induces.push(e.item);var n=e.item.rangeNode[0];n.induces.splice(n.induces.indexOf(e.item),1),e.item.rangeNode=e.oldRange}(e.type=="changeRangeNode-end"||e.type=="changeRangeNode")&&(e.item.rangeNode=e.oldRange)}),this.updateItems(this.node),this.refresh(this.node)}}class Gi extends Gt{constructor(t,e){super("changeFreeRootToNode"),this.node=t,this.pos=this.node.getPosition(),this.parent=e,this.mind=this.node.getMind(),this.oldLayout=this.node.layout}execute(){if(this.mind.removeFreeNode(this.node),this.node.layout.group&&this.node.layout.group.clear(),this.node.nodeType="richText",this.parent.addChild(this.node),this.node._refreshBounding(),this.node.wfs.length){var t=this.node.parent;t&&(t.wireFrames.push(this.node.wfs[0]),t.wireFrames.unique(),t.wireFrames.sort(function(e,n){return e.rangeNode.length-n.rangeNode.length})),this.rootWf=this.node.wfs[0],this.node.wireFrame=null}this.updateItems(this.node),this.refresh(this.node)}undo(){if(this.node.layout=this.oldLayout,this.node._refreshBounding(),this.mind.addFreeNode(this.node),this.node.nodeType="freeNode",this.parent.removeChild(this.node),this.node.setPosition(this.pos.x,this.pos.y),this.rootWf){var t=this.rootWf.node.parent;t&&t.wireFrames.splice(t.wireFrames.indexOf(this.rootWf),1),this.rootWf.node.wireFrame=this.rootWf,this.rootWf=null}this.updateItems(this.parent),this.updateItems(this.node),this.refresh(this.parent),this.refresh(this.node)}}class qr extends Gt{constructor(t){super("moveNode"),this.data={...t},this.data.type.indexOf("child")>-1?(this.node=this.data.node,this.oldParent=this.data.oldParent,this.parent=this.data.parent):(this.node=this.data.node,this.oldParent=this.node.parent,this.dropNode=this.data.dropNode,this.newParent=this.dropNode.parent,this.type=this.data.direct)}execute(){if(this.data.type.indexOf("child")>-1)this.oldParent&&(this.index=this.oldParent.removeChild(this.node)),this.parent.addChild(this.node),this.node.getMind().traverseBF(e=>{e.boundingRect=null},this.node),this.node._refreshBounding(),this.updateItems(this.parent),this.updateItems(this.node),this.refresh(this.node),this.oldParent&&(this.updateItems(this.oldParent),this.refresh(this.oldParent));else{this.oldParent&&(this.index=this.oldParent.removeChild(this.node)),this.node.getMind().traverseBF(e=>{e.boundingRect=null},this.node),this.node._refreshBounding(),this.updateItems(this.parent),this.updateItems(this.node),this.refresh(this.node),this.oldParent&&(this.updateItems(this.oldParent),this.refresh(this.oldParent));var t=this.newParent.children.indexOf(this.dropNode);this.type=="top"||this.type=="left"?this.newParent.addChild(this.node,t):this.newParent.addChild(this.node,t+1),this.node._refreshBounding(),this.updateItems(this.newParent),this.updateItems(this.node),this.refresh(this.node)}}undo(){this.data.type.indexOf("child")>-1?(this.parent.removeChild(this.node),this.oldParent&&this.oldParent.addChild(this.node,this.index),this.node.getMind().traverseBF(t=>{t.boundingRect=null},this.node),this.parent._refreshBounding(),this.node._refreshBounding(),this.updateItems(this.parent),this.updateItems(this.node),this.refresh(this.parent),this.refresh(this.node)):(this.newParent.removeChild(this.node),this.dropNode._refreshBounding(),this.updateItems(this.dropNode),this.refresh(this.dropNode),this.oldParent.addChild(this.node,this.index),this.updateItems(this.node),this.node._refreshBounding(),this.refresh(this.node))}}class Xr extends Gt{constructor(t,e,n){super("movePos"),this.node=t,this.oldPos=e,this.newPos=n}execute(){this.node.setPosition(this.newPos.x,this.newPos.y),this.node.callout?(this.node.callout.box=this.newPos.box,this.node.callout.direct=this.newPos.direct,this.node.callout.refresh(!0),this.node.callout.node._refreshBounding(),this.node.callout.node.refreshCBox(),this.node.getMind().refresh(),this.refresh(this.node.callout.node)):this.refresh(this.node)}undo(){this.node.setPosition(this.oldPos.x,this.oldPos.y),this.node.callout?(this.node.callout.box=this.oldPos.box,this.node.callout.direct=this.oldPos.direct,this.node.callout.refresh(!0),this.node.callout.node.refreshCBox(),this.node.callout.node._refreshBounding(),this.node.getMind().refresh(),this.refresh(this.node.callout.node)):this.refresh(this.node)}}class xr extends Gt{constructor(t){super("expandNode"),this.node=t}execute(){this.node._refreshBounding(),this.node.expand(),this.updateItems(this.parent),this.updateItems(this.node),this.refresh(this.node)}undo(){this.node._refreshBounding(),this.node.collapse(),this.updateItems(this.node),this.refresh(this.node)}}class mr extends Gt{constructor(t){super("collapseNode"),this.node=t}execute(){this.node._refreshBounding(),this.node.collapse(),this.updateItems(this.node),this.refresh(this.node)}undo(){this.node._refreshBounding(),this.node.expand(),this.updateItems(this.node),this.refresh(this.node)}}class Vi extends Gt{constructor(t,e){super(),this.node=t,this.layout=e,this.oldLayout=this.node.layout,this.emptyLayout=this.node.emptyLayout||""}execute(){this.node.layout=this.layout,this.node.emptyLayout="",this.oldLayout&&(this.oldLayout.group&&this.oldLayout.group.remove(),this.oldLayout.group=null),this.node._refreshBounding(),this.node.getMind().traverseBF(t=>{t.boundingRect=null},this.node),this.node.wfs&&(this.node.wfs.forEach(t=>{t.refreshItems(),t.refresh()}),this.node.induces&&this.node.induces.forEach(t=>{t.refreshItems(),t.refresh()})),this.refresh(this.node)}undo(){this.node.layout=this.oldLayout,this.node.emptyLayout=this.emptyLayout,this.layout&&(this.layout.group&&this.layout.group.remove(),this.layout.group=null),this.node.getMind().traverseBF(t=>{t.boundingRect=null},this.node),this.node._refreshBounding(),this.refresh(this.node)}}class yr extends Gt{constructor(t,e){super("addNodeMark"),this.node=t,this.mark=e}execute(){this.node.addMark(this.mark),this.node.initMark(),this.node.refreshBox(),this.node._refreshBounding(),this.refresh(this.node)}undo(){this.node.removeMark(this.mark),this.node.initMark(),this.node.refreshBox(),this.node._refreshBounding(),this.refresh(this.node)}}class ye extends Gt{constructor(t,e){super("removeNodeMark"),this.node=t,this.mark=e}execute(){this.node.removeMark(this.mark),this.node.initMark(),this.node.refreshBox(),this.node._refreshBounding(),this.refresh(this.node)}undo(){this.node.addMark(this.mark),this.node.initMark(),this.node.refreshBox(),this.node._refreshBounding(),this.refresh(this.node)}}class ci extends Gt{constructor(t,e){super("changeMark"),this.node=t,this.mark=e,this.mind=this.node.getMind(),this.oldFill=null}execute(){this.changeMark(this.mark.fill)}undo(){this.changeMark(this.oldFill)}changeMark(t){var e=this;this.mind.traverseDF(n=>{var a=n.data.marks;a.length&&a.forEach(l=>{l.id==e.mark.id&&(e.oldFill=l.fill,l.fill=t)}),n.initMark()})}}class Fi extends Gt{constructor(t,e,n){super("changeTheme"),this.mind=t,this.oldTheme=e,this.theme=n}execute(){this.mind.changeTheme(this.theme),this.mind.emit("change")}undo(){this.mind.changeTheme(this.oldTheme),this.mind.emit("change")}}class Ur extends Gt{constructor(t,e,n){super("changeStroke"),this.nodes=t,this.layout=e,this.topLayout=n}execute(){var t=null;this.nodes.forEach(e=>{e.node.stroke=e.stroke,t=e.node.mind}),this.topLayout?this.topLayout.createLink():this.layout&&this.layout.createLink(),t&&t.emit("change")}undo(){var t=null;this.nodes.forEach(e=>{e.node.stroke=e.oldStroke,t=e.node.mind}),this.topLayout?this.topLayout.createLink():this.layout&&this.layout.createLink(),t&&t.emit("change")}}class Kr extends Gt{constructor(t,e,n){super("changeRangeNode"),this.item=t,this.old=e,this.new=n}pre(){var t=this.old[0];this.item.name=="wireFrame"?t.wfs.splice(t.wfs.indexOf(this.item),1):t.induces.splice(t.induces.indexOf(this.item),1)}execute(){this.pre(),this.item.rangeNode=this.new,this.item.node=this.new[0],this.item.endNode=this.new[this.new.length-1],this.item.name=="wireFrame"?(this.new[0].wfs.push(this.item),this.new[0].wfs.unique()):(this.new[0].induces.push(this.item),this.new[0].induces.unique()),this.old.forEach(t=>{t._refreshBounding()}),this.new.forEach(t=>{t._refreshBounding()}),this.updateItems(this.item.node),this.refresh(this.item.node)}undo(){this.item.name=="wireFrame"?(this.new[0].wfs.splice(this.new[0].wfs.indexOf(this.item),1),this.new[0].wfs.unique()):(this.new[0].induces.splice(this.new[0].induces.indexOf(this.item),1),this.new[0].induces.unique()),this.item.rangeNode=this.old,this.item.node=this.old[0],this.item.endNode=this.old[this.old.length-1],this.item.name=="wireFrame"?(this.old[0].wfs.push(this.item),this.old[0].wfs.unique()):(this.old[0].induces.push(this.item),this.old[0].induces.unique()),this.new.forEach(t=>{t._refreshBounding()}),this.old.forEach(t=>{t._refreshBounding()}),this.updateItems(this.item.node),this.refresh(this.item.node)}}class Yi extends Gt{constructor(t){super("hideRelateNode"),this.relateLink=t}execute(){this.relateLink.data.nodeHide=!0,this.relateLink.startNode.getMind().updateRelateLink(),this.relateLink.startNode.getMind().emit("change")}undo(){this.relateLink.data.nodeHide=!1,this.relateLink.startNode.getMind().updateRelateLink(),this.relateLink.startNode.getMind().emit("change")}}class wr extends Gt{constructor(t){super("copyNode"),this.node=t,this.mind=this.node.mind,this.waitCollapse=[],this.lastNode=null}execute(){if(!this.node.data.isRoot){var t=this.node.parent;this.copyNode(this.node,t,!0),this.waitCollapse.forEach(e=>{e.collapse()}),this.lastNode&&(this.lastNode._refreshBounding(),this.updateItems(this.lastNode),this.refresh(this.lastNode))}}undo(){this.node.data.isRoot||this.copy&&(this.mind.removeNode(this.copy),this.updateItems(this.node),this.refresh(this.node))}copyNode(t,e,n){var a={...t.getData()};a.id=I();var l=new Zt(a,this.mind);if(t.isExpanded||this.waitCollapse.push(l),n){this.copy=l;var u=e.children.indexOf(t);e.addChild(l,u+1)}else e.addChild(l);this.lastNode=l,t.children&&t.children.length&&t.children.forEach(x=>{this.copyNode(x,l)})}}class Ii extends Gt{constructor(t,e){super("copyNode"),this.node=t,this.data=e,this.mind=this.node.mind,this.waitCollapse=[]}execute(){this.paste()}undo(){this.firstNode&&(this.mind.removeNode(this.firstNode),this.node._refreshBounding(),this.updateItems(this.node),this.refresh(this.node))}paste(){this.data.forEach((t,e)=>{var n=new Zt(t,this.mind);if(n.mind=this.mind,t.isExpanded||this.waitCollapse.push(n),e==0){var a=this.node.children.length;this.node.addChild(n,a),this.firstNode=n,n.data.pid=this.node.getId()}else{var l=this.mind.getNodeById(t.pid);l&&l.addChild(n)}e==this.data.length-1&&(n._refreshBounding(),this.updateItems(n),this.refresh(n))})}}class br extends Gt{constructor(t,e,n,a){super("changeMarker"),this.link=t,this.pos=e,this.type=n,this.oldType=a}execute(){this.pos=="start"?this.link&&(this.link.data.startMarker=this.type):this.link.data.endMarker=this.type,this.link.createMarker(),this.link.startNode.getMind().emit("change")}undo(){this.pos=="start"?this.link&&(this.link.data.startMarker=this.oldType):this.link.data.endMarker=this.oldType,this.link.createMarker(),this.link.startNode.getMind().emit("change")}}class Jr extends Gt{constructor(t,e){super("focusNode"),this.node=t,this.oldNode=e}execute(){this.node.getMind().emit("focusNode",{node:this.node,oldNode:this.oldNode})}undo(){this.node.getMind().emit("focusNode",{node:this.oldNode,oldNode:this.node})}}class Gr{constructor(t){this.limit=t||30,this.undos=[],this.redos=[],this.saveCommand=null}execute(t){this.clearRedo();var e=this.undos.length;e>=this.limit&&this.undos.shift(),this.undos.push(t),t.execute(),this.change(t)}undo(){if(this.canUndo()){var t=this.undos.pop();this.redos.push(t),t.undo(),this.change(t)}}canUndo(){return!!this.undos.length}redo(){if(this.canRedo()){var t=this.redos.pop();this.undos.push(t),t.redo(),this.change(t)}}canRedo(){return!!this.redos.length}save(){this.saveCommand=this.undos[this.undos.length-1]}dirty(){return this.saveCommand!=this.undos[this.undos.length-1]}clearRedo(){this.redos=[]}clear(){this.undos=[],this.redos=[],this.saveCommand=null,this.change({name:"clear"})}change(t){}}const Fe=Gr;var kr=pe(830),mi=pe.n(kr);class Ar{constructor(t,e="rgba(213,233,252,.1)",n="rgb(42,122,194)",a={text:"label",nodeType:"wireFrame"}){this.node=t,this.endNode=t,this.node._refreshBounding(),this.stroke=n,this.fill=e,this.lineDash=[6,2],this.data=a,this.status="",this.shapeType="rect",this.lineWidth=1,this.radius=10,this.node.wireFrame=this,this.mind=this.node.getMind(),this.name="wireFrame",this.isHide=!1,this.rangeNode=[],this.refreshNode(),this.refreshItems(),this.init()}init(){this.direct=this.node.direct,this.beforeCreate(),this.create()}setEndNode(t){this.endNode=t,this.refreshNode(),this.refresh()}refreshNode(){var t=this.node.getShowNodeList();this.endNode&&this.endNode!=this.node&&(t=t.concat(this.endNode.getShowNodeList()));var e=this.node.getMind().getBoundingRect(t);this.topNode=e.topNode,this.bottomNode=e.bottomNode,this.leftNode=e.leftNode,this.rightNode=e.rightNode,this.node.refreshCBox(),this.endNode&&this.endNode.refreshCBox()}beforeCreate(){if(this.group||(this.group=this.mind.wireFrameGroup.group()),this.data.text){if(!this.t)if(this._t)this.t=this._t,this._t=null;else{var t=this.data.nodeData||{text:this.data.text,nodeType:"wireFrame",paddingLeft:6,paddingRight:6,paddingBottom:4,paddingTop:4};this.t=new Zt(t,this.mind),this.t.wireFrame=this,this.t.dom.setAttribute("draggable",!1)}this.t.dom.classList.add("node-wireFrame"),this.mind.el.appendChild(this.t.dom),this.t.mind=this.mind}else this.t&&(this.mind.el.removeChild(this.t.dom),this._t=this.t,this.t=null);this.rect||(this.shapeType=="rect"?this.rect=this.group.rect().fill(this.fill).stroke(`color:${this.stroke},width:${this.lineWidth},dasharray:${this.lineDash}`).radius(this.radius):this.rect=this.group.polygon().stroke(`color:${this.stroke},width:${this.lineWidth||2},dasharray:${this.lineDash}`)),this.rect.off("click").on("click",e=>{e.preventDefault(),e.stopPropagation(),this.node.getMind().emit("showAssist",{wf:this})})}getTextBox(){return this.data.text?this.t.getDomBox():{x:0,y:0,width:0,height:0}}move(n,a){var n=parseInt(n),a=parseInt(a),l=this.position.slice();if(this.setPosition(l[0]+n,l[1]+a),this.t){var u=this.t.getPosition();this.t.setPosition(u.x+n,u.y+a)}this.refreshBox()}refreshItems(){var t=this,e=[],n=[],a=[];if(this.rangeNode&&this.rangeNode.length)this.rangeNode.forEach(g=>{a=a.concat(g.getShowNodeList())});else{this.rangeNode=[];var l=this.node.parent;if(l){var u=l.children.indexOf(this.node),x=l.children.indexOf(this.endNode);l.children.forEach((g,m)=>{m>=u&&m<=x&&(t.rangeNode.push(g),a=a.concat(g.getShowNodeList()))}),t.rangeNode.unique()}else t.rangeNode=[this.node],a=a.concat(this.node.getShowNodeList())}a.forEach(g=>{n.push(g),g.layout&&g.layout.isShow&&g.layout.group&&e.push(g.layout),g.callout&&g.callout.isShow&&n.push(g.callout),g.layout&&g.layout.isShow&&g.layout.group&&e.push(g.layout),g.wireFrames.length&&g.wireFrames.forEach(m=>{m.isHide||n.push(m)}),g.summaries.length&&g.summaries.forEach(m=>{m.isShow()&&(n=n.concat(m.getAllItem()))})}),this.items=n.unique(),this.groups=e.unique()}create(){if(this.group){if(this.node.isShow()&&this.endNode.isShow()&&!this.isShow)this.show();else{this.hide();return}var t=this.items,e=this.groups,n=this.mind.getBoundingRect(t);if(e.length&&e.forEach(W=>{if(W.layoutName=="fish"&&(W.direct=="right"?W.creatBone():W.creatBone1(),W.fishTail)){var C=W.fishTail.bbox();C.x<n.x&&(n.x=C.x),C.y<n.y&&(n.y=C.y),C.x+C.width>n.right&&(n.right=C.x+C.width),C.y+C.height>n.bottom&&(n.bottom=C.y+C.height),n.width=n.right-n.x,n.height=n.bottom-n.y}}),!!n){var a=parseInt(n.width+12),l=parseInt(n.height+12);if(this.shapeType=="rect")this.rect.attr({width:a,height:l,fill:this.fill,cursor:"pointer"}).stroke({color:this.stroke,width:this.lineWidth,dasharray:this.lineDash}).radius(this.radius).move(0,0);else{var u=this.node.getBox(),x=this.node.getPosition(),g=[0,Math.abs(x.y-n.y-6)],m=[0,Math.abs(n.y-x.y-u.height-6)],k=[u.width,0],N=[u.width,n.height+12],L=[n.width+12,0],y=[n.width+12,n.height+12];this.rect.plot([g,k,L,y,N,m]).attr({fill:this.fill,stroke:this.stroke,dasharray:this.lineDash,cursor:"pointer"}).move(0,0)}this.position=[];var S=0;if(this.lineWidth%2==1&&(S=.5),this.setPosition(parseInt(n.x-6)+S,parseInt(n.y-6)+S),this.t)if(this.shapeType=="rect"){this.t.isShow()||this.t.show();var D=this.t.getDomBox();this.textBox=D,this.t.setPosition(n.x,n.y-D.height-5-this.lineWidth),this.t.dom.style.maxWidth=`${n.width-30}px`}else this.t.isShow()&&this.t.hide();this.refreshBox()}}}refresh(){this.init()}setPosition(t,e){this.group&&(t||e)&&(this.position=[t,e],this.group.attr({transform:`translate(${t},${e})`}))}getPosition(){return{x:this.position.slice()[0],y:this.position.slice()[1]}}show(){this.group.show(),this.t&&this.t.show(),this.isHide=!1}hide(){this.group.hide(),this.t&&this.t.hide(),this.isHide=!0}remove(){this.group&&this.group.clear()&&this.group.remove(),this.rect&&this.rect.remove(),this.t&&this.mind.el.removeChild(this.t.dom),this.rect=null,this.t=null,this.group=null}off(){this.rect.off()}active(){this.status="active",this.rect.setStyle("stroke","orange")}unactive(){this.status="unactive",this.rect.setStyle("stroke",this.stroke)}isactive(){return this.status=="active"}getData(){var t=this.node.parent,e=0,n=0;t&&(e=t.children.indexOf(this.node),n=t.children.indexOf(this.endNode));var a={stroke:this.stroke,fill:this.fill,lineDash:this.lineDash.slice(),data:{...this.data},radius:this.radius,lineWidth:this.lineWidth,nodeId:this.node&&this.node.getId(),endNodeId:this.endNode&&this.endNode.getId(),range:`${e},${n}`};if(this.t){var l=this.t.getData();a.nodeData=l,a.text=l.text}return a}setData(t){this.stroke=t.stroke,this.fill=t.fill,this.lineDash=t.lineDash,this.data=t.data,this.lineWidth=t.lineWidth,this.radius=t.radius,this.refresh()}refreshBox(){var t=this.rect.bbox();this.box={...t,x:this.position[0],y:this.position[1]}}getBox(){return this.box}getBBox(){if(this.t){var t={...this.getBox()},e=this.t.getDomBox(),n=this.t.getPosition();t.y=n.y,t.height=t.height+e.height}else var t=this.getBox();return t}}class Nr{constructor(t,e,n="#666",a){this.name="induce",this.node=t,this.endNode=t,this.root=e||new Zt,this.root.dom.classList.add("node-induce"),this.root.dom.classList.add("node-leaf"),this.root.box={width:48,height:32},this.root.shapeType="bubble",this.lineType=a||"solid",this.stroke=n,this.lineWidth=2,this.type="right",this.lineDash=[0,0],this.visible=!0,this.isHide=!1,this.id=+new Date,this.node.induce=this,this.root.belongInduce=this,this.root.isRoot=!0,this.root.mind=this.node.getMind(),this.root.nodeType="induce",this.box={width:48,height:32},this.position=[],this.node.getMind().el.appendChild(this.root.dom),this.root.refreshBox(),this.node.getMind().el.removeChild(this.root.dom),this.refreshItems()}getId(){return this.id}init(){this.group&&this.group.remove(),this.group=this.node.getMind().induceGroup.group(),this.createInduceLine(),this.refreshBox(),this.render()}createInduceLine(){this.pl1=this.group.polyline().stroke({color:`${this.stroke}`,width:`${this.lineWidth}`,dasharray:`${this.lineDash}`,linecap:"round",linejoin:"round"}).fill("none"),this.pl2=this.group.polyline().stroke({color:`${this.stroke}`,width:`${this.lineWidth}`,dasharray:`${this.lineDash}`,linecap:"round",linejoin:"round"}).fill("none")}refreshItems(){var t=this.getInduces(),e=this.listNode;t.forEach(n=>{n.isShow()&&(e=e.concat(n.getAllItem()))}),this.items=e}render(){this.adjustType();var t=this.getNodeBox();this.renderInduce(t)}adjustType(){var t=this,e=this.node.getMind(),n=e.getRootByNode(this.node),a="node-"+this.type;this.root.dom.classList.contains(a)&&this.root.dom.classList.remove(a),this.type=this.node.direct,this.direct=this.node.direct;var l="node-"+this.type;this.root.dom.classList.contains(l)||this.root.dom.classList.add(l)}getInduces(){var t=this,e=[],n=[],a=[],l=[];if(this.rangeNode&&this.rangeNode.length)this.rangeNode.forEach(m=>{e=e.concat(m.getShowNodeList())});else{this.rangeNode=[];var u=this.node.parent,x=u.children.indexOf(this.node),g=u.children.indexOf(this.endNode);u.children.forEach((m,k)=>{k>=x&&k<=g&&(t.rangeNode.push(m),e=e.concat(m.getShowNodeList()))}),t.rangeNode.unique()}return e.forEach(m=>{m.summaries.length&&m.summaries.forEach(k=>{k.isShow()&&n.push(k)}),m.callout&&m.callout.isShow&&e.push(m.callout),m.wireFrames.length&&m.wireFrames.forEach(k=>{k.isHide||a.push(k)}),m.layout&&m.layout.isShow&&l.push(m.layout)}),n.unique(),a.unique(),this.listNode=e.concat(a),this.groups=l.unique(),n}getNodeBox(){var t=this.items,e=this.groups,n=this.node.getMind().getBoundingRect(t);return e.length&&e.forEach(a=>{if(a.layoutName=="fish"&&(a.direct=="right"?a.creatBone():a.creatBone1(),a.fishTail)){var l=a.fishTail.bbox();l.x<n.x&&(n.x=l.x),l.y<n.y&&(n.y=l.y),l.x+l.width>n.right&&(n.right=l.x+l.width),l.y+l.height>n.bottom&&(n.bottom=l.y+l.height),n.width=n.right-n.x,n.height=n.bottom-n.y}}),n}getBoxRect(){var t=this.node.getMind();return t.getBoundingRect(this.getAllItem())}refreshBox(){var t=this.node.getMind();this.box=t.getBoundingRect(this.getAllItem())}getBox(){var t=this.group.gbox();if(this.box)var e=this.box;else{var e=this.root.getBox();this.box=e}return t.x<e.x&&(this.box.x=t.x),t.y<e.y&&(this.box.y=t.y),e.right<t.x2&&(this.right=t.x2),e.bottom<t.y2&&(this.box.bottom=t.y2),this.box.width=this.box.right-this.box.x,this.box.height=this.box.bottom-this.box.y,this.box}refreshAllItems(){var t=[];function e(n){n.isShow()&&t.push(n),n.callout&&n.callout.isShow&&t.push(n.callout),n.wireFrames.length&&n.wireFrames.forEach(a=>{a.isHide||t.push(a)}),n.summaries.length&&n.summaries.forEach(a=>{a.isShow()&&(t=t.concat(a.getAllItem()))}),n.isExpand()&&n.children.forEach(a=>{e(a)})}this.root&&e(this.root),this.allItems=t.unique()}getAllItem(){return this.refreshAllItems(),this.allItems}hide(){this.isHide=!0,this.group&&this.group.hide()}isShow(){return!this.isHide}show(){this.isHide=!1,this.group&&this.group.show()}doLayout(){if(this.root.getChildren().length!=0){var t=this.root.layout.direct;this.root.layout.layout(this.root,t)}}getWireFrame(){var t=this,e=[],n=[];return this.rangeNode&&this.rangeNode.length&&this.rangeNode.forEach(a=>{n=n.concat(a.getShowNodeList())}),n.forEach(a=>{a.wireFrames.length&&a.wireFrames.forEach(l=>{l.isHide||(e=e.concat(a.wireFrames))})}),e.unique()}setEndNode(t){this.endNode=t,this.refreshNode(),this.refresh()}refreshNode(){var t=this.node.getShowNodeList();this.endNode&&this.endNode!=this.node&&(t=t.concat(this.endNode.getShowNodeList()));var e=this.node.getMind().getBoundingRect(t);this.topNode=e.topNode,this.bottomNode=e.bottomNode,this.leftNode=e.leftNode,this.rightNode=e.rightNode}renderInduce(t){if(t&&this.pl1){if(this.lineType=="solid"?this.lineDash=[0]:this.lineDash=[4,2],this.type=="right"){t.x1=t.x+t.width,this.setPosition(parseInt(t.x1)+5,t.y),this.pl1.plot([[4,0],[12,0],[12,parseInt(t.height/2)],[22,parseInt(t.height/2)]]),this.pl2.plot([[22,parseInt(t.height/2)],[12,parseInt(t.height/2)],[12,parseInt(t.height)],[4,parseInt(t.height)]]);var e=this.root.getBox();this.root.setPosition(t.x1+30,t.y+t.height/2-e.height/2)}else if(this.type=="left"){var e=this.root.getBox();this.setPosition(parseInt(t.x-e.width-26),parseInt(t.y)),this.pl2.plot([[parseInt(e.width+2),parseInt(t.height/2)],[parseInt(e.width+12),parseInt(t.height/2)],[parseInt(e.width+12),parseInt(t.height)],[parseInt(e.width+18),parseInt(t.height)]]),this.pl1.plot([[parseInt(e.width+2),parseInt(t.height/2)],[parseInt(e.width+12),parseInt(t.height/2)],[parseInt(e.width+12),0],[parseInt(e.width+18),0]]),this.root.setPosition(t.x-e.width-28,parseInt(t.y+(t.height-e.height)/2))}else if(this.type=="top"){var e=this.root.getBox();this.setPosition(parseInt(t.x),parseInt(t.y-e.height-30)),this.pl1.plot([[0,parseInt(e.height+20)],[0,parseInt(e.height+12)],[parseInt(t.width/2),parseInt(e.height+12)],[parseInt(t.width/2),parseInt(e.height+4)]]),this.pl2.plot([[parseInt(t.width/2),parseInt(e.height+4)],[parseInt(t.width/2),parseInt(e.height+12)],[parseInt(t.width),parseInt(e.height+12)],[parseInt(t.width),parseInt(e.height+20)]]),this.root.setPosition(parseInt(t.x+(t.width-e.width)/2),t.y-e.height-25)}else{this.setPosition(parseInt(t.x),parseInt(t.y+t.height+5)),this.pl1.plot([[0,4],[0,12],[parseInt(t.width/2),12],[parseInt(t.width/2),20]]),this.pl2.plot([[parseInt(t.width/2),20],[parseInt(t.width/2),12],[parseInt(t.width),12],[parseInt(t.width),4]]);var e=this.root.getBox();this.root.setPosition(t.x+(t.width-e.width)/2,t.y+t.height+26)}this.doLayout()}}getPosition(){return{x:this.position[0],y:this.position[1]}}setPosition(t,e){this.group.attr({transform:`translate(${t},${e})`}),this.position=[t,e]}setText(t){}getText(){return this.induceText}getTextBox(){return this.text.getBox()}refresh(){if(this.node.isShow()&&this.endNode.isShow())(this.isHide||!this.root.isShow())&&(this.show(),function t(e){e.show(),e.isExpand()&&e.children.forEach(n=>{t(n)})}(this.root)),this.render(),this.refreshBox();else{if(this.isHide)return;this.hide(),function t(e){e.hide(),e.isExpand()&&e.children.forEach(n=>{t(n)})}(this.root),this.root.layout&&this.root.layout.group&&(this.root.layout.group.clear(),this.root.layout.group.remove(),this.root.layout.group=null)}}active(){this.status="active",this.root.setStyle("stroke","rgb(247,186,134)")}move(t,e){var n=this.getPosition();this.setPosition(n.x+t,n.y+e),this.box&&(this.box.x+=t,this.box.y+=e)}unactive(){this.status="unactive",this.root.setStyle("stroke",this.color)}isactive(){return this.status=="active"}remove(){this.root.layout&&this.root.layout.group&&this.root.layout.group.remove(),this.root.layout.group=null,this.pl1&&this.pl1.remove(),this.pl2&&this.pl2.remove(),this.pl1=null,this.pl2=null}initEvent(){this.pl1.on("click",t=>{t.induce=this,this.__zr.trigger("touchInduce",t),this.__zr.trigger("selectInduce",t)}),this.pl2.on("click",t=>{t.induce=this,this.__zr.trigger("touchInduce",t),this.__zr.trigger("selectInduce",t)})}getData(){var t=this.node.parent,e=0,n=0;return t&&(e=t.children.indexOf(this.node),n=t.children.indexOf(this.endNode)),{nodeId:this.node&&this.node.getId(),endNodeId:this.endNode&&this.endNode.getId(),stroke:this.stroke,root:this.root&&this.root.getId(),lineType:this.lineType,id:this.id,range:`${e},${n}`,type:this.type}}setData(t){this.stroke=t.stroke,this.lineType=t.lineType,this.refresh(),this.pl1.attr({stroke:this.stroke,fill:"none"}),this.pl2.attr({stroke:this.stroke,fill:"none"})}judgeNodePos(t,e){var n="";if(!e)return"right";var a=t.getPosition(),l=t.getBox(),u=e.getPosition(),x=e.getBox();return t.direct=="right"?a.x>u.x+x.width?n="right":n="left":u.x>a.x+l.width?n="left":n="right",n}getChildren(){return this.childrens}addChild(t,e){t._parent=this,typeof e=="number"?this.childrens.splice(e,0,t):this.childrens.push(t)}removeChild(t){var e=this.childrens.indexOf(t);return e>-1&&this.childrens.splice(e,1),e}}class Je{constructor(t,e={text:"callout",nodeType:"callout",paddingLeft:6,paddingRight:6,paddingBottom:2,paddingTop:2,fontSize:12},n="#f06"){this.node=t,this.data=e,this.color=n,this.root=new Zt(e,this.node.getMind()),this.root.nodeType="callout",this.root.addClass("node-callout"),this.group=this.node.getMind().calloutGroup,this.node.getMind().el.appendChild(this.root.dom),this.root.mind=this.node.getMind(),this.root.refreshBox(),this.node._refreshBounding(),this.node.callout=this,this.root.callout=this,this.direct=this.data.direct||"top",this.name="callout",this.init()}init(){this.calcLimit(),this.create(),this.initEvent()}off(){this.root.dom.removeEventListener("mousedown",this._mouseDown)}remove(){this.polygon&&this.polygon.remove(),this.polygon=null}move(t,e){this.point={x:this.point.x+t,y:this.point.y+e},this.root.move(t,e),this.refresh()}calcLimit(){var t=this.node.getBox();this.limit={x:t.x,y:t.y,width:t.width,height:t.height,cx:t.x+t.width/2,cy:t.y+t.height/2,x1:t.x+t.width,y1:t.y+t.height}}beforeCreate(){!this.polygon&&(this.polygon=this.group.polygon().fill(this.color)),this.root.dom.setAttribute("draggable",!1),this.root.dom.classList.add("node-callout")}create(){if(this.beforeCreate(),this.data.x&&this.data.y)this.root.setPosition(this.data.x,this.data.y),this.data.box&&(this.box=this.data.box);else{var t=this.root.getBox();this.root.setPosition(this.limit.x+this.limit.width/2-t.width/2,this.limit.y-t.height-10)}if(this.data.point?this.point=this.data.point:this.point={x:this.limit.cx,y:this.limit.y},!this.box){var e=this.root.getPosition();this.box={dx:(e.x-this.limit.x)/this.limit.width,dy:(e.y-this.limit.y)/this.limit.height,px:(this.point.x-this.limit.x)/this.limit.width,py:(this.point.y-this.limit.y)/this.limit.height}}this.refresh(!0)}refresh(t){if(this.polygon){if(this.node.isShow())this.show();else{this.hide();return}this.calcLimit(),t||(this.point.x=this.box.px*this.limit.width+this.limit.x,this.point.y=this.box.py*this.limit.height+this.limit.y,this.root.setPosition(this.box.dx*this.limit.width+this.limit.x,this.box.dy*this.limit.height+this.limit.y));var e=this.root.getBox(),n={cx:e.x+e.width/2,cy:e.y+e.height/2};(this.point.x||this.point.y)&&(this.direct=="top"||this.direct=="bottom"?this.polygon.plot(`${this.point.x},${this.point.y} ${n.cx-8},${n.cy} ${n.cx+8},${n.cy}`).fill(this.color):this.polygon.plot(`${this.point.x},${this.point.y} ${n.cx},${n.cy-8} ${n.cx},${n.cy+8}`).fill(this.color)),this.root.shapeDom.style.backgroundColor=this.color}}hide(){this.isShow=!1,this.root.hide(),this.polygon.hide()}show(){this.isShow=!0,this.root.show(),this.polygon.show()}getData(){var t=this.root.getData();return t.point=this.point,t.box=this.box,{nodeId:this.node.getId(),rootData:t,color:this.color,direct:this.direct}}setData(t){this.color=t.color}getBox(){var t=this.polygon.bbox(),e=this.root.getBox(),n=Math.min(t.x,e.x),a=Math.min(t.y,e.y),l=Math.max(t.x2,e.x+e.width),u=Math.max(t.y2,e.y+e.height);return{x:n,y:a,x1:l,y1:u,width:l-n,height:u-a}}initEvent(){var t=!1,e,n,a,l,u,x,g;function m(L){if(!this.root.isEdit){t=!0,e=L.pageX,n=L.pageY,this.px=L.pageX,this.py=L.pageY,g=this.root.getPosition();var y={...this.box};g.direct=this.direct,g.box=y,document.addEventListener("mousemove",this._mouseMove),document.addEventListener("mouseup",this._mouseUp)}}this._mouseDown=m.bind(this),this.root.dom.addEventListener("mousedown",this._mouseDown);function k(L){t&&(u=L.pageX-this.px,x=L.pageY-this.py,a=L.pageX-e,l=L.pageY-n,this.point.x<=this.limit.x||this.point.x>=this.limit.x1?this.point.y+=x/4:this.point.x+=u/4,this.point.y<=this.limit.y||this.point.y>=this.limit.y1?this.point.x+=u/4:this.point.y+=x/4,this.point.x<=this.limit.x&&(this.point.x=this.limit.x,this.direct="left"),this.point.x>=this.limit.x1&&(this.point.x=this.limit.x1,this.direct="right"),this.point.y<=this.limit.y&&(this.point.y=this.limit.y,this.direct="top"),this.point.y>=this.limit.y1&&(this.point.y=this.limit.y1,this.direct="bottom"),this.root.setPosition(g.x+a,g.y+l),this.box={dx:(g.x+a-this.limit.x)/this.limit.width,dy:(g.y+l-this.limit.y)/this.limit.height,px:(this.point.x-this.limit.x)/this.limit.width,py:(this.point.y-this.limit.y)/this.limit.height},this.refresh(!0),this.px=L.pageX,this.py=L.pageY)}this._mouseMove=k.bind(this);function N(L){t=!1,this.node._refreshBounding(),this.refresh(),this.node.refreshCBox();var y=this.root.getPosition();y.box={...this.box},y.direct=this.direct,this.node.getMind().execute("movePos",{node:this.root,oldPos:g,newPos:y}),document.removeEventListener("mousemove",this._mouseMove),document.removeEventListener("mouseup",this._mouseUp)}this._mouseUp=N.bind(this)}}const ke=function(z,t){return[z[0]+t[0],z[1]+t[1]]},oi=function(z,t){return[z[0]*t,z[1]*t]},Vr=function(z,t){return[t[0]-z[0],t[1]-z[1]]},ui=function(z,t){return z[0]*t[1]-z[1]*t[0]===0},Mi=function(z,t){return z[0]*t[0]+z[1]*t[1]},Cr=function(z,t){return z[0]*t[1]-z[1]*t[0]},Yr=function(z){return Math.acos(z[0]/Math.sqrt(z[0]*z[0]+z[1]*z[1]))},Er=function(z){var t=Math.sqrt(z[0]*z[0]+z[1]*z[1]);return[z[0]/t,z[1]/t]},us=function(z,t){return z[0]===t[0]&&z[1]===t[1]};function Dr({entryPoint:z=[0,0],entryDirection:t=[0,1],entryExt:e=10,exitPoint:n=[10,10],exitDirection:a=[1,0],exitExt:l=10},u=.5){if(a===null||a.join()=="0,0"){let P=Vr(n,z);Math.abs(P[0])>Math.abs(P[1])?a=[P[0]/Math.abs(P[0]),0]:a=[0,P[1]/Math.abs(P[1])]}let x=ke(z,oi(t,e)),g=ke(n,oi(a,l));a=oi(a,-1);let m=[g[0]-x[0],0],k=[0,g[1]-x[1]],N=[m,k],L,y=N.find(P=>ui(P,t));Mi(y,t)>0?L=y:L=Zi(N,y);let S,D=N.find(P=>ui(P,a));Mi(D,a)>0?S=D:S=Zi(N,D);let W=Mi(L,S)>0?2:1,C=Zi(N,S),V=[];if(V.push({position:z,direction:null},{position:x,direction:t}),W==1){let P=ke(x,L),B=yi(L),j=ke(P,S),K=yi(S);V.push({position:P,direction:B},{position:j,direction:K})}else{let P=ke(x,oi(L,u)),B=yi(L),j=ke(P,C),K=yi(C),Z=ke(j,oi(S,1-u)),vt=yi(S);V.push({position:P,direction:B},{position:j,direction:K,type:"pathMiddleP"},{position:Z,direction:vt})}return V.push({position:n,direction:a}),V.filter(P=>P.direction!==!1)}function Zi(z,t){return z.find(e=>e!=t)}function yi(z){return z[0]==0&&z[1]==0?!1:z[0]==0?[0,z[1]/Math.abs(z[1])]:z[1]==0?[z[0]/Math.abs(z[0]),0]:Er(z)}const $i=Dr;function Zr(z){var t=$r(z),e=ts(z,t);return e}function $r(z){for(var t=0,e=0;e<z.length-1;e++)t+=Br(z[e],z[e+1]);return t}function ts(z,t){var e=t/2,n=0,a=0,l;for(l=0;l<z.length-1&&(a=Br(z[l],z[l+1]),a+n<e);l++)n+=a;return[(z[l][0]+z[l+1][0])/2,(z[l][1]+z[l+1][1])/2]}function Br(z,t){var e=z[0]-t[0],n=z[1]-t[1];return Math.sqrt(e*e+n*n)}const es=Zr;class Lr{constructor(t,e){var n={color:"#f06",width:2,nodeData:{text:"label",nodeType:"relateLink",backgroundColor:"#f06"},type:"bs",dashArray:[0],nodeHide:!1,startMarker:"circle",endMarker:"arrow"};this.startNode=t,this.mind=this.startNode.getMind(),this.data={...n,...e||{}},this.group=this.startNode.getMind().draw.group(),this.draw=this.startNode.getMind().draw,this.box={x:0,y:0,x1:0,y1:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,startDirect:"",startDx:0,startDy:0,endDirect:"",endDx:0,endDy:0},this.entryExt=20,this.exitExt=20,this.entryDirection=[0,1],this.exitDirection=[0,1],this.isAdd=!0,this.name="relateLink",this.actived=!0,this.isShow=!0,this.create(),this.calcLimit(),this.setStartPoint(),this._addEvent(),this.active(),this.added=!0}create(){this.textNode=new Zt(this.data.nodeData,this.mind),this.textNode.dom.classList.add("node-relate"),this.textNode.relateLink=this,this.textNode.dom.setAttribute("draggable",!1),this.line1=this.group.line().stroke({color:"#666",width:1,linecap:"round",linejoin:"round"}).hide(),this.line2=this.group.line().stroke({color:"#666",width:1,linecap:"round",linejoin:"round"}).hide(),this.data.type=="bs"?this.bs=this.group.path():this.data.type=="line"?this.bs=this.group.line():this.bs=this.group.polyline(),this.bs.stroke({cursor:"pointer",color:this.data.color,width:this.data.width,dasharray:this.data.dashArray,linecap:"round",linejoin:"round"}).fill("none"),this.createMarker(),this.corl1=document.createElement("div"),this.corl1.className="relate-ctrl",this.corl1.style=`cursor:move;position:absolute;z-index:1000;width:10px;height:10px;border-radius:50%;background:${this.data.color}`,this.corl2=document.createElement("div"),this.corl2.className="relate-ctrl",this.corl2.style=`cursor:move;position:absolute;z-index:1000;width:10px;height:10px;border-radius:50%;background:${this.data.color}`,this.corl1.setAttribute("nochilddrag",!0),this.corl1.setAttribute("direct","start"),this.corl2.setAttribute("nochilddrag",!0),this.corl2.setAttribute("direct","end"),this.mind.el.appendChild(this.corl1),this.mind.el.appendChild(this.corl2),this.mind.el.appendChild(this.textNode.dom)}createMarker(){var t=this;this.startMarker&&this.startMarker.remove(),this.endMarker&&this.endMarker.remove(),this.data.startMarker=="circle"?this.startMarker=this.draw.marker(8,8,function(e){e.circle(4).center(4,4).fill(`${t.data.color}`)}):this.data.startMarker=="rect"?this.startMarker=this.draw.marker(4,4,function(e){e.rect(4,4).fill(`${t.data.color}`)}):this.data.startMarker=="line"?this.startMarker=this.draw.marker(2,6,function(e){e.rect(1,6).fill(`${t.data.color}`)}):this.data.startMarker=="arrow"?this.startMarker=this.draw.marker(5,4,function(e){e.polygon("0,0,5,2,0,4"),this.fill(`${t.data.color}`)}):this.data.startMarker=="arrow1"?this.startMarker=this.draw.marker(5,4,function(e){e.polygon("5,0,0,2,5,4"),this.fill(`${t.data.color}`)}):this.startMarker&&(this.startMarker.remove(),this.startMarker=null),this.startMarker&&this.bs.marker("start",this.startMarker),this.data.endMarker=="circle"?this.endMarker=this.draw.marker(8,8,function(e){e.circle(4).center(4,4).fill(`${t.data.color}`)}):this.data.endMarker=="rect"?this.endMarker=this.draw.marker(4,4,function(e){e.rect(4,4).fill(`${t.data.color}`)}):this.data.endMarker=="line"?this.endMarker=this.draw.marker(2,6,function(e){e.rect(1,6).fill(`${t.data.color}`)}):this.data.endMarker=="arrow"?this.endMarker=this.draw.marker(5,4,function(e){e.polygon("0,0,5,2,0,4"),this.fill(`${t.data.color}`)}):this.data.endMarker=="arrow1"?this.endMarker=this.draw.marker(5,4,function(e){e.polygon("5,0,0,2,5,4"),this.fill(`${t.data.color}`)}):this.endMarker&&(this.endMarker.remove(),this.endMarker=null),this.endMarker&&this.bs.marker("end",this.endMarker)}remove(){this.group.remove(),this.mind.el.removeChild(this.corl1),this.mind.el.removeChild(this.corl2),this.mind.el.removeChild(this.textNode.dom)}off(){this.mind.draw.off("mousemove",this.drawFunc1),this.mind.draw.off("mouseup",this.drawFunc2)}offEvent(){this.corl1.removeEventListener("mousedown",this.func),this.corl2.removeEventListener("mousedown",this.func),this.corl1.removeEventListener("click",this.clickFn),this.corl2.removeEventListener("click",this.clickFn),this.off()}calcLimit(){var t=this.startNode.getBox();if(this.startBox=t,this.startLimit={x:t.x-6,y:t.y-6,x1:t.x+t.width+6,y1:t.y+t.height+6,cx:t.width/2+t.x,cy:t.height/2+t.y},this.endNode){var t=this.endNode.getBox();this.endBox=t,this.endLimit={x:t.x-6,y:t.y-6,x1:t.x+t.width+6,y1:t.y+t.height+6,cx:t.width/2+t.x,cy:t.height/2+t.y}}}active(){this.actived=!0,this.corl1.style.display="block",this.corl2.style.display="block",this.line1.show(),this.line2.show(),this.addEvent()}unactive(){this.actived=!1,this.corl1.style.display="none",this.corl2.style.display="none",this.line1.hide(),this.line2.hide(),this.offEvent()}hide(){this.unactive(),this.isShow=!1,this.textNode&&this.textNode.hide(),this.group.hide()}show(){this.isShow=!0,this.group.show()}calcDirect(){var t={x:this.startLimit.cx,y:this.startLimit.cy},e={x:this.endLimit.cx,y:this.endLimit.cy},n=this.calcPos(t,e);switch(n){case"lefttop":this.box.x=t.x,this.box.y=this.startLimit.y;break;case"leftbottom":this.box.x=t.x,this.box.y=this.startLimit.y1;break;case"righttop":this.box.x=t.x,this.box.y=this.startLimit.y;break;case"rightbotom":this.box.x=t.x,this.box.y=this.startLimit.y1;break}this.calcPoint(),this.clacDD(),this.refresh()}clacDD(){this.startBox=this.startNode.getBox(),this.endBox=this.endNode.getBox(),this.data.startDirect=this.calcStroke({x:this.box.x,y:this.box.y},this.startBox),this.data.endDirect=this.calcStroke({x:this.box.x1,y:this.box.y1},this.endBox),this.data.startDx=(this.box.x-this.startBox.x)/this.startBox.width,this.data.startDy=(this.box.y-this.startBox.y)/this.startBox.height,this.data.endDx=(this.box.x1-this.endBox.x)/this.endBox.width,this.data.endDy=(this.box.y1-this.endBox.y)/this.endBox.height,this.data.gapsx=this.box.cpx1-this.startBox.x,this.data.gapsy=this.box.cpy1-this.startBox.y,this.data.gapex=this.box.cpx2-this.endBox.x,this.data.gapey=this.box.cpy2-this.endBox.y}calcPoint(){var t=this.box.x1-this.box.x,e=this.box.y1-this.box.y;this.box.cpx1=this.box.x+t/6,this.box.cpy1=this.box.y+e/6,this.box.cpx2=this.box.x+t/6*5,this.box.cpy2=this.box.y+e/6*5}calcStroke(t,e){var n="";return Math.abs(t.x-e.x+4)<=2&&(n+="left"),Math.abs(t.x-e.x-e.width-4)<=2&&(n+="right"),Math.abs(t.y-e.y+4)<=2&&(n+="top"),Math.abs(t.y-e.y-e.height-4)<=2&&(n+="bottom"),n}_update(){this.startNode&&(this.startBox=this.startNode.getBox()),this.endNode&&(this.endBox=this.endNode.getBox()),this.box.x=this.startBox.x+this.data.startDx*this.startBox.width,this.box.y=this.startBox.y+this.data.startDy*this.startBox.height,this.box.x1=this.endBox.x+this.data.endDx*this.endBox.width,this.box.y1=this.endBox.y+this.data.endDy*this.endBox.height,this.box.cpx1=this.startBox.x+this.data.gapsx,this.box.cpy1=this.startBox.y+this.data.gapsy,this.box.cpx2=this.endBox.x+this.data.gapex,this.box.cpy2=this.endBox.y+this.data.gapey}refresh(t){if(this.startNode&&this.endNode)if(this.startNode.isShow()&&this.endNode.isShow())this.show();else{this.hide();return}if(this.data.nodeHide?this.textNode.hide():this.textNode.show(),t&&this._update(),this.data.type=="line"){this.bs.plot(this.box.x,this.box.y,this.box.x1,this.box.y1);var e={x:(this.box.x+this.box.x1)/2,y:(this.box.y+this.box.y1)/2},n=this.textNode.getDomBox();this.textNode.setPosition(e.x-n.width/2,e.y-n.height/2)}else if(this.data.type=="bs"){var a=`M${this.box.x} ${this.box.y}  C ${this.box.cpx1} ${this.box.cpy1}, ${this.box.cpx2} ${this.box.cpy2}, ${this.box.x1} ${this.box.y1}`;this.bs.plot(a);var l=this.bs.length(),e=this.bs.pointAt(l/2),n=this.textNode.getDomBox();this.textNode.setPosition(e.x-n.width/2,e.y-n.height/2)}else{let m={entryPoint:[this.box.x,this.box.y],exitPoint:[this.box.x1,this.box.y1],entryDirection:this.entryDirection,exitDirection:this.exitDirection,entryExt:this.entryExt,exitExt:this.exitExt};var u=$i(m),x=[];u.forEach(N=>{x.push(N.position)}),this.data.width%2==1?x.forEach(N=>{N[0]=parseInt(N[0])+.5,N[1]=parseInt(N[1])+.5}):x.forEach(N=>{N[0]=parseInt(N[0]),N[1]=parseInt(N[1])});var g=es(x),n=this.textNode.getDomBox();this.textNode.setPosition(g[0]-n.width/2,g[1]-n.height/2),this.bs.plot(x)}this.bs.stroke({color:this.data.color,width:this.data.width,dasharray:this.data.dashArray,linecap:"round",linejoin:"round"}).fill("none"),this.createMarker(),this.bs.attr("cursor","pointer"),this.corl1.style.left=this.box.cpx1-5+"px",this.corl1.style.top=this.box.cpy1-5+"px",this.corl2.style.left=this.box.cpx2-5+"px",this.corl2.style.top=this.box.cpy2-5+"px",this.line1.plot(this.box.x,this.box.y,this.box.cpx1,this.box.cpy1),this.line2.plot(this.box.x1,this.box.y1,this.box.cpx2,this.box.cpy2)}select(){this.isSelect=!0}unSelect(){this.isSelect=!1}calcPos(t,e){return e.x<=t.x&&e.y<=t.y?"lefttop":e.x<=t.x&&e.y>t.y?"leftbottom":e.x>t.x&&e.y<=t.y?"righttop":"rightbotom"}move(t,e){this.box.x1=t,this.box.y1=e,this.calcPoint(),this.refresh()}setEndNode(t){this.endNode=t,this.calcLimit(),this.calcDirect()}setStartPoint(t,e){if(t&&e)this.box.x=t,this.box.y=e;else{var n=this.startNode.getBox();this.box.x=n.x+n.width/2,this.box.y=n.y+n.height/2}}setEndPoint(t,e){this.box.x1=t,this.box.y1=e}setBox(t){this.box=t,this.refresh()}getData(){return this.data.nodeData=this.textNode.getData(),{startNodeId:this.startNode.getId(),endNodeId:this.endNode.getId(),...this.data,box:{...this.box}}}_mouseDown(t){this.func1&&document.removeEventListener("mousemove",this.func1),this.func2&&document.removeEventListener("mousemove",this.func2),document.removeEventListener("mouseup",this.func2),this.mind=this.startNode.getMind(),this.sx=t.pageX,this.sy=t.pageY,this.pageX=t.pageX,this.pageY=t.pageY,this.dx=0,this.dy=0,this.drag=!0,this.mind.status="changeRelate",this.target=t.target,this.oldBox=JSON.parse(JSON.stringify({...this.box}));var e=JSON.parse(JSON.stringify(this.data));this.oldBox.data=e,this.func1=this._mouseMove.bind(this),this.func2=this._mouseUp.bind(this),document.addEventListener("mousemove",this.func1),document.addEventListener("mouseup",this.func2)}_mouseUp(){this.drag=!1,this.sx=0,this.sy=0,this.dx=0,this.dy=0,this.mind=this.startNode.getMind();var t=JSON.parse(JSON.stringify({...this.box})),e=JSON.parse(JSON.stringify(this.data));t.data=e,this.mind.execute("changeRelateLink",{link:this,data:{oldBox:this.oldBox,box:t,type:"changeRelateLinkBox"}}),this.target=null,document.removeEventListener("mousemove",this.func1),document.removeEventListener("mouseup",this.func2)}_mouseMove(t){if(this.status=="addRelate")this.move(t.offsetX,t.offsetY);else{if(!this.drag)return;if(this.target){var e=t.pageX-this.pageX,n=t.pageY-this.pageY;this.dx=t.pageX-this.sx,this.dy=t.pageY-this.sy,this.pageX=t.pageX,this.pageY=t.pageY;var a=this.target.getAttribute("direct");if(this.calcLimit(),a=="start"){this.box.cpx1=this.oldBox.cpx1+this.dx,this.box.cpy1=this.oldBox.cpy1+this.dy;var l=this.calcStroke({x:this.box.x,y:this.box.y},this.startBox);if(this.startBox.width>400)var u=1.2;else if(this.startBox.width>200)var u=1.5;else var u=2;switch(l){case"left":this.entryDirection=[-1,0],this.box.y>=this.startLimit.y&&this.box.y<=this.startLimit.y1?this.box.y+=n/u:(this.box.y<this.startLimit.y&&(this.box.y=this.startLimit.y),this.box.y>this.startLimit.y1&&(this.box.y=this.startLimit.y1));break;case"right":this.entryDirection=[1,0],this.box.y>=this.startLimit.y&&this.box.y<=this.startLimit.y1?this.box.y+=n/u:(this.box.y<this.startLimit.y&&(this.box.y=this.startLimit.y),this.box.y>this.startLimit.y1&&(this.box.y=this.startLimit.y1));break;case"top":this.entryDirection=[0,-1],this.box.x>=this.startLimit.x&&this.box.x<=this.startLimit.x1?this.box.x+=e/u:(this.box.x<this.startLimit.x&&(this.box.x=this.startLimit.x),this.box.x>this.startLimit.x1&&(this.box.x=this.startLimit.x1));break;case"bottom":this.entryDirection=[0,1],this.box.x>=this.startLimit.x&&this.box.x<=this.startLimit.x1?this.box.x+=e/u:(this.box.x<this.startLimit.x&&(this.box.x=this.startLimit.x),this.box.x>this.startLimit.x1&&(this.box.x=this.startLimit.x1));break;default:this.box.x>=this.startLimit.x&&this.box.x<=this.startLimit.x1?this.box.x+=e/u:(this.box.x<this.startLimit.x&&(this.box.x=this.startLimit.x),this.box.x>this.startLimit.x1&&(this.box.x=this.startLimit.x1)),this.box.y>=this.startLimit.y&&this.box.y<=this.startLimit.y1?this.box.y+=n/u:(this.box.y<this.startLimit.y&&(this.box.y=this.startLimit.y),this.box.y>this.startLimit.y1&&(this.box.y=this.startLimit.y1))}}else{this.box.cpx2=this.oldBox.cpx2+this.dx,this.box.cpy2=this.oldBox.cpy2+this.dy;var l=this.calcStroke({x:this.box.x1,y:this.box.y1},this.endBox);switch(l){case"left":this.exitDirection=[-1,0],this.box.y1>=this.endLimit.y&&this.box.y1<=this.endLimit.y1?this.box.y1+=n/3:(this.box.y1<this.endLimit.y&&(this.box.y1=this.endLimit.y),this.box.y1>this.endLimit.y1&&(this.box.y1=this.endLimit.y1));break;case"right":this.exitDirection=[1,0],this.box.y1>=this.endLimit.y&&this.box.y1<=this.endLimit.y1?this.box.y1+=n/3:(this.box.y1<this.endLimit.y&&(this.box.y1=this.endLimit.y),this.box.y1>this.endLimit.y1&&(this.box.y1=this.endLimit.y1));break;case"top":this.exitDirection=[0,-1],this.box.x1>=this.endLimit.x&&this.box.x1<=this.endLimit.x1?this.box.x1+=e/3:(this.box.x1<this.endLimit.x&&(this.box.x1=this.endLimit.x),this.box.x1>this.endLimit.x1&&(this.box.x1=this.endLimit.x1));break;case"bottom":this.exitDirection=[0,1],this.box.x1>=this.endLimit.x&&this.box.x1<=this.endLimit.x1?this.box.x1+=e/3:(this.box.x1<this.endLimit.x&&(this.box.x1=this.endLimit.x),this.box.x1>this.endLimit.x1&&(this.box.x1=this.endLimit.x1));break;default:this.box.x1>=this.endLimit.x&&this.box.x1<=this.endLimit.x1?this.box.x1+=e/3:(this.box.x1<this.endLimit.x&&(this.box.x1=this.endLimit.x),this.box.x1>this.endLimit.x1&&(this.box.x1=this.endLimit.x1)),this.box.y1>=this.endLimit.y&&this.box.y1<=this.endLimit.y1?this.box.y1+=n/3:(this.box.y1<this.endLimit.y&&(this.box.y1=this.endLimit.y),this.box.y1>this.endLimit.y1&&(this.box.y1=this.endLimit.y1))}}this.clacDD(),this.refresh()}}}_clickFn(t){t.preventDefault(),t.stopPropagation()}_addEvent(){var t=this;this.drawFunc1=this._mouseMove.bind(this),this.drawFunc2=this._mouseUp.bind(this),this.mind.draw.on("mousemove",this.drawFunc1),this.mind.draw.on("mouseup",this.drawFunc2),this.bs.dblclick(()=>{this.textNode.data.text||this.textNode.data.isImageNode||(this.data.nodeHide=!1,this.startNode.mind.updateRelateLink())}),this.bs.click(e=>{e.preventDefault(),e.stopPropagation();var n=e.offsetX,a=e.offsetY;t.mind.emit("showRelateShip",{x:n,y:a,relateLink:t}),t.active()})}addEvent(){this.func=this._mouseDown.bind(this),this.clickFn=this._clickFn.bind(this),this.corl1.addEventListener("mousedown",this.func),this.corl2.addEventListener("mousedown",this.func),this.corl1.addEventListener("click",this.clickFn),this.corl2.addEventListener("click",this.clickFn)}}class is{constructor(t){this.name=t,this.edges=[],this.isShow=!0,this.linkWeight=!0}layout(){}refresh(){}addEdge(t){this.edges.push(t)}removeEdge(t){var e=this.edges.indexOf(t);e>-1&&this.edges.splice(e,i)}moveNode(t,e,n){t&&t.move(e,n),t.callout&&t.callout.refresh(),t.wfs&&t.wfs.forEach(a=>{a.move(e,n)}),t.induces&&t.induces.forEach(a=>{a.move(e,n),this.moveNode(a.root,e,n)}),t&&t.children.forEach(a=>{this.moveNode(a,e,n)})}linePoint(t,e){let n=0;var a=Math.ceil;e%2==1&&(n=.5,a=parseInt);var l=t.map(u=>[a(u[0])+n,a(u[1])+n]);return l}_updateNodeAssist(t,e){for(var n=t;n;){n.callout&&n.callout.refresh();var a=n.wireFrames,l=n.summaries;if(a.length&&a.forEach(u=>{u.items.indexOf(t)>-1&&(u.refreshNode(),u.refresh())}),l.length&&l.forEach(u=>{u.items.indexOf(t)>-1&&(u.refreshNode(),u.refresh())}),e)if(n!=e)n=n.parent;else break;else n=n.parent}}_updateRootAssist(){this.root.induce&&(this.root.induce.refreshItems(),this.root.induce.refresh()),this.root.wireFrame&&(this.root.wireFrame.refreshItems(),this.root.wireFrame.refresh())}}const Ge=is;class Ve extends Ge{constructor(t=!0){super("minder"),this.layoutName="minder",this.levelDis=20,this.nodeDis=10,this.firstLevelDis=40,this.firstNodeDis=20,this.root=null,this.lefts=[],this.rights=[],this.isCache=t,this.type="mind"}layout(t,e){this.root=t||this.root,this.root.parent||(this.root.dom.classList.add("node-root"),this.root.dom.classList.add("node-down")),this.root.isExpand()&&(this.group||(this.group=this.root.getMind().edgeGroup.group()),this.root.layout=this,this.direct=e||"",this.root.data.nodeType&&this.root.data.rootType=="induce"&&(this.firstLevelDis=20,this.firstNodeDis=10),this.lefts=[],this.rights=[],this.root.isShow()&&(this.setDirect(),this._layoutSecondLevelNode(this.root)))}setDirect(){var t=this,e=this.root.children.length,n=this.root;this.direct=="right"?(this.rights=n.children,this.rights.forEach(a=>{this._setDirect(a,"right")})):this.direct=="left"?(this.lefts=n.children,this.lefts.forEach(a=>{this._setDirect(a,"left")})):n.children.forEach(function(a,l){l<e/2?(t.rights.push(a),t._setDirect(a,"right")):(t.lefts.push(a),t._setDirect(a,"left"))})}_setDirect(t,e){t.direct=e,t.dom.classList=[],t.dom.classList.add("node"),t.dom.classList.add("node-"+e),t.isLeaf()&&!t.dom.classList.contains("node-leaf")?t.dom.classList.add("node-leaf"):t.dom.classList.contains("node-leaf")&&t.dom.classList.remove("node-leaf"),!t.layout&&t.isExpand()&&t.children.forEach(n=>{this._setDirect(n,e)})}_layoutSecondLevelNode(t){this._layoutMinder(t),this.root.data&&this.root.data.nodeType!="induce"&&this._doRefresh(),this._updateRootAssist()}_doRefresh(){var t=this.root,e=t.getPosition(),n=t.getBox(),a=e.y+n.height/2,l=t.getChildren(),u=l.filter(W=>W.direct=="right"),x=l.filter(W=>W.direct=="left");if(u.length>=2){var g=u[0],m=u[u.length-1],k=g.getPosition(),N=m.getPosition(),L=m.getBox(),y=N.y+L.height-a,S=a-k.y;if(Math.abs(y)!=Math.abs(S)){var D=Math.abs(Math.abs(y)-Math.abs(S))/2;Math.abs(y)>Math.abs(S)?u.forEach(W=>{this.moveNode(W,0,-parseInt(D))}):u.forEach(W=>{this.moveNode(W,0,parseInt(D))})}}if(x.length>=2){var g=x[0],m=x[x.length-1],k=g.getPosition(),N=m.getPosition(),L=m.getBox(),y=N.y+L.height-a,S=a-k.y;if(Math.abs(y)!=Math.abs(S)){var D=Math.abs(Math.abs(y)-Math.abs(S))/2;Math.abs(y)>Math.abs(S)?x.forEach(vt=>{this.moveNode(vt,0,-parseInt(D))}):x.forEach(vt=>{this.moveNode(vt,0,parseInt(D))})}}}updateRight(){var t=this.root.getPosition(),e=this.root.getBox(),n=this.rights,a=this._getNodesHeight(n),l=[parseInt(t.x+e.width+this.firstLevelDis),parseInt(t.y+e.height/2-a/2)];n.forEach(u=>{u.setPosition(l[0],l[1]);var x=u.getBox();l[1]+=parseInt(x.height+this.firstNodeDis)}),n.forEach(u=>{this._layoutRight(u)})}updateLeft(){var t=this.root.getPosition(),e=this.root.getBox(),n=this.lefts,a=this._getNodesHeight(n),l=[parseInt(t.x-this.firstLevelDis),parseInt(t.y+e.height/2-a/2)];n.forEach(u=>{var x=u.getBox();u.setPosition(parseInt(l[0]-x.width),parseInt(l[1])),l[1]+=x.height+this.firstNodeDis}),n.forEach(u=>{this._layoutLeft(u)})}_layoutMinder(){this.updateRight(),this.updateLeft(),this._doLayout(this.root)}_getNodesHeight(t){if(t[0]&&t[0].getLevel()==1)var e=this.firstNodeDis;else var e=this.nodeDis;var n=0;return t.forEach((a,l)=>{n+=a.getBox().height,l!=t.length-1&&(n+=e)}),n}_layoutRight(t){if(t.isExpand()){var e=t.getPosition(),n=t.getBox(),a=this._getNodesHeight(t.children);t.callout&&t.callout.refresh();var l=[e.x+n.width+this.levelDis,n.y+n.height/2-a/2];if(t.children.forEach(x=>{x.setPosition(l[0],l[1]);var g=x.getBox();l[1]+=g.height+this.nodeDis}),t.layout){t.layout.layout(t,t.layout.direct||"");var e=t.getPosition(),n=t.getMind().getBBox(t),u=parseInt(Math.abs(e.x-n.x));this.moveNode(t,u,0),t.boundingRect=null,t.direct="right";return}t.children.forEach(x=>{this._layoutRight(x)})}}_updateNodeAssist(t){t.callout&&t.callout.refresh();var e=t.parent,n={};if(e){var a=e.wireFrames,l=e.summaries;a.length&&a.forEach(u=>{if(u.node==t&&(u.refreshNode(),u.refresh(),u.data&&u.data.text))if(n[t.getId()])n[t.getId()].rangeNode=n[t].rangeNode.concat(u.rangeNode.slice()),n[t.getId()].rangeNode.unique();else{var x=u.getTextBox().height,g=u.rangeNode.slice();n[t.getId()]={node:t,wf:u,topDy:x+4,rangeNode:g}}}),l.length&&l.forEach(u=>{u.node==t&&(u.refreshNode(),u.refresh())})}this.topInfo=n}_doLayout(t){var e=this,n=t.getMind();n.traverseDF(a=>{if(a!=e.root&&a.isShow()){if(a.layout){if(a.layout!=e&&a.getTopLayout()!=e)return}else if(a.getLayout()!=e)return;e._updateNodeAssist(a);var l=a.getCBox();if(e.isCache&&a.boundingRect)var u=a.boundingRect;else{var x=a.getShowNodeList(),g=[],m=[],k=[],N=[];if(x.forEach(C=>{C.callout&&C.callout.isShow&&k.push(C.callout);var V=C.wireFrames,P=C.summaries;P.forEach(B=>{B.isShow()&&m.push(B)}),V.forEach(B=>{B.isHide||g.push(B)})}),m.unique(),g.unique(),x=x.concat(g),m.forEach(C=>{x=x.concat(C.getAllItem()),N=N.concat(C.groups)}),x=x.concat(k),x.length)var u=n.getBoundingRect(x)}var L=a.parent;if(L)var y=L.wireFrames,S=L.summaries;if(a.boundingRect)var D=a.boundingRect.topDy,W=a.boundingRect.downDy;else{var D=Math.abs(u.y-l.y),W=Math.abs(u.y+u.height-l.y-l.height);y&&y.length&&y.forEach(P=>{var B=P.topNode,j=B.getCBox();if(P.node==a&&(D+=Math.abs(6+j.th),e.topInfo[a.getId()]&&(D+=e.topInfo[a.getId()].topDy)),P.endNode&&P.endNode==a){var K=P.bottomNode,Z=K.getCBox();W+=Math.abs(6+Z.bh)}}),u.topDy=D,u.downDy=W,a.boundingRect=u}e._adjustNode(a,0,D,W),y&&y.length&&y.forEach(C=>{C.endNode==a&&C.refresh()}),S&&S.length&&S.forEach(C=>{C.endNode==a&&C.refresh()})}},t)}_layoutLeft(t){if(t.isExpand()){var e=t.getPosition(),n=t.getBox(),a=this._getNodesHeight(t.children);t.callout&&t.callout.refresh();var l=[e.x-this.levelDis,e.y+n.height/2-a/2];if(t.children.forEach(g=>{var m=g.getBox();g.setPosition(l[0]-m.width,l[1]),l[1]+=m.height+this.nodeDis}),t.layout){t.layout.layout(t,t.layout.direct||"");var e=t.getPosition(),u=t.getMind().getBBox(t),x=Math.abs(e.x+n.width-u.x-u.width);this.moveNode(t,-x,0),t.direct="left",t.boundingRect=null;return}t.children.forEach(g=>{this._layoutLeft(g)})}}_adjustDoNode(t,e,n){if(t)for(var a=t.direct;t&&t!=this.root;){var l=t.getSiblings(),u=t.getPosition();l.forEach(x=>{if(x.direct==a){var g=x.getPosition();g.y>u.y?this.moveNode(x,0,n):this.moveNode(x,0,-e)}}),t=t.getParent()}}_adjustNode(t,e,n,a){if(t){var l=t.direct;if(t&&t!=this.root){var u=t.getSiblings(),x=t.getPosition();u.forEach(g=>{if(g.direct==l){var m=g.getPosition();m.y>x.y?this.moveNode(g,e,a):this.moveNode(g,e,-n)}})}}}refresh(t){this.layout(this.root,t||this.direct),this.createLink()}createLink(){var t=this,e=this.root.getMind();if(this.group&&this.group.clear(),this.root.getChildren().length!=0&&!(!this.group||!this.root.isShow())){var n=Kt.use(this.root.mind.themeName).config.lineWidth,a=Kt.use().config.stroke;e.traverseBF(l=>{if(!(!l.isExpand()||l.ignore)){var u=l.getChildren(),x=l.getBox(),g=l.getPosition(),m=l.getLevel(),k=u.length,N=2,L=1,y=2,S=1;k==1&&(N=4,L=1,y=4,S=3),u.forEach(D=>{var W=D.direct,C=D.getBox(),V=D.getPosition();if(W=="right"){if(m==0||m==1){var P=[x.width+g.x,x.height/2+g.y];if(m==0)var B=[V.x,C.height/2+V.y];else var B=[C.width+V.x,C.height+V.y]}else var P=[x.width+g.x,x.height+g.y],B=[C.width+V.x,C.height+V.y];if(m==0)var j=[P[0]+this.firstLevelDis/N*L,P[1]],K=[j[0],B[1]];else var j=[P[0]+this.levelDis/N*L,P[1]],K=[P[0]+this.levelDis/y*S,B[1]]}else{if(m==0||m==1){var P=[g.x,x.height/2+g.y];if(m==0)var B=[V.x+C.width,C.height/2+V.y];else var B=[V.x,C.height+V.y]}else var P=[g.x,x.height+g.y],B=[V.x,C.height+V.y];if(m==0)var j=[P[0]-this.firstLevelDis/N*L,P[1]],K=[j[0],B[1]];else var j=[P[0]-this.levelDis/N*L,P[1]],K=[P[0]-this.levelDis/y*S,B[1]]}if(k==1)if(m==1)var Z=[P,j,K,B];else if(Math.abs(P[1]-B[1])>2)var Z=[P,K,B];else var Z=[P,B];else if(l.getLevel()==0){var vt=[],Et=[],pt=l.getChildren();if(pt.forEach(Rt=>{Rt.direct=="right"?vt.push(Rt):Et.push(Rt)}),vt.length>=2&&vt.indexOf(D)==0||vt.length>=2&&vt.indexOf(D)==vt.length-1)if(W=="right"){if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]+2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]+2,B[1]];var Z=[P,j,it,bt,B]}else{if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]-2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]-2,B[1]];var Z=[P,j,it,bt,B]}else if(Et.length>=2&&Et.indexOf(D)==0||Et.length>=2&&Et.indexOf(D)==Et.length-1)if(W=="right"){if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]+2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]+2,B[1]];var Z=[P,j,it,bt,B]}else{if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]-2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]-2,B[1]];var Z=[P,j,it,bt,B]}else if(vt.length>=2&&vt.indexOf(D)!=0||vt.length>=2&&vt.indexOf(D)!=vt.length-1||Et.length>=2&&Et.indexOf(D)!=0||Et.length>=2&&Et.indexOf(D)!=Et.length-1)var Z=[K,B];if(vt.length==1&&Et.length==1)var Z=[P,B];if(vt.length>1&&Et.length==1)if(W=="right")var Z=[P,K,B];else var Z=[P,B]}else if(W=="right")if(D.isFirst()||D.isLast()){if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]+2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]+2,B[1]];var Z=[P,j,it,bt,B]}else var Z=[K,B];else if(D.isFirst()||D.isLast()){if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]-2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]-2,B[1]];var Z=[P,j,it,bt,B]}else var Z=[K,B];var Tt=t.group.polyline(t.linePoint(Z,n));Tt.fill("none"),Tt.stroke({color:a,width:n,linecap:"round",linejoin:"round"}),Tt.source=l,Tt.target=D})}},this.root)}}}class tr extends Ve{constructor(){super(),this.firstLevelDis=50,this.levelDis=30,this.nodeDis=10,this.type="minder",this.layoutName="minder1"}createLink(){var t=this,e=this.levelDis,n=this.direct;this.group&&this.group.clear();var a=this.root;if(!this.group||!this.root.isShow())return;var l=Kt.use(this.root.mind.themeName).config,u=l.stroke,x=l.lineWidth,g=this.root.getLevel();function m(N){if(N!=t.root){if(N.layout)return}if(N.isExpand()){var L=N.getChildren(),y=L.length,S=N.getPosition(),D=N.getBox(),W=N.getLevel();L.length&&L.forEach(function(C){var V=C.direct,P=C.getPosition(),B=C.getBox();let j=C.stroke||u||"rgb(160,160,160)";if(W==g)if(n=="minder")if(V=="right")var K={x:S.x+D.width/2,y:S.y+D.height/2},Z={x:P.x,y:B.height/2+P.y};else var K={x:S.x+D.width/2,y:S.y+D.height/2},Z={x:parseInt(P.x+B.width),y:parseInt(B.height/2+P.y)};else{var K={x:S.x+D.width/2,y:S.y+D.height/2};if(V=="right")var Z={x:P.x,y:B.height/2+P.y};else var Z={x:P.x+B.width,y:B.height/2+P.y}}else if(V=="right")var K={x:S.x+D.width,y:S.y+D.height/2},Z={x:P.x,y:B.height/2+P.y};else var K={x:S.x,y:S.y+D.height/2},Z={x:P.x+B.width,y:B.height/2+P.y};if(W==g)var vt=t.group.path();else var vt=t.group.polyline();if(vt.fill("none"),vt.stroke({color:j,width:x,linecap:"round",linejoin:"round"}),W==g)if(V=="right"){var Et=parseInt((K.x+Z.x)/2-30),pt=parseInt(K.y+(Z.y-K.y)/1.1),it=`M ${K.x} ${K.y} Q ${Et} ${pt},${Z.x} ${Z.y} `;vt.plot(it)}else{var Et=parseInt((K.x+Z.x)/2+30),pt=parseInt(K.y+(Z.y-K.y)/1.1),it=`M ${K.x} ${K.y} Q ${Et} ${pt},${Z.x} ${Z.y} `;vt.plot(it)}else{var bt=Z.y<K.y?"top":"bottom";if(y==1)var Tt=[[K.x,K.y],[Z.x,Z.y]];else if(V=="right")if(bt=="top"){var Rt=[K.x,K.y],zt=[K.x+e/2,K.y],_t=[Z.x,Z.y];if(C.isFirst())var Lt=[K.x+e/2,Z.y+5],Bt=[K.x+e/2+5,Z.y],Tt=[Rt,zt,Lt,Bt,_t];else{var Wt=Math.abs(Z.y-K.y);if(Wt<3)var Bt=[K.x+e/2,Z.y],Tt=[Rt,zt,Bt,_t];else var Lt=[K.x+e/2,Z.y+5],Bt=[K.x+e/2+5,Z.y],Tt=[Rt,zt,Lt,Bt,_t]}}else{var Rt=[K.x,K.y],zt=[K.x+e/2,K.y],_t=[Z.x,Z.y];if(C.isLast())var Lt=[K.x+e/2,Z.y-5],Bt=[K.x+e/2+5,Z.y],Tt=[Rt,zt,Lt,Bt,_t];else{var Wt=Math.abs(Z.y-K.y);if(Wt<3)var Bt=[K.x+e/2,Z.y],Tt=[Rt,zt,Bt,_t];else var Lt=[K.x+e/2,Z.y-5],Bt=[K.x+e/2+5,Z.y],Tt=[Rt,zt,Lt,Bt,_t]}}else if(bt=="top"){var Rt=[K.x,K.y],zt=[K.x-e/2,K.y],_t=[Z.x,Z.y];if(C.isFirst())var Lt=[K.x-e/2,Z.y+5],Bt=[K.x-e/2-5,Z.y],Tt=[Rt,zt,Lt,Bt,_t];else{var Wt=Math.abs(Z.y-K.y);if(Wt<3)var Bt=[K.x-e/2,Z.y],Tt=[Rt,zt,Bt,_t];else var Lt=[K.x-e/2,Z.y+5],Bt=[K.x-e/2-5,Z.y],Tt=[Rt,zt,Lt,Bt,_t]}}else{var Rt=[K.x+1,K.y],zt=[K.x-e/2,K.y],_t=[Z.x,Z.y];if(C.isLast())var Lt=[K.x-e/2,Z.y-5],Bt=[K.x-e/2-5,Z.y],Tt=[Rt,zt,Lt,Bt,_t];else{var Wt=Math.abs(Z.y-K.y);if(Wt<3)var Bt=[K.x-e/2,Z.y],Tt=[Rt,zt,Bt,_t];else var Lt=[K.x-e/2,Z.y-5],Bt=[K.x-e/2-5,Z.y],Tt=[Rt,zt,Lt,Bt,_t]}}if(Lt){var vt=t.group.polyline(t.linePoint([Rt,zt,Lt],x));vt.fill("none"),vt.stroke({color:j,width:x,linecap:"round",linejoin:"round"});var Ot=t.linePoint([Lt],x)[0],ee=t.linePoint([Bt],x)[0],ie=`M${Ot[0]} ${Ot[1]},Q${Ot[0]} ${ee[1]},${ee[0]} ${ee[1]}`,te=t.group.path().stroke({color:j,width:x,linecap:"round",linejoin:"round"});te.plot(ie),te.fill("none");var vt=t.group.line(t.linePoint([Bt,_t],x));vt.fill("none"),vt.stroke({color:j,width:x,linecap:"round",linejoin:"round"})}else{var vt=t.group.polyline(t.linePoint(Tt,x));vt.fill("none"),vt.stroke({color:j,width:x,linecap:"round",linejoin:"round"})}}m(C)})}}m(a),a.children.forEach(N=>{k(N)});function k(N){if(N.isExpand()){if(N.layout){N.layout.createLink();return}N.children.forEach(L=>{k(L)})}}}}class er extends Ve{constructor(){super(),this.firstLevelDis=40,this.levelDis=30,this.nodeDis=10,this.type="minder",this.layoutName="minder2",this.during=50}createLink(){var t=this,e=this.levelDis,n=this.root;if(this.group&&this.group.clear(),!this.group||!this.root.isExpand()||!this.root.isShow())return;var a=Kt.use(n.mind.themeName).config,l=a.lineWidth||1,u=a.stroke,x=n.children.filter(W=>W.direct=="right"),g=n.children.filter(W=>W.direct=="left"),m=n.getBox(),k=n.getPosition(),N=x.length,L=g.length;function y(){var W=[],C=[];x.forEach(bt=>{bt.getPosition().y+bt.getBox().height/2>m.height/2+k.y?C.push(bt):W.push(bt)});var V=W.length,P=C.length,B=parseInt((m.width/2-6)/V),j=parseInt((m.width/2-6)/P);W.forEach((bt,Tt)=>{var Rt=bt.getBox(),zt=bt.getPosition(),_t=Rt.height/2+zt.y,Lt=_t-(m.height/2+k.y),Bt=[k.x+m.width/2+6+B*Tt,k.y+m.height/2];if(Math.abs(Lt)>2)var Wt=[Bt[0],_t-5*Lt/Math.abs(Lt)],Ot=[Bt[0]+5,_t];else var Wt=[Bt[0],_t-Lt/2],Ot=[Bt[0]+Math.abs(Lt)/2,_t];var ee=[zt.x,_t];let ie=bt.stroke||u||"rgb(160,160,160)";var te=t.linePoint([Wt],l)[0],se=t.linePoint([Ot],l)[0],Ni=`M${te[0]} ${te[1]},Q${te[0]} ${se[1]},${se[0]} ${se[1]}`,Qe=t.group.path().stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"});Qe.plot(Ni),Qe.fill("none");var Ci=t.group.line(t.linePoint([Bt,Wt],l+2)).stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"}).fill("none"),Ci=t.group.line(t.linePoint([Ot,ee],l+2)).stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"}).fill("none")}),C.reverse().forEach((bt,Tt)=>{var Rt=bt.getBox(),zt=bt.getPosition(),_t=Rt.height/2+zt.y,Lt=_t-(m.height/2+k.y),Bt=[k.x+m.width/2+6+j*Tt,k.y+m.height/2];if(Math.abs(Lt)>2)var Wt=[Bt[0],_t-5*Lt/Math.abs(Lt)],Ot=[Bt[0]+5,_t];else var Wt=[Bt[0],_t-Lt/2],Ot=[Bt[0]+Math.abs(Lt)/2,_t];var ee=[zt.x,_t];let ie=bt.stroke||u||"rgb(160,160,160)";var te=t.linePoint([Wt],l)[0],se=t.linePoint([Ot],l)[0],Ni=`M${te[0]} ${te[1]},Q${te[0]} ${se[1]},${se[0]} ${se[1]}`,Qe=t.group.path().stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"});Qe.plot(Ni),Qe.fill("none");var Ci=t.group.line(t.linePoint([Bt,Wt],l+2)).stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"}).fill("none"),Ci=t.group.line(t.linePoint([Ot,ee],l+2)).stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"}).fill("none")});var K=[],Z=[];g.forEach(bt=>{bt.getPosition().y+bt.getBox().height/2>m.height/2+k.y?Z.push(bt):K.push(bt)});var vt=K.length,Et=Z.length,pt=parseInt((m.width/2-12)/vt),it=parseInt((m.width/2-12)/Et);K.forEach((bt,Tt)=>{var Rt=bt.getBox(),zt=bt.getPosition(),_t=Rt.height/2+zt.y,Lt=_t-(m.height/2+k.y),Bt=[k.x+m.width/2-6-pt*Tt,k.y+m.height/2];if(Math.abs(Lt)>2)var Wt=[Bt[0],_t-5*Lt/Math.abs(Lt)],Ot=[Bt[0]-5,_t];else var Wt=[Bt[0],_t-Lt/2],Ot=[Bt[0]-Math.abs(Lt)/2,_t];var ee=[zt.x+Rt.width,_t];let ie=bt.stroke||u||"rgb(160,160,160)";var te=t.linePoint([Wt],l)[0],se=t.linePoint([Ot],l)[0],Ni=`M${te[0]} ${te[1]},Q${te[0]} ${se[1]},${se[0]} ${se[1]}`,Qe=t.group.path().stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"});Qe.plot(Ni),Qe.fill("none");var Ci=t.group.line(t.linePoint([Bt,Wt],l+2)).stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"}).fill("none"),Ci=t.group.line(t.linePoint([Ot,ee],l+2)).stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"}).fill("none")}),Z.reverse().forEach((bt,Tt)=>{var Rt=bt.getBox(),zt=bt.getPosition(),_t=Rt.height/2+zt.y,Lt=_t-(m.height/2+k.y),Bt=[k.x+m.width/2-6-it*Tt,k.y+m.height/2];if(Math.abs(Lt)>2)var Wt=[Bt[0],_t-5*Lt/Math.abs(Lt)],Ot=[Bt[0]-5,_t];else var Wt=[Bt[0],_t-Lt/2],Ot=[Bt[0]-Math.abs(Lt)/2,_t];var ee=[zt.x+Rt.width,_t];let ie=bt.stroke||u||"rgb(160,160,160)";var te=t.linePoint([Wt],l)[0],se=t.linePoint([Ot],l)[0],Ni=`M${te[0]} ${te[1]},Q${te[0]} ${se[1]},${se[0]} ${se[1]}`,Qe=t.group.path().stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"});Qe.plot(Ni),Qe.fill("none");var Ci=t.group.line(t.linePoint([Bt,Wt],l+2)).stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"}).fill("none"),Ci=t.group.line(t.linePoint([Ot,ee],l+2)).stroke({color:ie,width:l+2,linecap:"round",linejoin:"round"}).fill("none")})}y();function S(W){if(!W.layout&&W.isExpand()){var C=W.getChildren(),V=C.length,P=W.getPosition(),B=W.getBox();C.length&&C.forEach(function(j){var K=j.direct,Z=j.getPosition(),vt=j.getBox();let Et=j.stroke||u||"rgb(160,160,160)";if(K=="right")var pt={x:P.x+B.width,y:P.y+B.height/2},it={x:Z.x,y:vt.height/2+Z.y};else var pt={x:P.x,y:P.y+B.height/2},it={x:Z.x+vt.width,y:vt.height/2+Z.y};if(V==1)var bt=[[pt.x,pt.y],[it.x,it.y]];else{var Tt=it.y<pt.y?"top":"bottom";if(K=="right")if(Tt=="top"){var Rt=[pt.x,pt.y],zt=[pt.x+e/2,pt.y],_t=[it.x,it.y];if(j.isFirst())var Lt=[pt.x+e/2,it.y+5],Bt=[pt.x+e/2+5,it.y],bt=[Rt,zt,Lt,Bt,_t];else{var Wt=Math.abs(it.y-pt.y);if(Wt<3)var Bt=[pt.x+e/2,it.y],bt=[Rt,zt,Bt,_t];else var Lt=[pt.x+e/2,it.y+5],Bt=[pt.x+e/2+5,it.y],bt=[Rt,zt,Lt,Bt,_t]}}else{var Rt=[pt.x,pt.y],zt=[pt.x+e/2,pt.y],_t=[it.x,it.y];if(j.isLast())var Lt=[pt.x+e/2,it.y-5],Bt=[pt.x+e/2+5,it.y],bt=[Rt,zt,Lt,Bt,_t];else{var Wt=Math.abs(it.y-pt.y);if(Wt<3)var Bt=[pt.x+e/2,it.y],bt=[Rt,zt,Bt,_t];else var Lt=[pt.x+e/2,it.y-5],Bt=[pt.x+e/2+5,it.y],bt=[Rt,zt,Lt,Bt,_t]}}else if(Tt=="top"){var Rt=[pt.x,pt.y],zt=[pt.x-e/2,pt.y],_t=[it.x,it.y];if(j.isFirst())var Lt=[pt.x-e/2,it.y+5],Bt=[pt.x-e/2-5,it.y],bt=[Rt,zt,Lt,Bt,_t];else{var Wt=Math.abs(it.y-pt.y);if(Wt<3)var Bt=[pt.x-e/2,it.y],bt=[Rt,zt,Bt,_t];else var Lt=[pt.x-e/2,it.y+5],Bt=[pt.x-e/2-5,it.y],bt=[Rt,zt,Lt,Bt,_t]}}else{var Rt=[pt.x+1,pt.y],zt=[pt.x-e/2,pt.y],_t=[it.x,it.y];if(j.isLast())var Lt=[pt.x-e/2,it.y-5],Bt=[pt.x-e/2-5,it.y],bt=[Rt,zt,Lt,Bt,_t];else{var Wt=Math.abs(it.y-pt.y);if(Wt<3)var Bt=[pt.x-e/2,it.y],bt=[Rt,zt,Bt,_t];else var Lt=[pt.x-e/2,it.y-5],Bt=[pt.x-e/2-5,it.y],bt=[Rt,zt,Lt,Bt,_t]}}}if(Lt){var se=t.group.polyline(t.linePoint([Rt,zt,Lt],l));se.fill("none"),se.stroke({color:Et,width:l,linecap:"round",linejoin:"round"});var Ot=t.linePoint([Lt],l)[0],ee=t.linePoint([Bt],l)[0],ie=`M${Ot[0]} ${Ot[1]},Q${Ot[0]} ${ee[1]},${ee[0]} ${ee[1]}`,te=t.group.path().stroke({color:Et,width:l,linecap:"round",linejoin:"round"});te.plot(ie),te.fill("none");var se=t.group.line(t.linePoint([Bt,_t],l));se.fill("none"),se.stroke({color:Et,width:l,linecap:"round",linejoin:"round"})}else{var se=t.group.polyline(t.linePoint(bt,l));se.fill("none"),se.stroke({color:Et,width:l,linecap:"round",linejoin:"round"})}S(j)})}}n.children.forEach(W=>{S(W),D(W)});function D(W){if(W.isExpand()){if(W.layout){W.layout.createLink();return}W.children.forEach(C=>{D(C)})}}}}class Sr extends Ve{constructor(){super(),this.firstLevelDis=80,this.levelDis=30,this.nodeDis=10,this.type="minder",this.layoutName="minder3"}createLink(){var t=this,e=this.levelDis;this.group&&this.group.clear();var n=this.root;if(!this.group||!this.root.isShow())return;var a=Kt.use(this.root.mind.themeName).config,l=a.stroke||"#666",u=a.lineWidth,x=this.root.getLevel();function g(k){if(k!=t.root){if(k.layout)return}if(k.isExpand()){var N=k.getChildren(),L=k.getPosition(),y={...k.getBox()};y.height=y.height+u;var S=k.getLevel();N.length&&N.forEach(function(D){var W=D.direct,C=D.getPosition(),V={...D.getBox()};V.height=V.height+u;let P=D.stroke||l||"rgb(160,160,160)";if(S==x)var B={x:L.x+y.width/2,y:L.y+y.height/2};else if(S==1+x)if(W=="right")var B={x:L.x+y.width,y:L.y+y.height/2};else var B={x:L.x,y:L.y+y.height/2};else if(W=="right")var B={x:L.x+y.width,y:L.y+y.height};else var B={x:L.x,y:L.y+y.height};if(S==x)if(W=="right")var j={x:C.x,y:V.height/2+C.y};else var j={x:C.x+V.width,y:V.height/2+C.y};else if(W=="right")var j={x:C.x,y:V.height+C.y};else var j={x:C.x+V.width,y:V.height+C.y};if(u%2==1)var K=parseInt(B.x)-.5,Z=parseInt(j.x)-.5,vt=parseInt(B.y)-.5,Et=parseInt(j.y)-.5;else var K=parseInt(B.x),vt=parseInt(B.y),Z=parseInt(j.x),Et=parseInt(j.y);if(S==x)var pt=t.group.path().stroke({color:P,width:u+1,linecap:"round",linejoin:"round"}).fill("none");else var pt=t.group.path().stroke({color:P,width:u,linecap:"round",linejoin:"round"}).fill("none");if(u%2==1)var it=parseInt(C.x)-.5,bt=parseInt(C.x+V.width)-.5,Tt=Et,Rt=Et;else var it=parseInt(C.x),Tt=parseInt(V.height+C.y),bt=parseInt(C.x+V.width),Rt=parseInt(V.height+C.y);if(S==x){var zt=parseInt(B.x)+(j.x-B.x)/9,_t=parseInt(B.y)+(j.y-B.y)/9*8,Lt=parseInt(B.x+(j.x-B.x)/9*8),Bt=parseInt(j.y),Wt=`M${K} ${vt}  C ${zt} ${_t}, ${Lt} ${Bt}, ${Z} ${Et}`;pt.plot(Wt)}else{t.group.line(it,Tt,bt,Rt).stroke({color:P,width:u,linecap:"miter",linejoin:"miter"}).fill("none");var Ot=parseInt((j.y-B.y)/6),zt={x:B.x+e/2,y:B.y},Lt={x:B.x+e/2,y:j.y};W=="left"&&(zt.x=B.x-e/2,Lt.x=B.x-e/2),zt.x=parseInt(zt.x),zt.y=parseInt(zt.y),Lt.x=parseInt(Lt.x),Lt.y=parseInt(Lt.y);var ee=`M${K} ${vt}  C ${zt.x} ${zt.y}, ${Lt.x} ${Lt.y}, ${Z} ${Et}`;pt.plot(ee)}g(D)})}}g(n),t.root.children.forEach(k=>{m(k)});function m(k){if(k.isExpand()){if(k.layout){k.layout.createLink();return}k.children.forEach(N=>{m(N)})}}}}class Fr extends Ve{constructor(){super(),this.firstLevelDis=50,this.levelDis=20,this.nodeDis=10,this.type="minder",this.layoutName="minder4"}createLink(){var t=this,e=this.levelDis,n=this.direct,a=this.root;if(this.group&&this.group.clear(),!this.group||!this.root.isShow())return;var l=this.root.getLevel(),u=Kt.use(this.root.mind.themeName).config,x=u.stroke,g=u.lineWidth;function m(N){if(N!=t.root){if(N.layout)return}if(N.isExpand()){var L=N.getChildren(),y=L.length,S=N.getPosition(),D={...N.getBox()};D.height=D.height+g;var W=N.getLevel();L.length&&L.forEach(function(C){var V=C.direct,P=C.getPosition(),B={...C.getBox()};B.height=B.height+g;let j=C.stroke||x||"rgb(160,160,160)";var K=1,Z=2,vt=1,Et=2;if(W==l)if(n=="minder")if(V=="right")var pt={x:S.x+D.width*K/Z,y:S.y+D.height/2};else var pt={x:S.x+D.width*vt/Et,y:S.y+D.height/2};else var pt={x:S.x+D.width/2,y:S.y+D.height/2};else if(W==1+l)if(V=="right")var pt={x:S.x+D.width,y:S.y+D.height/2};else var pt={x:S.x,y:S.y+D.height/2};else if(V=="right")var pt={x:S.x+D.width,y:S.y+D.height};else var pt={x:S.x,y:S.y+D.height};if(W==l)if(V=="right")var it={x:P.x,y:B.height/2+P.y};else var it={x:P.x+B.width,y:B.height/2+P.y};else if(V=="right")var it={x:P.x,y:B.height+P.y};else var it={x:P.x+B.width,y:B.height+P.y};if(W==l)var bt=t.group.path().stroke({color:j,width:g,linecap:"round",linejoin:"round"}).fill(j);else var Tt=t.group.polyline().stroke({color:j,width:g,linecap:"round",linejoin:"round"}).fill("none");if(W==l)if(V=="right"){var Rt=pt.x+Math.abs(it.x-pt.x)/8,zt=it.y;bt.plot(`M${pt.x},${pt.y},Q${Rt},${zt},${it.x},${it.y},Q${Rt+6},${zt},${pt.x+8},${pt.y}z`)}else{var Rt=pt.x-Math.abs(it.x-pt.x)/8,zt=it.y;bt.plot(`M${pt.x},${pt.y},Q${Rt},${zt},${it.x},${it.y},Q${Rt+6},${zt},${pt.x+8},${pt.y}z`)}else{var _t=it.y<pt.y?"top":"bottom";if(V=="right")if(_t=="top")if(y==1){var Lt=[pt.x-1,pt.y],Bt=[pt.x+e/2,pt.y],Wt=[it.x,it.y],Ot=[it.x+B.width+1,it.y];if(W>1)if(Math.abs(Lt[1]-Ot[1])>2)var ee=[Lt,Wt,Ot];else var ee=[Lt,Ot];else var ee=[Lt,Bt,Wt,Ot];Tt.plot(t.linePoint(ee,g))}else{var Lt=[pt.x,pt.y],Bt=[pt.x+e/2,pt.y],ie=[it.x+B.width,it.y];if(C.isFirst())var Wt=[pt.x+e/2,it.y+2],Ot=[pt.x+e/2+2,it.y],te=[Lt,Bt,Wt,Ot,ie];else var Ot=[pt.x+e/2,it.y],te=[Ot,ie];Tt.plot(t.linePoint(te,g))}else if(y==1){var Lt=[pt.x-1,pt.y],Bt=[pt.x+e/2,pt.y],Wt=[it.x,it.y],Ot=[it.x+B.width+1,it.y];if(W>1)if(Math.abs(Lt[1]-Ot[1])>2)var ee=[Lt,Wt,Ot];else var ee=[Lt,Ot];else var ee=[Lt,Bt,Wt,Ot];Tt.plot(t.linePoint(ee,g))}else{var Lt=[pt.x,pt.y],Bt=[pt.x+e/2,pt.y],ie=[it.x+B.width,it.y];if(C.isLast())var Wt=[pt.x+e/2,it.y-2],Ot=[pt.x+e/2+2,it.y],te=[Lt,Bt,Wt,Ot,ie];else var Ot=[pt.x+e/2,it.y],te=[Ot,ie];Tt.plot(t.linePoint(te,g))}else{var _t=it.y<pt.y?"top":"bottom";if(_t=="top")if(y==1){var Lt=[pt.x+1,pt.y],Bt=[pt.x-e/2,pt.y],Wt=[it.x,it.y],Ot=[it.x-B.width-1,it.y];if(W>1)if(Math.abs(Lt[1]-Ot[1])>2)var ee=[Lt,Wt,Ot];else var ee=[Lt,Ot];else var ee=[Lt,Bt,Wt,Ot];Tt.plot(t.linePoint(ee,g))}else{var Lt=[pt.x,pt.y],Bt=[pt.x-e/2,pt.y],ie=[it.x-B.width,it.y];if(C.isFirst())var Wt=[pt.x-e/2,it.y+2],Ot=[pt.x-e/2-2,it.y],te=[Lt,Bt,Wt,Ot,ie];else var Ot=[pt.x-e/2,it.y],te=[Ot,ie];Tt.plot(t.linePoint(te,g))}else if(y==1){var Lt=[pt.x+1,pt.y],Bt=[pt.x-e/2,pt.y],Wt=[it.x,it.y],Ot=[it.x-B.width-1,it.y];if(W>1)if(Math.abs(Lt[1]-Ot[1])>2)var ee=[Lt,Wt,Ot];else var ee=[Lt,Ot];else var ee=[Lt,Bt,Wt,Ot];Tt.plot(t.linePoint(ee,g))}else{var Lt=[pt.x+1,pt.y],Bt=[pt.x-e/2,pt.y],ie=[it.x-B.width,it.y];if(C.isLast())var Wt=[pt.x-e/2,it.y-2],Ot=[pt.x-e/2-2,it.y],te=[Lt,Bt,Wt,Ot,ie];else var Ot=[pt.x-e/2,it.y],te=[Ot,ie];Tt.plot(t.linePoint(te,g))}}}m(C)})}}m(a),a.children.forEach(N=>{k(N)});function k(N){if(N.isExpand()){if(N.layout){N.layout.createLink();return}N.children.forEach(L=>{k(L)})}}}}class ir extends Ge{constructor(t=!0){super("minder"),this.layoutName="minder5",this.levelDis=40,this.nodeDis=30,this.firstLevelDis=40,this.firstNodeDis=60,this.root=null,this.lefts=[],this.rights=[],this.isCache=t,this.type="mind"}layout(t,e){if(this.root=t||this.root,this.root.parent||(this.root.dom.classList.add("node-root"),this.root.dom.classList.add("node-down")),!!t.isExpand()){this.group||(this.group=this.root.getMind().edgeGroup.group()),this.root.layout=this,this.direct=e||"",this.root.data.rootType&&this.root.data.rootType=="induce"&&(this.firstLevelDis=20,this.firstNodeDis=10);var n=this;this.lefts=[],this.rights=[];var a=this.root.getMind(),l=this.root.children.length,u=this.root;this.direct=="right"?(this.rights=u.children,this.root.direct="right"):this.direct=="left"?(this.root.direct="left",this.lefts=u.children):u.children.forEach(function(x,g){g<l/2?(n.rights.push(x),a.traverseBF(m=>{m.direct="right",m.dom.classList=[],m.dom.classList.add("node"),m.dom.classList.add("node-right"),m.isLeaf()&&!m.dom.classList.contains("node-leaf")?m.dom.classList.add("node-leaf"):m.dom.classList.contains("node-leaf")&&m.dom.classList.remove("node-leaf")},x)):(n.lefts.push(x),a.traverseBF(m=>{m.direct="left",m.dom.classList=[],m.dom.classList.add("node"),m.dom.classList.add("node-left"),m.isLeaf()&&!m.dom.classList.contains("node-leaf")?m.dom.classList.add("node-leaf"):m.dom.classList.contains("node-leaf")&&m.dom.classList.remove("node-leaf")},x))}),this._layoutSecondLevelNode(u)}}setDirect(){var t=this,e=this.root.children.length,n=this.root;this.direct=="right"?(this.rights=n.children,n.getMind().traverseBF(a=>{a.direct="right",a.dom.classList=[],a.dom.classList.add("node"),a.dom.classList.add("node-right"),a.isLeaf()&&!a.dom.classList.contains("node-leaf")?a.dom.classList.add("node-leaf"):a.dom.classList.contains("node-leaf")&&a.dom.classList.remove("node-leaf")},this.root)):this.direct=="left"?(this.lefts=n.children,n.getMind().traverseBF(a=>{a.direct="left",a.dom.classList=[],a.dom.classList.add("node"),a.dom.classList.add("node-left"),a.isLeaf()&&!a.dom.classList.contains("node-leaf")?a.dom.classList.add("node-leaf"):a.dom.classList.contains("node-leaf")&&a.dom.classList.remove("node-leaf")},this.root)):n.children.forEach(function(a,l){l<e/2?(t.rights.push(a),n.getMind().traverseBF(u=>{u.direct="right",u.dom.classList=[],u.dom.classList.add("node"),u.dom.classList.add("node-right"),u.isLeaf()&&!u.dom.classList.contains("node-leaf")?u.dom.classList.add("node-leaf"):u.dom.classList.contains("node-leaf")&&u.dom.classList.remove("node-leaf")},a)):(t.lefts.push(a),n.getMind().traverseBF(u=>{u.direct="left",u.dom.classList=[],u.dom.classList.add("node"),u.dom.classList.add("node-left"),u.isLeaf()&&!u.dom.classList.contains("node-leaf")?u.dom.classList.add("node-leaf"):u.dom.classList.contains("node-leaf")&&u.dom.classList.remove("node-leaf")},a))})}_layoutSecondLevelNode(t){this._layoutMinder(t),this.root.data&&this.root.data.rootType!="induce"&&this._doRefresh(),this._updateRootAssist()}_doRefresh(){var t=this.root,e=t.getPosition(),n=t.getBox(),a=e.y+n.height/2,l=t.getChildren(),u=l.filter(W=>W.direct=="right"),x=l.filter(W=>W.direct=="left");if(u.length>=2){var g=u[0],m=u[u.length-1],k=g.getPosition(),N=m.getPosition(),L=m.getBox(),y=N.y+L.height-a,S=a-k.y;if(Math.abs(y)!=Math.abs(S)){var D=Math.abs(Math.abs(y)-Math.abs(S))/2;Math.abs(y)>Math.abs(S)?u.forEach(W=>{this.moveNode(W,0,-parseInt(D))}):u.forEach(W=>{this.moveNode(W,0,parseInt(D))})}}if(x.length>=2){var g=x[0],m=x[x.length-1],k=g.getPosition(),N=m.getPosition(),L=m.getBox(),y=N.y+L.height-a,S=a-k.y;if(Math.abs(y)!=Math.abs(S)){var D=Math.abs(Math.abs(y)-Math.abs(S))/2;Math.abs(y)>Math.abs(S)?x.forEach(vt=>{this.moveNode(vt,0,-parseInt(D))}):x.forEach(vt=>{this.moveNode(vt,0,parseInt(D))})}}}updateRight(){var t=this.root.getPosition(),e=this.root.getBox(),n=this.rights,a=n.length,l=this._getNodesHeight(n),u=a==1?parseInt(t.y-l+e.height/2):parseInt(t.y-l+14),x=[parseInt(t.x+e.width+this.firstLevelDis),u];n.forEach((g,m)=>{var k=g.getBox();g.setPosition(x[0],x[1]),x[1]+=parseInt(k.height+this.firstNodeDis)}),n.forEach(g=>{this._layoutRight(g)}),n.forEach(g=>{this._doLayout(g)})}updateLeft(){var t=this.root.getPosition(),e=this.root.getBox(),n=this.lefts,a=n.length,l=this._getNodesHeight(n),u=a==1?parseInt(t.y-l+e.height/2):parseInt(t.y-l+14),x=[parseInt(t.x-this.firstLevelDis),u];n.forEach((g,m)=>{var k=g.getBox();g.setPosition(parseInt(x[0]-k.width),parseInt(x[1])),x[1]+=k.height+this.firstNodeDis}),n.forEach(g=>{this._layoutLeft(g)}),n.forEach(g=>{this._doLayout(g)})}_layoutMinder(){this.updateRight(),this.updateLeft()}_updateAssist(t){t.wireFrame&&t.wireFrame.refresh(),t.isExpand()&&t.children.forEach(e=>{this._updateAssist(e)})}_getNodesHeight(t){if(t[0]&&t[0].getLevel()==1)var e=this.firstNodeDis;else var e=this.nodeDis;var n=0;return t.forEach((a,l)=>{n+=a.getBox().height,l!=t.length-1&&(n+=e)}),n}_layoutRight(t){if(t.isExpand()){var e=t.getPosition(),n=t.getBox(),a=this._getNodesHeight(t.children);t.callout&&t.callout.refresh();var l=[e.x+n.width+this.levelDis,n.y+n.height/2-a/2];if(t.children.forEach((x,g)=>{var m=x.getBox();x.setPosition(l[0],l[1]),l[1]+=m.height+this.nodeDis}),t.layout){t.layout.layout(t,t.layout.direct||"");var e=t.getPosition(),n=t.getMind().getBBox(t),u=Math.abs(e.x-n.x);this.moveNode(t,u,0),t.direct="right";return}t.children.forEach(x=>{this._layoutRight(x)})}}_updateNodeAssist(t){t.callout&&t.callout.refresh(),t.wireFrame&&t.wireFrame.refresh(),t.induce&&t.induce.refresh()}_doLayout(t){var e=this,n=t.getMind();n.traverseDF(a=>{if(a.isShow()){if(a.layout){if(a.layout!=e&&a.getTopLayout()!=e)return}else if(a.getLayout()!=e)return;this._updateNodeAssist(a);var l=a.getBox();if(e.isCache&&a.boundingRect)var u=a.boundingRect;else{var x=a.getShowNodeList(),g=[],m=[],k=[];if(x.forEach(y=>{y.callout&&k.push(y.callout),y.wireFrame&&g.push(y.wireFrame),y.induce&&m.push(y.induce)}),x=x.concat(g),x=x.concat(m),x=x.concat(k),x.length)var u=n.getBoundingRect(x)}if(u.height>l.height){if(a.boundingRect)var N=a.boundingRect.topDy,L=a.boundingRect.downDy;else{var N=Math.abs(u.y-l.y),L=Math.abs(u.y+u.height-l.y-l.height);u.downDy=L,a.boundingRect=u,u.topDy=N}e._adjustNode(a,0,N,L)}}},t)}_layoutLeft(t){if(t.isExpand()){var e=t.getPosition(),n=t.getBox(),a=this._getNodesHeight(t.children);t.callout&&t.callout.refresh();var l=t.children.length,u=[e.x-this.levelDis,e.y+n.height/2-a/2];if(t.children.forEach((m,k)=>{var N=m.getBox();m.setPosition(u[0]-N.width,u[1]),u[1]+=N.height+this.nodeDis}),t.layout){t.layout.layout(t,t.layout.direct||"");var e=t.getPosition(),x=t.getMind().getBBox(t),g=Math.abs(e.x+n.width-x.x-x.width);this.moveNode(t,-g,0),t.direct="left",t.boundingRect=null;return}t.children.forEach(m=>{this._layoutLeft(m)})}}_adjustDoNode(t,e,n){if(t)for(var a=t.direct;t&&t!=this.root;){var l=t.getSiblings(),u=t.getPosition();l.forEach(x=>{if(x.direct==a){var g=x.getPosition();g.y>u.y?this.moveNode(x,0,n):this.moveNode(x,0,-e)}}),t=t.getParent()}}_adjustNode(t,e,n,a){if(t){var l=t.direct;if(t&&t!=this.root){var u=t.getSiblings(),x=t.getPosition();u.forEach(g=>{if(g.direct==l){var m=g.getPosition();m.y>x.y?this.moveNode(g,e,a):this.moveNode(g,e,-n)}})}}}moveNode(t,e,n){t&&t.move(e,n),t.callout&&t.callout.refresh(),t.wireFrame&&t.wireFrame.move(e,n),t.induce&&(t.induce.move(e,n),this.moveNode(t.induce.root,e,n)),t&&t.children.forEach(a=>{this.moveNode(a,e,n)})}refresh(t){this.layout(this.root,t||this.direct),this.createLink()}createLink(){var t=this,e=this.root.getMind();if(this.group&&this.group.clear(),this.root.getChildren().length!=0&&!(!this.group||!this.root.isShow())){var n=Kt.use(this.root.mind.themeName).config.lineWidth,a=Kt.use().config.stroke;e.traverseBF(l=>{if(!(!l.isExpand()||l.ignore)){var u=l.getChildren(),x=l.getBox(),g=l.getPosition(),m=l.getLevel(),k=u.length,N=2,L=1,y=2,S=1;k==1&&(N=4,L=1,y=4,S=3),u.forEach(D=>{var W=D.direct,C=D.getBox(),V=D.getPosition();if(W=="right"){if(m==0||m==1){var P=[x.width+g.x,x.height/2+g.y];if(m==0)var B=[V.x,C.height/2+V.y];else var B=[C.width+V.x,C.height+V.y]}else var P=[x.width+g.x,x.height+g.y],B=[C.width+V.x,C.height+V.y];if(m==0)var j=[P[0]+this.firstLevelDis/N*L,P[1]],K=[j[0],B[1]];else var j=[P[0]+this.levelDis/N*L,P[1]],K=[P[0]+this.levelDis/y*S,B[1]]}else{if(m==0||m==1){var P=[g.x,x.height/2+g.y];if(m==0)var B=[V.x+C.width,C.height/2+V.y];else var B=[V.x,C.height+V.y]}else var P=[g.x,x.height+g.y],B=[V.x,C.height+V.y];if(m==0)var j=[P[0]-this.firstLevelDis/N*L,P[1]],K=[j[0],B[1]];else var j=[P[0]-this.levelDis/N*L,P[1]],K=[P[0]-this.levelDis/y*S,B[1]]}if(k==1)if(m==1)var Z=[P,j,K,B];else if(Math.abs(P[1]-B[1])>2)var Z=[P,K,B];else var Z=[P,B];else if(l.getLevel()==0){var vt=[],Et=[],pt=l.getChildren();if(pt.forEach(Rt=>{Rt.direct=="right"?vt.push(Rt):Et.push(Rt)}),vt.length>=2&&vt.indexOf(D)==0||vt.length>=2&&vt.indexOf(D)==vt.length-1)if(W=="right"){if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]+2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]+2,B[1]];var Z=[P,j,it,bt,B]}else{if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]-2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]-2,B[1]];var Z=[P,j,it,bt,B]}else if(Et.length>=2&&Et.indexOf(D)==0||Et.length>=2&&Et.indexOf(D)==Et.length-1)if(W=="right"){if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]+2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]+2,B[1]];var Z=[P,j,it,bt,B]}else{if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]-2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]-2,B[1]];var Z=[P,j,it,bt,B]}else if(vt.length>=2&&vt.indexOf(D)!=0||vt.length>=2&&vt.indexOf(D)!=vt.length-1||Et.length>=2&&Et.indexOf(D)!=0||Et.length>=2&&Et.indexOf(D)!=Et.length-1)var Z=[K,B];if(vt.length==1&&Et.length==1)var Z=[P,B];if(vt.length>1&&Et.length==1)if(W=="right")var Z=[P,K,B];else var Z=[P,B]}else if(W=="right")if(D.isFirst()||D.isLast()){if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]+2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]+2,B[1]];var Z=[P,j,it,bt,B]}else var Z=[K,B];else if(D.isFirst()||D.isLast()){if(B[1]>P[1])var it=[j[0],B[1]-2],bt=[j[0]-2,B[1]];else var it=[j[0],B[1]+2],bt=[j[0]-2,B[1]];var Z=[P,j,it,bt,B]}else var Z=[K,B];var Tt=t.group.polyline(t.linePoint(Z,n));Tt.fill("none"),Tt.stroke({color:a,width:n,linecap:"round",linejoin:"round"}),Tt.source=l,Tt.target=D})}},this.root)}}}class rs extends Ge{constructor(t=!0){super(),this.tops=[],this.bottoms=[],this.dis=10,this.levelDis=20,this.firstLevelDis=20,this.layoutName="fish",this.direct="left",this.type="fish",this.angle=this.deg=Math.PI*7/18,this.isCache=!1}layout(t,e){if(this.direct=e||"right",this.tops=[],this.bottoms=[],this.root=t||this.root,!!this.root.isExpand()){this.group||(this.group=this.root.getMind().edgeGroup.group()),this.root.layout=this,this.root.parent||this.root.dom.classList.add("node-root");var n=this.root.children.length;this.root.getChildren().forEach((a,l)=>{l<Math.ceil(n/2)?(this.tops.push(a),a.getNodeList().forEach(u=>{u.mark="top",u.dom.classList=[],u.dom.classList.add("node"),u.dom.classList.add("node-"+this.direct),u.direct=this.direct,u.isLeaf()&&!u.dom.classList.contains("node-leaf")?u.dom.classList.add("node-leaf"):u.dom.classList.contains("node-leaf")&&u.dom.classList.remove("node-leaf")})):(this.bottoms.push(a),a.getNodeList().forEach(u=>{u.mark="bottom",u.dom.classList=[],u.dom.classList.add("node"),u.dom.classList.add("node-"+this.direct),u.direct=this.direct,u.isLeaf()&&!u.dom.classList.contains("node-leaf")?u.dom.classList.add("node-leaf"):u.dom.classList.contains("node-leaf")&&u.dom.classList.remove("node-leaf")}))}),this.direct=="left"?this.root.isShow()&&this._layoutRight():this.direct=="right"&&this.root.isShow()&&this._layoutLeft()}}_layoutLeft(){var t=this,e=this.root,n=e.getMind(),a=e.getBox(),l=e.getPosition(),u=l.y+a.height/2,x=[];this.tops.forEach((g,m)=>{g.direct="top";var k=g.getCBox();m==0?(g.setPosition(a.width+l.x+40+t.dis/Math.tan(t.angle),u-t.dis-k.height),x=[a.width+l.x+40+t.dis/Math.tan(t.angle)+k.width+t.dis,0]):(g.setPosition(x[0]+t.dis/Math.tan(t.angle),u-t.dis-k.height),x=[x[0]+k.width+t.dis+40,0]),t._layout(g,"top")}),this.bottoms.forEach((g,m)=>{g.direct="down";var k=g.getBox();if(m==0){var N=a.width+50+(t.dis+k.height)/Math.tan(t.angle)+t.dis;g.setPosition(N+l.x,u+t.dis),x=[N+k.width+t.dis+40,0]}else g.setPosition(x[0]+(t.dis+k.height)/Math.tan(t.angle)+t.dis,u+t.dis),x=[x[0]+k.width+t.dis,0];t._layout(g,"bottom")}),this.tops.forEach((g,m)=>{if(m>0){var k=n.getBBox(this.tops[m-1]),N=g.getPosition(),L=k.right-N.x+this.dis+40;this.moveNode(g,L,0)}}),this.bottoms.forEach((g,m)=>{if(m>0){var k=n.getBBox(this.bottoms[m-1]),N=g.getPosition(),L=k.right-N.x+this.dis+40;this.moveNode(g,L,0)}}),this.tops.forEach(g=>{this._updateNodeAssist(g,this.root)}),this.bottoms.forEach(g=>{this._updateNodeAssist(g,this.root)}),this._updateRootAssist()}_layoutRight(){var t=this,e=this.root,n=e.getMind(),a=e.getBox(),l=e.getPosition(),u=l.y+a.height/2,x=[];this.tops.forEach((g,m)=>{g.direct="top";var k=g.getBox();m==0?(g.setPosition(l.x-k.width-t.dis-t.dis/Math.tan(t.angle)-40,u-t.dis-k.height),x=[l.x-k.width-t.dis-t.dis/Math.tan(t.angle)-40,0]):(g.setPosition(x[0]-k.width-t.dis-t.dis/Math.tan(t.angle)-40,u-t.dis-k.height),x=[x[0]-k.width-t.dis-t.dis/Math.tan(t.angle)-40,0]),t._layout1(g,"top")}),this.bottoms.forEach((g,m)=>{g.direct="down";var k=g.getBox();if(m==0){var N=l.x-k.width-t.dis-(t.dis+k.height)/Math.tan(t.angle)-40;g.setPosition(N,u+t.dis),x=[N,0]}else g.setPosition(x[0]-k.width-(t.dis+k.height)/Math.tan(t.angle)-t.dis-40,u+t.dis),x=[x[0]-(t.dis+k.height)/Math.tan(t.angle)-t.dis-40,0];t._layout1(g,"bottom")}),this.tops.forEach((g,m)=>{if(m>0){var k=n.getBBox(this.tops[m-1]),N=g.getPosition(),L=g.getBox(),y=N.x-k.x+this.dis+L.width+40;this.moveNode(g,-y,0)}}),this.bottoms.forEach((g,m)=>{if(m>0){var k=n.getBBox(this.bottoms[m-1]),N=g.getPosition(),L=g.getBox(),y=N.x-k.x+this.dis+L.width+40;this.moveNode(g,-y,0)}}),this.tops.forEach(g=>{this._updateNodeAssist(g)}),this.bottoms.forEach(g=>{this._updateNodeAssist(g)}),this._updateRootAssist()}_layout(t,e){if(t.isExpand()){t.layout&&t.layout.group&&(t.layout.group.clear(),t.layout.group.remove(),t.layout.group=null);var n=this,a=t.getMind();if(e=="top"){var l=t.getBox(),u=t.getPosition(),x=l.width+u.x+n.dis,g=t.getChildren(),m=0,k=0;g.forEach((N,L)=>{if(N.isShow()){N.callout&&N.callout.refresh();var y=N.getCBox();if(L==0)k=x+(n.dis+l.height+y.bh)/Math.tan(n.angle),m=u.y-y.height-y.bh-n.dis,N.setPosition(k,m);else{var S=a.getBBox(g[L-1]),D=g[L-1].getCBox(),W=D.y-S.y,C=(W+n.dis+y.bh+D.height)/Math.tan(n.angle),V=D.x+C,P=S.y-n.dis-y.height-y.bh;N.setPosition(V,P)}n._updateNodeAssist(N,n.root),n._layout(N,e)}})}else{var l=t.getBox(),u=t.getPosition(),x=l.width+u.x+n.dis,m=0,k=0,g=t.getChildren();t.getChildren().forEach((C,V)=>{if(C.isShow()){C.callout&&C.callout.refresh();var P=C.getCBox(),B=0;if(V==0){var j=(n.dis+P.th+P.height)/Math.tan(n.angle);k=x+j,m=u.y+l.height+n.dis+P.th+B,C.setPosition(k,m)}else{var K=a.getBBox(g[V-1]),Z=g[V-1].getCBox(),vt=n.dis+P.th+P.height+K.y+K.height-Z.y-Z.height,j=vt/Math.tan(n.angle),Et=Z.x+j,pt=K.y+K.height+n.dis+P.th;C.setPosition(Et,pt)}n._updateNodeAssist(C,n.root),n._layout(C,e)}})}}}_layout1(t,e){if(t.isExpand()){t.layout&&t.layout.group&&(t.layout.group.clear(),t.layout.group.remove(),t.layout.group=null);var n=this,a=t.getMind(),l=t.getChildren();if(e=="top"){var u=t.getBox(),x=t.getPosition(),g=x.x-n.dis;l.forEach((m,k)=>{if(m.isShow()){m.callout&&m.callout.refresh();var N=m.getCBox();if(k==0){var L=g-N.width-(u.height+n.dis+N.bh)/Math.tan(n.angle),y=x.y-N.height-N.bh-n.dis;m.setPosition(L,y)}else{var S=0,D=a.getBBox(l[k-1]),W=l[k-1].getBox(),C=W.y-D.y,V=(C+n.dis+W.height+N.bh+S)/Math.tan(n.angle),P=W.x+W.width-N.width-V,B=D.y-n.dis-N.height-N.bh-S;m.setPosition(P,B)}n._updateNodeAssist(m,n.root),n._layout1(m,e)}})}else{var u=t.getBox(),x=t.getPosition(),g=x.x-n.dis;t.getChildren().forEach((L,y)=>{if(L.isShow()){L.callout&&L.callout.refresh();var S=L.getCBox(),D=0;if(y==0){var W=g-S.width-(S.height+n.dis+S.th+D)/Math.tan(n.angle),C=x.y+u.height+n.dis+S.th+D;L.setPosition(W,C)}else{var V=a.getBBox(l[y-1]),P=l[y-1].getBox(),B=V.y+V.height-P.y-P.height,j=(B+n.dis+S.th+D+S.height)/Math.tan(n.angle),K=P.x+P.width-S.width-j,Z=P.y+n.dis+B+S.th+D+P.height;L.setPosition(K,Z)}n._updateNodeAssist(L,n.root),n._layout1(L,e)}})}}}adjustNode(t,e){var n=t.getPosition(),a=t.getBBox(),l=t.getParent(),u=l.getPosition(),x=l.getBBox();if(e=="top")var g=u.y-n.y;else var g=n.y-u.y-x.height+a.height;for(var m=g/Math.tan(this.angle);l.getLevel()>1;){u=l.getPosition();var k=l.getSiblings();k.forEach(N=>{var L=N.getPosition();e=="top"?L.y<u.y&&this.moveNode(N,m,-g):e=="bottom"&&L.y>u.y&&this.moveNode(N,m,g)}),l=l.getParent()}}adjustNode1(t,e){var n=this,a=t.getPosition(),l=t.getBBox(),u=t.getParent(),x=u.getPosition(),g=u.getBBox();if(e=="top")var m=x.y-a.y;else var m=a.y-x.y-g.height+l.height;for(var k=m/Math.tan(this.angle);u.getLevel()>1;){x=u.getPosition();var N=u.getSiblings();N.forEach(L=>{var y=L.getPosition();e=="top"?y.y<x.y&&this.moveNode(L,-k,-m):e=="bottom"&&y.y>x.y&&this.moveNode(L,-k,m)}),u=u.getParent()}}createLink(){if(this.group&&this.group.clear(),!this.group||!this.root.isShow()||this.root.getChildren().length==0)return;if(this.direct=="left"){this.createLink1();return}var t=this,e=this.dis;let n=Kt.use(this.root.mind.themeName).config,a=n.stroke,l=n.lineWidth;var u=this.root.getLevel();function x(g,m){var k=g.getBox(),N=g.getPosition();if(a=g.stroke||a||"rgb(160,160,160)",g.getLevel()==u+1){if(m=="top"){var L=[N.x-t.dis/Math.tan(t.angle),parseInt(N.y+k.height+t.dis)],y=[N.x,N.y+k.height+1],S=[y[0]+k.width+1,y[1]],D=t.group.polyline(t.linePoint([L,y,S],l));D.fill("none"),D.stroke({color:a,width:l,linecap:"round",linejoin:"round"})}else if(m=="bottom"){var L=[N.x-(t.dis+k.height)/Math.tan(t.angle),parseInt(N.y-t.dis)],y=[N.x,N.y+k.height+1],S=[y[0]+k.width+1,y[1]],D=t.group.polyline(t.linePoint([L,y,S],l));D.fill("none"),D.stroke({color:a,width:l,linecap:"round",linejoin:"round"})}}else{var W=g.getParent(),C=W.getPosition(),V=W.getBox();if(g.isLast())var L=[C.x+V.width-1,C.y+V.height+1],P=[L[0]+t.dis,L[1]],B=[N.x,N.y+k.height+1],S=[B[0]+k.width,B[1]],j=[L,P,B,S];else var B=[N.x,N.y+k.height+1],S=[B[0]+k.width,B[1]],j=[B,S];var D=t.group.polyline(t.linePoint(j,l));D.fill("none"),D.stroke({color:a,width:l,linecap:"round",linejoin:"round"})}g.isExpand()&&g.getChildren().forEach(K=>{x(K,m)})}this.tops.forEach(g=>{x(g,"top")}),this.bottoms.forEach(g=>{x(g,"bottom")}),this.creatBone()}createLink1(){var t=this,e=this.dis;if(!this.group||(this.group&&this.group.clear(),this.root.getChildren().length==0))return;let n=Kt.use(this.root.mind.themeName).config,a=n.stroke,l=n.lineWidth;var u=this.root.getLevel();function x(g,m){var k=g.getBox(),N=g.getPosition();a=g.stroke||a||"rgb(160,160,160)";var L=g.getChildren().length;if(g.getLevel()==u+1){if(m=="top"){var y=[N.x+k.width+t.dis/Math.tan(t.angle),parseInt(N.y+k.height+t.dis)],S=[N.x+k.width,N.y+k.height+1],D=[N.x-1,S[1]],W=t.group.polyline(t.linePoint([y,S,D],l));W.fill("none"),W.stroke({color:a,width:l,linecap:"round",linejoin:"round"})}else if(m=="bottom"){var y=[N.x+k.width+(t.dis+k.height)/Math.tan(t.angle),parseInt(N.y-t.dis)],S=[N.x+k.width,N.y+k.height+1],D=[N.x-1,S[1]],W=t.group.polyline(t.linePoint([y,S,D],l));W.fill("none"),W.stroke({color:a,width:l,linecap:"round",linejoin:"round"})}}else{var C=g.getParent(),V=C.getPosition(),P=C.getBox();if(g.isLast())var y=[V.x+1,V.y+P.height+1],B=[y[0]-t.dis,y[1]],j=[N.x+k.width,N.y+k.height+1],D=[N.x,j[1]],K=[y,B,j,D];else var j=[N.x+k.width,N.y+k.height+1],D=[N.x,j[1]],K=[j,D];var W=t.group.polyline(t.linePoint(K,l));W.fill("none"),W.stroke({color:a,width:l,linecap:"round",linejoin:"round"})}g.isExpand()&&g.getChildren().forEach(Z=>{x(Z,m)})}this.tops.forEach(g=>{x(g,"top")}),this.bottoms.forEach(g=>{x(g,"bottom")}),this.creatBone1()}creatBone(){var t=this;if(!this.isShow||!this.group)return;var e=this.root.getMind(),n=this.root,a=n.getBox(),l=n.getPosition(),u=e.getBoundingRect(n.getShowNodeList());let x=Kt.use().config,g=x.stroke,m=x.lineWidth,k=n.stroke||g||"rgb(160,160,160)";if(m%2==1)var N=parseInt(l.x+a.width)+.5,L=parseInt(l.y+a.height/2)+.5,y=parseInt(l.x+u.width+30)+.5,S=L;else var N=parseInt(l.x+a.width),L=parseInt(l.y+a.height/2),y=parseInt(l.x+u.width+30),S=L;t.group.line(N,L,y,S).stroke({color:k,width:m,linecap:"round",linejoin:"round"});var D=[l.x+u.width+30,L],W=[D[0]+60,D[1]-30],C=[D[0]+60,D[1]+30];t.fishTail=t.group.polygon([D,W,C]).fill("lightskyblue").stroke({color:k,width:2,linecap:"round",linejoin:"round"})}creatBone1(){var t=this;if(!this.group)return;var e=this.root,n=e.getMind(),a=e.getBox(),l=e.getPosition(),u=n.getBoundingRect(e.getShowNodeList());let x=Kt.use().config,g=x.stroke,m=x.lineWidth,k=e.stroke||g||"rgb(160,160,160)";if(m%2==1)var N=parseInt(l.x)+.5,L=parseInt(l.y+a.height/2)+.5,y=parseInt(u.x-40)+.5,S=L;else var N=parseInt(l.x),L=parseInt(l.y+a.height/2),y=parseInt(u.x-40),S=L;t.group.line(N,L,y,S).stroke({color:k,width:m,linecap:"round",linejoin:"round"});var D=[u.x-40,L],W=[D[0]-60,D[1]-30],C=[D[0]-60,D[1]+30];t.fishTail=t.group.polygon([D,W,C]).fill("lightskyblue").stroke({color:k,width:2,linecap:"round",linejoin:"round"})}refresh(){this.tops=[],this.bottoms=[],this.layout(this.root,this.direct),this.createLink()}}class ss extends Ge{constructor(){super(),this.layoutName="down",this.firstLevelDis=30,this.dis=10}layout(t,e){this.root=t||this.root,this.direct=e||"",this.root.layout=this,this.group||(this.group=this.root.getMind().edgeGroup.group()),this._layoutTwoLevel(this.root),this._updateRootAssist()}_layoutTwoLevel(t){var l=0,e=this;t.getChildren().forEach(function(g){var m=g.getBox();l=l+m.width}),l=l+(t.getChildren().length-1)*e.dis;var n=t.getPosition(),a=t.getBox(),x={x:n.x+a.width/2-l/2,y:n.y+a.height+e.firstLevelDis};t.getChildren().forEach(function(g,m){if(m==0)g.setPosition(x.x,x.y);else{var k=t.getChildren()[m-1].getPosition(),N=t.getChildren()[m-1].getBox();g.setPosition(k.x+N.width+e.dis,x.y)}}),t.getChildren().forEach(function(g){e._doLayout(g)});var l=0;if(!(t.getChildren().length<=1)){var u=this.root.getMind();t.getChildren().forEach(function(g){var m=u.getBoundingRect(g.getShowNodeList());g.isLast()?l=l+m.width/2:l=l+m.width}),l=l+(t.getChildren().length-1)*30;var x={x:n.x+a.width/2-l/2,y:n.y+a.height+e.firstLevelDis};t.getChildren().forEach((g,m)=>{if(m==0){var k=g.getPosition(),N=x.x-k.x;e.moveNode(g,N,0)}else{var L=u.getBoundingRect(t.getChildren()[m-1].getShowNodeList()),y=t.getChildren()[m-1].getPosition(),k=g.getPosition(),S=y.x+L.width+20,N=S-k.x;e.moveNode(g,N,0)}})}}_doLayout(t){var e=this,n=t.getPosition(),a=t.getBox(),l=n.x+a.width/3+this.dis,u=n.y+a.height+this.dis,x=t.getChildren();x.forEach(function(g,m){if(m==0)if(g.wireFrame){var k=g.wireFrame.getTextBox();g.setPosition(l,u+k.height+8)}else g.setPosition(l,u);else{var N=x[m-1],L=N.getPosition(),y=N.getBox();if(g.wireFrame){var k=g.wireFrame.getTextBox();g.setPosition(l,L.y+y.height+e.dis+k.height+8)}else g.setPosition(l,L.y+y.height+e.dis)}e._adjustNode(g)}),x.forEach(function(g){g.isExpand()&&e._doLayout(g)})}_getTwoNode(t){var e=null;if(t.getLevel()==1)return t;for(;t.getLevel()>0;)t.getLevel()==1&&(e=t),t=t.getParent();return e}_getMaxWidthFromSameLevel(n){var e=n.getLevel(),n=this._getTwoNode(n),a=0;return n.getNodeList().forEach(function(l){if(l.getLevel()==e){var u=l.getBox();u.width>a&&(a=u.width)}}),a}_adjustNode(t){for(var e=this,n=t.getParent(),a=n.getPosition(),l=t.getBox();n.getLevel()>1;){var u=n.getSiblings();u.forEach(function(x){var g=x.getPosition();a.y<g.y&&e.moveNode(x,0,l.height+e.dis)}),n=n.getParent()}}createLink(){var t=this,e=this.root.getMind();this.group&&this.group.clear();let n=Kt.use(e.themeName).config,a=n.stroke,l=n.lineWidth;var u=this.root,x=u.getPosition(),g=u.getBox(),m={x:x.x+g.width/2,y:x.y+g.height/2};u.getChildren().forEach(function(N){var L=N.getPosition(),y=N.getBox(),S={x:L.x+y.width/2,y:L.y+y.height/2};if(u.getChildren().length==1)var D=t.group.line(x.x+g.width/2,x.y+g.height,L.x+y.width/2,L.y).stroke({color:a,width:l,linecap:"round",linejoin:"round"});else{var W=[x.x+g.width/2,x.y+g.height],C=[x.x+g.width/2,x.y+g.height+t.firstLevelDis/2],V=[L.x+y.width/2,L.y];if(N.isFirst()||N.isLast()){if(W[0]>V[0])var P=[L.x+y.width/2+2,x.y+g.height+t.firstLevelDis/2],B=[L.x+y.width/2,x.y+g.height+t.firstLevelDis/2+2];else var P=[L.x+y.width/2-2,x.y+g.height+t.firstLevelDis/2],B=[L.x+y.width/2,x.y+g.height+t.firstLevelDis/2+2];var j=[W,C,P,B,V]}else var C=[L.x+y.width/2,x.y+g.height+t.firstLevelDis/2],j=[C,V];var D=t.group.polyline(t.linePoint(j,l));D.fill("none"),D.stroke({color:a,width:l,linecap:"round",linejoin:"round"})}k(N)});function k(N){if(N.isExpand()){var L=N.getBox(),y=N.getPosition(),S=[parseInt(y.x+L.width/3),parseInt(y.y+L.height)];N.getChildren().forEach(function(D){var W=D.getBox(),C=D.getPosition(),V=[parseInt(C.x),parseInt(C.y+W.height/2)],P=[S[0],V[1]];if(D.isLast())var B=[S,[S[0],P[1]-2],[S[0]+2,P[1]],V];else var B=[P,V];var j=t.group.polyline(t.linePoint(B,l));j.fill("none"),j.stroke({color:a,width:l,linecap:"round",linejoin:"round"}),k(D)})}}}refresh(){var t=this.root;this.layout(t,this.direct),this.createLink()}}class ns extends Ge{constructor(t=!0){super(),this.cache={},this.type="tree",this.layoutName="tree",this.dis=10,this.levelDis=30,this.firstLevel=60,this.direct="down",this.isCache=t,this._t=+new Date}layout(t,e){e=="down"||e=="top"?this.direct=e:this.direct="down",this.root=t,t.layout=this,this.root.parent||this.root.dom.classList.add("node-root"),this.group||(this.group=this.root.getMind().edgeGroup.group()),this.root.isShow()&&(this._doLayout(t),this.doLayout(t),this.root.data&&this.root.nodeType!="induce"&&this.refreshLayout(),this._updateRootAssist())}_doLayout(t){var e=this,n=this.levelDis,a=t.getBox(),l=t.getPosition();t.dom.classList=[],t.dom.classList.add("node"),t.dom.classList.add("node-"+this.direct),t.direct=this.direct,t.belongInduce&&t.dom.classList.add("node-induce"),t.isLeaf()&&!t.dom.classList.contains("node-leaf")?t.dom.classList.add("node-leaf"):t.dom.classList.contains("node-leaf")&&t.dom.classList.remove("node-leaf"),t.getLevel()==0&&(n=this.firstLevel);let u=0;if(t.getChildren().forEach(function(k){let N=k.getBox();u=u+N.width+e.dis}),t.getChildren().length&&(u=u-this.dis),this.direct=="down"){let k=l.y+a.height+n,N=l.x+a.width/2-u/2,L=0;t.getChildren().forEach(function(y,S){y.callout&&y.callout.refresh();let D=y.getCBox();var W=k+D.th;S==0?(y.setPosition(N,W),L=N+D.width+e.dis):(y.setPosition(L,W),L=L+D.width+e.dis)})}else{let k=l.y-n,N=l.x+a.width/2-u/2,L=0,y=0;t.getChildren().forEach(function(S,D){S.callout&&S.callout.refresh(),S.wireFrame&&S.wireFrame.refresh();let W=S.getCBox();D==0?(S.setPosition(N,k-W.height-W.bh),L=N+W.width+e.dis):(S.setPosition(L,k-W.height-W.bh),L=L+W.width+e.dis)})}if(this.direct=="down"&&t.layout&&t!=this.root){t.layout.layout(t,t.layout.direct||"");var x=t.getMind(),a=x.getBBox(t),g=t.getCBox().th,m=Math.abs(Math.abs(l.y-a.y)-g);this.moveNode(t,0,m),t.boundingRect=null,t.direct="down";return}t.isExpand()&&t.getChildren().forEach(function(k,N){e._doLayout(k)})}doLayout(t){if(t&&t.isExpand()){var e=this,n=t.getMind();n.traverseDF(a=>{if(a!=e.root&&a.isShow()){if(a.layout){if(a.layout!=e&&a.getTopLayout()!=e)return}else if(a.getLayout()!=e&&e.direct=="down")return;a.callout&&a.callout.isShow&&a.callout.refresh();var l={},u=a.parent;if(u){var x=u.wireFrames,g=u.summaries;x.length&&x.forEach(B=>{if(B.node==a&&(B.refreshNode(),B.refresh(),B.data&&B.data.text))if(l[a.getId()])l[a.getId()].rangeNode=l[a].rangeNode.concat(B.rangeNode.slice()),l[a.getId()].rangeNode.unique();else{var j=B.getTextBox().height,K=B.rangeNode.slice();l[a.getId()]={node:a,wf:B,topDy:j+4,rangeNode:K}}}),g.length&&g.forEach(B=>{B.node==a&&(B.refreshNode(),B.refresh())})}var m=a.getBox();if(e.isCache&&a.boundingRect)var k=a.boundingRect;else{var N=a.getShowNodeList(),L=[],y=[],S=[],D=[];if(N.forEach(B=>{B.callout&&B.callout.isShow&&S.push(B.callout),B.layout&&B.layout.isShow&&D.push(B.layout);var j=B.wireFrames,K=B.summaries;K.forEach(Z=>{Z.isShow()&&y.push(Z)}),j.forEach(Z=>{Z.isHide||L.push(Z)})}),L.unique(),y.unique(),N=N.concat(L).concat(S),y.forEach(B=>{N=N.concat(B.getAllItem())}),N.length){var k=n.getBoundingRect(N);D.length&&D.forEach(j=>{if(j.layoutName=="fish"&&e.direct=="down"&&(j.direct=="right"?j.creatBone():j.creatBone1(),j.fishTail)){var K=j.fishTail.bbox();K.x<k.x&&(k.x=K.x),K.y<k.y&&(k.y=K.y),K.x+K.width>k.right&&(k.right=K.x+K.width),K.y+K.height>k.bottom&&(k.bottom=K.y+K.height),k.width=k.right-k.x,k.height=k.bottom-k.y}})}}if(e.isCache&&a.boundingRect)var W=a.boundingRect.leftDx,C=a.boundingRect.rightDx;else{var W=Math.abs(k.x-m.x),C=Math.abs(k.right-m.x-m.width),V={},P={};x&&x.length&&x.forEach(K=>{var Z=K.leftNode;if(K.node==a){if(V[Z])return;V[Z]=!0,W+=6}if(K.endNode&&K.endNode==a){var vt=K.rightNode;if(P[vt])return;P[vt]=!0,C+=6}}),k.leftDx=W,k.rightDx=C,a.boundingRect=k}if(e.adjustNode(a,W,C,0),a.direct!=="top")for(let B in l)e.adjustNode(B.node,0,0,l[B].topDy,l[B]);x&&x.length&&x.forEach(B=>{B.endNode==a&&B.refresh()}),g&&g.length&&g.forEach(B=>{B.endNode==a&&B.refresh()})}},t)}}adjustNode(t,e,n,a,l){var u=this;if(l){l.rangeNode.forEach(m=>{u.direct=="down"?u.moveNode(m,0,a):u.moveNode(m,0,-a)});return}if(t&&t!=this.root){var x=t.getPosition(),g=t.getSiblings();g.forEach(function(m){let k=m.getPosition();x.x>k.x?u.moveNode(m,-e,0):u.moveNode(m,n,0)})}}refreshLayout(){var t=this.root,e=t.getPosition(),n=t.getBox(),a=e.x+n.width/2,l=t.getChildren();if(l.length>=2){var u=l[0],x=l[l.length-1],g=u.getPosition(),m=x.getPosition(),k=x.getBox(),N=m.x+k.width-a,L=a-g.x;if(Math.abs(N)!=Math.abs(L)){var y=Math.abs(Math.abs(N)-Math.abs(L))/2;Math.abs(N)>Math.abs(L)?l.forEach(S=>{this.moveNode(S,-y,0)}):l.forEach(S=>{this.moveNode(S,y,0)})}}}createLink(){this.direct=="down"?this.createDownLink():this.createUpLink()}refresh(){var t=this.root;this.layout(t,this.direct),this.createLink()}}class wi extends ns{constructor(t){super(t),this.dis=10,this.firstLevel=40,this.levelDis=20,this.type="tree2",this.layoutName="tree",this.lineWidth=2}createDownLink(){var t=this,e=this.root;if(this.group&&this.group.clear(),this.root.getChildren().length==0||!this.group||!this.root.isShow())return;let n=Kt.use(this.root.mind.themeName).config,a=n.stroke,l=n.lineWidth;function u(g){if(!(g.layout&&g!=t.root)&&g.isExpand()){var m=g.getPosition(),k=g.getBox();g.getChildren().forEach(function(N){let L=N.getBox(),y=N.getPosition(),S={x:m.x+k.width/2,y:m.y+k.height},D={x:y.x+L.width/2,y:y.y},W=N.stroke||a||"rgb(160,160,160)";if(g.getChildren().length==1){if(l%2==1)var C=parseInt(S.x)+.5,V=parseInt(S.y)+.5,P=parseInt(D.x)+.5,B=parseInt(D.y)+.5;else var C=parseInt(S.x),V=parseInt(S.y),P=parseInt(D.x),B=parseInt(D.y);var j=t.group.line(C,V,P,B).stroke({color:W,width:l,linecap:"round",linejoin:"round"})}else{var K=[m.x+k.width/2,m.y+k.height],Z=[y.x+L.width/2,y.y];if(g.getLevel()==0)var vt=[K[0],K[1]+t.firstLevel/2];else var vt=[K[0],K[1]+t.levelDis/2];if(N.isFirst()||N.isLast()){if(y.x+L.width/2>m.x+k.width/2)var Et=[Z[0]-4,vt[1]],pt=[Z[0],vt[1]+4];else var Et=[Z[0]+4,vt[1]],pt=[Z[0],vt[1]+4];var it=[K,vt,Et],bt=[pt,Z]}else var Et=[Z[0],vt[1]],it=[Et,Z];if(it.length>2){var j=t.group.polyline(t.linePoint(it,l));j.fill("none"),j.stroke({color:W,width:l,linecap:"round",linejoin:"round"});var Tt=t.linePoint([pt],l)[0],Rt=t.linePoint([Et],l)[0],zt=`M${Tt[0]} ${Tt[1]},Q${Tt[0]} ${Rt[1]},${Rt[0]} ${Rt[1]}`,_t=t.group.path().stroke({color:W,width:l,linecap:"round",linejoin:"round"});_t.plot(zt),_t.fill("none");var j=t.group.polyline(t.linePoint(bt,l));j.fill("none"),j.stroke({color:W,width:l,linecap:"round",linejoin:"round"})}else{var j=t.group.polyline(t.linePoint(it,l));j.fill("none"),j.stroke({color:W,width:l,linecap:"round",linejoin:"round"})}}u(N)})}}u(e),e.children.forEach(g=>{x(g)});function x(g){if(g.isExpand()){if(g.layout){g.layout.createLink();return}g.children.forEach(m=>{x(m)})}}}createUpLink(){var t=this,l=this.root;if(this.group&&this.group.clear(),this.root.getChildren().length==0||!this.group||!this.root.isShow())return;let e=Kt.use(this.root.mind.themeName).config,n=e.stroke,a=e.lineWidth;var l=this.root;function u(x){if(x.layout&&x!=t.root&&x.layout.group&&x.layout.group.clear(),!!x.isExpand()){var g=x.getPosition(),m=x.getBox(),k=x.getLevel();x.getChildren().forEach(function(N){let L=N.getBoundingRect(),y=N.getPosition(),S={x:parseInt(g.x+m.width/2),y:parseInt(g.y)},D={x:parseInt(y.x+L.width/2),y:parseInt(y.y+L.height)},W=N.stroke||n||"rgb(160,160,160)";if(x.getChildren().length==1){if(a%2==1)var C=parseInt(S.x)+.5,V=parseInt(S.y)+.5,P=parseInt(D.x)+.5,B=parseInt(D.y)+.5;else var C=parseInt(S.x),V=parseInt(S.y),P=parseInt(D.x),B=parseInt(D.y);var j=t.group.line(C,V,P,B).stroke({color:W,width:a,linecap:"round",linejoin:"round"})}else{var K=[g.x+m.width/2,g.y],Z=[y.x+L.width/2,y.y+L.height],vt=[K[0],K[1]-t.levelDis/2];if(N.isFirst()||N.isLast()){if(y.x+L.width/2>g.x+m.width/2)var Et=[Z[0]-4,vt[1]],pt=[Z[0],vt[1]-4];else{var Et=[Z[0]+4,vt[1]],pt=[Z[0],vt[1]-4];k=5}var it=[K,vt,Et],bt=[pt,Z]}else var Et=[Z[0],vt[1]],it=[Et,Z];if(it.length>2){var j=t.group.polyline(t.linePoint(it,a));j.fill("none"),j.stroke({color:W,width:a,linecap:"round",linejoin:"round"});var Tt=t.linePoint([pt],a)[0],Rt=t.linePoint([Et],a)[0],zt=`M${Tt[0]} ${Tt[1]},Q${Tt[0]} ${Rt[1]},${Rt[0]} ${Rt[1]}`,_t=t.group.path().stroke({color:W,width:a,linecap:"round",linejoin:"round"});_t.plot(zt),_t.fill("none");var j=t.group.polyline(t.linePoint(bt,a));j.fill("none"),j.stroke({color:W,width:a,linecap:"round",linejoin:"round"})}else{var j=t.group.polyline(t.linePoint(it,a));j.fill("none"),j.stroke({color:W,width:a,linecap:"round",linejoin:"round"})}}u(N)})}}u(l)}}class Ir extends Ge{constructor(){super(),this.layoutName="multipleTree",this.type="multipleTree",this.levelDis=20,this.firstLevelDis=40,this.nodeDis=18,this.direct="multipleTree",this.root=null,this.rights=[],this.lefts=[],this.rootLevel=0}layout(t,e){if(this.rights=[],this.lefts=[],this.root=t||this.root,this.rootLevel=this.root.getLevel(),this.root.layout=this,this.direct=e,this.root.dom.classList.add("node-down"),this.group||(this.group=this.root.getMind().edgeGroup.group()),this.direct=="right")this.root.children.forEach(a=>{this.rights.push(a),this.setDirect(a,"right")});else if(this.direct=="left")this.root.children.forEach(a=>{this.lefts.push(a),this.setDirect(a,"left")});else{var n=this.root.children.length;this.root.children.forEach((a,l)=>{l<Math.ceil(n/2)?(this.rights.push(a),this.setDirect(a,"right")):(this.lefts.push(a),this.setDirect(a,"left"))})}this._layoutTow(),this._updateRootAssist()}setDirect(t,e){t.direct=e,t.dom.classList=[],t.dom.classList.add("node"),t.dom.classList.add("node-down"),t.isLeaf()&&!t.dom.classList.contains("node-leaf")?t.dom.classList.add("node-leaf"):t.dom.classList.contains("node-leaf")&&t.dom.classList.remove("node-leaf"),!t.layout&&t.children.forEach(n=>{this.setDirect(n,e)})}_layoutTow(){this.root.isExpand()&&this.root.isShow()&&(this._layoutRight(),this._layoutLeft())}_layoutRight(){var t=this.root.getCBox();this.rights.forEach((e,n)=>{e.callout&&e.callout.refresh(),this._layoutRightNode(e,n,t,!0,e.getLevel()-1)})}getParentPos(t){var e=t.getLevel(),n=t.getDomBox(),a={x:n.x+n.width/2,y:n.y+n.height};return a}_layoutRightNode(t,e,n,a,l){var u=this.root.getMind(),x={x:n.x+n.width/2,y:n.y+n.height};if(e==0){var g=t.getCBox(!0);t.setPosition(x.x+this.levelDis,x.y+this.nodeDis+g.th+n.bh)}else{var m=t.getCBox(!0);if(a){var k=this.rights[e-1];if(this.isCache&&k.boundingRect)var N=k.boundingRect;else{var N=u.getBBox(k);k.boundingRect=N}var L=k.getPosition();if(k.layout){var{x:y}=this.getParentPos(k.parent);t.setPosition(y+this.levelDis,N.y+N.height+this.nodeDis+m.th)}else t.setPosition(L.x,N.y+N.height+this.nodeDis+m.th)}else{var k=t.parent.children[e-1],L=k.getPosition();if(this.isCache&&k.boundingRect)var N=k.boundingRect;else{var N=u.getBBox(k);k.boundingRect=N}if(k.layout){var{x:y}=this.getParentPos(k.parent);t.setPosition(y+this.levelDis,N.y+N.height+this.nodeDis+m.th)}else t.setPosition(L.x,N.y+N.height+this.nodeDis+m.th)}}if(t.layout){t.layout.layout(t,t.layout.direct||"");var L=t.getPosition(),n=u.getBBox(t);t.boundingRect=n;var S=Math.abs(L.x-n.x);if(g)var D=Math.abs(L.y-n.y)-g.th;else var D=Math.abs(L.y-n.y);this.moveNode(t,S,D),t.direct="right",this._updateNodeAssist(t);return}if(this._updateNodeAssist(t),t.isExpand()){var W=t.getCBox(!0);t.children.forEach((C,V)=>{C.callout&&C.callout.refresh(),this._layoutRightNode(C,V,W)})}}getBottomNode(t){if(t.children.length){var e=t.children[t.children.length-1];return this.getBottomNode(e)}else return t}_layoutLeft(){var t=this.root.getCBox();this.lefts.forEach((e,n)=>{e.callout&&e.callout.refresh(),this._layoutLeftNode(e,n,t,!0,e.getLevel()-1)})}_layoutLeftNode(t,e,n,a,l){var u=this.root.getMind(),x={x:n.x+n.width/2,y:n.y+n.height},{width:g,th:m}=t.getCBox(!0);if(e==0){var k=0;l==this.rootLevel&&(k=20),t.setPosition(x.x-g-this.levelDis,x.y+this.nodeDis+k+m+n.bh)}else{var N=t.getCBox(!0);if(a){var L=this.lefts[e-1];if(this.isCache&&L.boundingRect)var y=L.boundingRect;else{var y=u.getBBox(L);L.boundingRect=y}if(L.layout){var{x:S}=this.getParentPos(L.parent);t.setPosition(S-this.levelDis-g,y.y+y.height+this.nodeDis+N.th)}else{var D=L.getCBox(!0);t.setPosition(D.x+D.width-g,y.y+y.height+this.nodeDis+N.th)}}else{var L=t.parent.children[e-1],y=u.getBBox(L);if(this.isCache&&L.boundingRect)var y=L.boundingRect;else{var y=u.getBBox(L);L.boundingRect=y}if(L.layout){var{x:S}=this.getParentPos(L.parent);t.setPosition(S-this.levelDis-g,y.y+y.height+this.nodeDis+N.th)}else{var D=L.getCBox(!0);t.setPosition(D.x+D.width-g,y.y+y.height+this.nodeDis+N.th)}}}if(t.layout){t.layout.layout(t,t.layout.direct||"");var W=t.getPosition(),n=u.getBBox(t),C=Math.abs(W.x+g-n.x-n.width),V=Math.abs(W.y-n.y)-m;this.moveNode(t,-C,V),t.direct="left",this._updateNodeAssist(t);return}if(this._updateNodeAssist(t),t.isExpand()){var P=t.getCBox(!0);t.children.forEach((B,j)=>{B.callout&&B.callout.refresh(),this._layoutLeftNode(B,j,P)})}}createLink(){var t=this;if(this.group&&this.group.clear(),!this.group||!this.root.isShow()||this.root.getChildren().length==0)return;var e=Kt.use(this.root.mind.themeName).config,n=e.stroke,a=e.lineWidth;function l(x){if(x.isExpand()){var g=6,m={...x.getBox()};x!=t.root&&(m.height+=a);var k=[m.x+m.width/2,m.y+m.height];x.children.forEach(N=>{var L={...N.getBox()};if(L.height+=a,N.direct=="right")var y=t.linePoint([[k[0],L.y+L.height-g]],a)[0],S=t.linePoint([[L.x+L.width,L.y+L.height]],a)[0],D=t.linePoint([[y[0]+g,S[1]]],a)[0],W=`M${y[0]} ${y[1]},Q${y[0]} ${y[1]+g},${D[0]} ${D[1]}`;else var y=t.linePoint([[k[0],L.y+L.height-g]],a)[0],S=t.linePoint([[L.x,L.y+L.height]],a)[0],D=t.linePoint([[y[0]-g,S[1]]],a)[0],W=`M${y[0]} ${y[1]},Q${y[0]} ${y[1]+g},${D[0]} ${D[1]} `;let C=N.stroke||n||"rgb(160,160,160)";var V=t.group.path().stroke({color:C,width:a,linecap:"round",linejoin:"round"});V.plot(W),V.fill("none");var P=t.group.line(t.linePoint([k,y],a));P.fill("none"),P.stroke({color:C,width:a,linecap:"round",linejoin:"round"});var B=t.group.line(t.linePoint([D,S],a));B.fill("none"),B.stroke({color:C,width:a,linecap:"round",linejoin:"round"}),!N.layout&&l(N)})}}l(this.root),this.root.children.forEach(x=>{u(x)});function u(x){if(x.isExpand()){if(x.layout){x.layout.createLink();return}x.children.forEach(g=>{u(g)})}}}createLink1(){var t=this;if(this.group&&this.group.clear(),this.root.getChildren().length==0)return;var e=Kt.use().config,n=e.stroke,a=e.lineWidth;function l(g){if(g.isExpand()){var m=g.getLevel(),k=g.getBox();if(m==t.rootLevel)var N=[k.x+k.width/2,k.y+k.height];else if(g.direct=="right")var N=[k.x+k.width/3,k.y+k.height];else var N=[k.x+k.width/3*2,k.y+k.height];g.children.forEach(L=>{var y=L.getBox();if(L.direct=="right")var S=[N[0],y.y+y.height],D=[y.x,y.y+y.height],W=[[D[0],D[1]],[y.x+y.width+.5,D[1]]];else var S=[N[0],y.y+y.height],D=[y.x+y.width,y.y+y.height],W=[[D[0],D[1]],[y.x,D[1]]];var C=t.linePoint([N,S,D],a),V=`M ${C[0][0]} ${C[0][1]} Q ${C[1][0]} ${C[1][1]},${C[2][0]} ${C[2][1]} `,P=t.group.path(V);P.fill("none"),P.stroke({color:n,width:a,linecap:"round",linejoin:"round"});var B=t.group.line(t.linePoint(W,a));B.stroke({color:n,width:a,linecap:"round",linejoin:"round"}),!L.layout&&l(L)})}}l(this.root),this.root.children.forEach(g=>{x(g)});var u=[];function x(g){if(g.isExpand()){if(g.layout){g.layout.createLink(),u.push(g);return}g.children.forEach(m=>{x(m)})}}}refresh(){this.layout(this.root,this.direct),this.createLink()}}class rr extends Ge{constructor(t=!0){super(),this.layoutName="vertical",this.type="vertical",this.dis=40,this.direct="vertical",this.root=null,this.isCache=t}layout(t,e){var n=this;this.direct=e||"vertical",this.root=t||this.root,this.root.parent||this.root.dom.classList.add("node-root"),this.group||(this.group=this.root.getMind().edgeGroup.group()),this.root.layout=this,this._layout(),this._updateRootAssist()}_layout(){var t=this,e=this.root.getMind(),n=this.root.getPosition(),a=this.root.getBox(),l={x:n.x+a.width/2,y:n.y+a.height};this.root.isExpand()&&(this.root.children.forEach((u,x)=>{!u.layout&&(u.layout=new tr(this.isCache)),u.layout.root=u;var L=u.getBox();if(x==0)u.setPosition(l.x-L.width/2,l.y+this.dis);else{var g=this.root.children[x-1],m=e.getBBox(g);u.boundingRect=m;var k=m.bottom;u.setPosition(l.x-L.width/2,k+this.dis)}u.layout.layout(u,u.layout.direct||this.direct||""),u.callout&&u.callout.refresh();var N=u.getPosition(),L=e.getBBox(u),y=Math.abs(N.y-L.y);this.moveNode(u,0,y),u.dom.classList=[],u.dom.classList.add("node"),u.dom.classList.add("node-down"),u.isLeaf()?u.dom.classList.contains("node-leaf")||u.dom.classList.add("node-leaf"):u.dom.classList.contains("node-leaf")&&u.dom.classList.remove("node-leaf"),this._updateNodeAssist(u,t.root)}),this._updateNodeAssist(this.root,this.root))}createLink(){var t=this.root.children,e=t.length;if(this.group&&this.group.clear(),!this.group||!this.root.isShow()||e==0)return;let n=Kt.use(this.root.mind.themeName).config,a=n.stroke;var l=t[e-1];let u=n.lineWidth;var x=this.root.getPosition(),g=this.root.getBBox(),m=l.getBBox(),k=l.getPosition(),N=x.x+g.width/2,L=N,y=x.y+g.height,S=k.y;this.group.line(N,y,L,S).stroke({color:a,width:u,linecap:"round",linejoin:"round"}),t.forEach(D=>{D.layout.createLink()})}refresh(){this.layout(this.root,this.direct),this.createLink()}}class as extends Ve{constructor(t=!0){super("bracket"),this.layoutName="bracket",this.levelDis=20,this.nodeDis=10,this.firstLevelDis=40,this.firstNodeDis=20,this.root=null,this.lefts=[],this.rights=[],this.isCache=t,this.type="mind"}createLink(){var t=this,e=this.root.getMind();if(this.group&&this.group.clear(),this.root.getChildren().length==0||!this.group||!this.root.isShow())return;var n=Kt.use(this.root.mind.themeName).config.lineWidth,a=Kt.use().config.stroke,l=this.root.getLevel();function u(g){if(g!=t.root){if(g.layout)return}if(g.isExpand()){var m=g.getChildren(),k=g.getBox(),N=g.getPosition(),L=g.getLevel(),y=m.length,S=2,D=1,W=L==l?t.firstLevelDis:t.firstNodeDis;m.forEach(C=>{var V=C.direct,P=C.getBox(),B=C.getPosition(),j=[];let K=C.stroke||a||"rgb(160,160,160)";if(V=="right"){var Z=[k.width+N.x,k.height/2+N.y],vt=[B.x,P.height/2+B.y];if(vt[1]>Z[1])var Et=[Z[0]+W/S*D,Z[1]+3],pt=[Et[0],vt[1]];else var Et=[Z[0]+W/S*D,Z[1]-3],pt=[Et[0],vt[1]];if(vt[1]>Z[1])var it=[Et[0],vt[1]-2],bt=[Et[0]+2,vt[1]];else var it=[Et[0],vt[1]+2],bt=[Et[0]+2,vt[1]]}else{var Z=[N.x,k.height/2+N.y],vt=[B.x+P.width,P.height/2+B.y];if(vt[1]>Z[1])var Et=[Z[0]-W/S*D,Z[1]+3],pt=[Et[0],vt[1]];else var Et=[Z[0]-W/S*D,Z[1]-3],pt=[Et[0],vt[1]];if(vt[1]>Z[1])var it=[Et[0],vt[1]-2],bt=[Et[0]-2,vt[1]];else var it=[Et[0],vt[1]+2],bt=[Et[0]-2,vt[1]]}if(y==1)var j=[Z,vt];else if(L==l){var Tt=t.rights,Rt=t.lefts;if(Tt.length>=2&&Tt.indexOf(C)==0||Tt.length>=2&&Tt.indexOf(C)==Tt.length-1)var j=[Z,Et,it,bt,vt];else if(Rt.length>=2&&Rt.indexOf(C)==0||Rt.length>=2&&Rt.indexOf(C)==Rt.length-1)var j=[Z,Et,it,bt,vt];if(Tt.length==1&&Rt.length==1)var j=[Z,vt];if(Tt.length>1&&Rt.length==1)if(V=="right")var j=[Z,pt,vt];else var j=[Z,vt]}else if(V=="right"){if(C.isFirst()||C.isLast()){if(vt[1]>Z[1])var it=[Et[0],vt[1]-2],bt=[Et[0]+2,vt[1]];else var it=[Et[0],vt[1]+2],bt=[Et[0]+2,vt[1]];var j=[Z,Et,it,bt,vt]}}else if(C.isFirst()||C.isLast()){if(vt[1]>Z[1])var it=[Et[0],vt[1]-2],bt=[Et[0]-2,vt[1]];else var it=[Et[0],vt[1]+2],bt=[Et[0]-2,vt[1]];var j=[Z,Et,it,bt,vt]}var zt=t.group.polyline(t.linePoint(j,n));zt.fill("none"),zt.stroke({color:K,width:n,linecap:"round",linejoin:"round"}),zt.source=g,zt.target=C,u(C)})}}u(this.root),this.root.children.forEach(g=>{x(g)});function x(g){if(g.isExpand()){if(g.layout){g.layout.createLink();return}g.children.forEach(m=>{x(m)})}}}}var os={minder:Ve,minder1:tr,minder2:er,minder3:Sr,minder4:Fr,minder5:ir,fish:rs,down:ss,tree:wi,multipleTree:Ir,vertical:rr,bracket:as};const je=os;let s=function(z,t){var e=[],n=$(z),a=n.length,l=n.first().get(0),u=l&&l.tagName&&l.tagName.toLowerCase();if(!u)return e;if(a==1)if(u=="ol"||u=="ul")n.find("li").each((k,N)=>{var L={};L.text=$(N).text(),L.id=I(),e.push(L)});else if(["h1","h2","h3","h4","h5","h6","title","dd","dt","td"].indexOf(u)>-1){let k={text:n.text()||t,id:I()};e.push(k)}else if(u=="li"){let k={text:$.trim(n.text())||t,id:I()};if(n.find("a").length){if(k.link=t,n.find("a").first().children("div,h1,h2,h3,h4,h5,h6,p,span,li,title").length)var x=n.find("a").first().children("div,h1,h2,h3,h4,h5,h6,p,span,li,title").first(),g=$.trim(x.text());else var g=$.trim(n.find("a").text()||n.find("a").attr("title")||n.text()||t);g=g.substr(0,20),k.text=t}e.push(k)}else if(u=="a"){let k={link:t,text:$.trim(n.text()||n.attr("title")||""),id:I()};if(n.find("img").length){var m=n.find("img").attr("src");m.startsWith("http")&&(k.isImageNode=!0,k.src=m)}e.push(k)}else if(u=="div"||u=="p"||u=="span"){let k={text:n.text()||t,id:I()};e.push(k)}else if(u=="img"){let k={text:n.attr("alt")||n.attr("title")||"",id:I(),src:t,isImageNode:!0};e.push(k)}else{let k={text:t,id:I()};e.push(k)}else a>1&&(e=o(n,t));return e};function o(z,t){var e=[],n=$(z).first().get(0).tagName,a=[];z.each((x,g)=>{a.push($(g).get(0).tagName)});var l=a.every(x=>x==n);if(l)z.each((x,g)=>{var m=s(g,t);$(g).text()&&(e=e.concat(m))});else{var u=t.split(`
`);u.forEach(x=>{$.trim(x)&&e.push({id:I(),text:x})})}return e}const f=s;var p=null,w=["#333","rgb(78, 52, 46)","#666","#ccc","orange","rgb(51, 51, 51)","rgb(240, 244, 195)","red","blue","rgb(5, 196, 235)","rgb(16, 151, 232)","rgb(164, 195, 190)","rgb(67, 160, 71)","rgb(115, 154, 163)","rgb(40, 53, 147)","white","#44CEF6","#72A779","#6DD625","#3E76A5","#943ACA","#7ADD99","#E82C0D","#B386B8","#D8B24D","transparent"];const b=navigator.userAgent.toLowerCase();var A="/note/mindmap/public/img";if(b.indexOf("electron")>-1)var A="./mindmap/public/img";var H=[1,2,3,4,5,6,7,8],T=[10,30,50,70,90],Y=[0,1,2,3,4],xt=["solid","dashed","dotted"],Nt=[0,2,4,6,8,10,20,30,40,50,60];function ht(z){var t="";return Y.forEach(e=>{t+=`<li class="${z} stroke-${e}" value="${e}">${e}</li>`}),t}function Mt(z){var t="";return xt.forEach(e=>{t+=`<li class="${z} stroke-${e}" value="${e}">${e}</li>`}),t}function Xt(z){var t="";return Nt.forEach(e=>{t+=`<li class="${z} boderradius-${e}" value="${e}">${e}</li>`}),t}function Vt(z){var t="";return w.forEach(e=>{e=="transparent"?t+=`<li class="${z} bg-${e}" value="${e}" style="background:${e}">
         <svg t="1684660761070" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16411" width="22" height="22"><path d="M102.4 716.8v-204.8h204.8v204.8z m0-409.6V102.4h204.8v204.8z" opacity=".8" p-id="16412"></path><path d="M307.2 921.6v-204.8h204.8v204.8z m0-409.6V307.2h204.8v204.8z" opacity=".6" p-id="16413"></path><path d="M512 716.8v-204.8h204.8v204.8z m0-409.6V102.4h204.8v204.8z" opacity=".4" p-id="16414"></path><path d="M716.8 921.6v-204.8h204.8v204.8z m0-409.6V307.2h204.8v204.8z" opacity=".2" p-id="16415"></path></svg>
      </li>`:t+=`<li class="${z} bg-${e}" value="${e}" style="background:${e}"></li>`}),t}function Jt(z){var t="";return H.forEach(e=>{t+=`<li class="node-priority priority" data-priority="${e}">${e}</li>`}),t}function fe(z){var t="";return T.forEach(e=>{t+=` <li class="percent pie" data-percent="${e}"></li>`}),t}var he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYIAAACCCAYAAABLjc89AAAAAXNSR0IArs4c6QAADp1JREFUeF7tnc9vG8cVgJ9liqIoUY4Mp5aNxG2Aooc0hwZBcygQowfXyKHnBmgDOEAOvfcf6V9gJEbrQ87tIXB9KJJTUwQBisCHHpzCCCwldqVav0hKVFQ8kuOsKC651M7uzM58BAguyd3Zed97nG9n19ae+82f/nIsPCAAAQhAIFoC5xBBtLkncAhAAAJ9AoiAQoAABCAQOQFEEHkBED4EIAABREANQAACEIicACKIvAAIHwIQgAAioAYgAAEIRE4AEUReAIQPAQhAABFQAxCAAAQiJ4AIIi8AwocABCCACKgBCEAAApETQASRFwDhQwACEEAE1AAEIACByAkggsgLgPAhAAEIIAJqAAIQgEDkBBBB5AVA+BCAAAQQATUAAQhAIHICiCDyAiB8CEAAAoiAGoAABCAQOQFEEHkBED4EIAABREANQAACEIicACKIvAAIHwIQgAAioAYgAAEIRE6gFBG8/+oFuX51URq1c5HjHoTf6R3LJ4/bcvvBM3hAAAIpBBg3ToIpctwoXASazJvXmhT7GAL3Hu0jAyoDAmMIMG6kl0UR40bhIrhzY42ZQEpO1fC37m8wEEAAAiMEGDfSS6KIcaNwEXz09hWKfAKBdz5ehw8EIDBCgHFjcknYHjcQgeOfoO2EOg6H3UPACgFEgAisFFJVGkEEVckU/SyTACJABGXWm/N9IQLnKaADHhJABIjAw7IsrkuIoDi2tFxdAogAEVS3es/Qc0RwBmhsEjwBRIAIgi/yZICIIKp0E2xGAogAEWQslTBWQwRh5JEo7BJABIjAbkV53hoi8DxBdM8JAUSACJwUnqudIgJX5NmvzwQQASLwuT6t9w0RWEdKgwEQQASIIIAyzh4CIsjOijXjIYAIEEE81S4iRxdfl+7RkXR7R3LQO5q+PFy3v/7I8m73UDbbHflfuxsVQ4J1T2C5Pi+tRl1WFuqyOF+ThZo+z0ujdv7U8uCzweffL+u6g230Wdv8wn1QHvfA9gEkf2vIdbIvvWG9B8fHx7LZ7srWfke22h3ZPPHaff7Z3sGh9X3TYPUJnJ+b6w/oK426tIav+t4stxYW+t8lP5s7Z/leI08/rz7IAiNABAXCddH0b+99MzgKOj84Eqonlvvvh5+bdfrfp6xzobEgF5sNWarPZwpFZxQDSQykobOJJ7v7sr6zJ+vbe/Lt7n6mdlipegT0qH2ttSSXW83+69ry98taQ7M+Or0j2el0Zbt7IHqAoTNW/azb6w1f9X1v8Pnh8HX4/bh17968PGsXolofEQSWbtsJVTwqD/0x63N1cfB6cbEhq82BKAbLDanNzU2kefTd8VAKu8/lsNGXxG5fHqOP9958Td565SVpzNcCy5Lf4ejA+ulXX8uHn315oqN6umYw2C/J2nDAN8t60DDpsX9w2B/UtzsHw9fBIK/vd/qv3cR3B/3TlDYfXCOYTNP2uMGpIZvVe4a2bCd0li7o9N5IwbxeXm72jxJ/sNzsSyTtoYOPmTno648vrcpPr1yaZfesa5nAg42n8mhrW6690JIfrq7IpMFeryM92duXJ7vtE6/fDt8fHn1nuXezNYcIEMFsFVPxtV2KYBo6nVmoEIwYVBLJ9/q9efSmNcb3pRBIzsUebj6Tje09Lwf6aTAQASKYViNBfe+zCKaB1hmDEcPvf/GzaavzfQkEPvjHv+Thf5+JSqDKD0SACKpcvzP3vcoiSAZ7991fzxw7G9gn8Ls//9V+ow5aRASIwEHZudslInDHPsQ9I4IQs3o6JtvjBheLHdeN7YS6CocZgSvyJ/eLCPzIQ9G9sD1uIIKiMzalfdsJdRUOInBFHhH4Qb7cXtgeNxBBufk7tTfbCXUVDiJwRR4R+EG+3F7YHjcQQbn5QwSOeYe+e04NhZ7hQXyIILA8206oKzzMCFyRZ0bgB/lye2F73Ch8RnDnxpo0apb/IFW5zAvbW6d3LLfubxTWfpkNI4IyaafvK5QZAeNGeo6LGDcKF8H7r16Qm9eafvxKPOvFvUf7cvtBtf/jj0GKCPworlBEwLiRXk9FjBuFi0DD0aRev7rIzGCYWzX6J4/bwUhAw0IEiMA2AcaNk0SLHDdKEYHtAqE9/wggAj9yEsqMwA+a8fQCEcST60IjRQSF4s3cOCLIjIoVEwQQAeVghQAisIIxdyOIIDfCKBtABFGm3X7QiMA+07O0iAjOQo1tEAE1YIUAIrCCMXcjiCA3wigbQARRpt1+0DZFoDdXORaRWW9+qDfe1KfeJEdvmaP/e8WHG+ZMisd2PxGB/dqOoUVEEEOWS4gREaRDRgQlFCC7yEUAEeTCx8aGACJABPwaqksAEVQ3d171vAgRJP8wSfIUjzkFZACY7yadGkrbJgnR3IHZnJKa9H60Pb3Vu7ndu5kBaP/1FJd5Ne0m7ytsvrd1CotTQ179LCrTGURQmVT53VHbItBozeCYPLViBmAz8CbPsaeJYNI2SarJ7fVzM2An+2H2q9+N64PZLnmNI9n/0WsCo/vIm2VEkJdgnNsjgjjzbj1q2yJIDqTJI/PRo3Qz8Jqj8XEXi0cH31ExJGGYAV4/MzMS7Ys+TNujwkj2QfuRlMSoGEavF3Cx2Hop0uAZCCCCM0Bjk9MEyhTBuL9lO00E2mNzamaSCIxo0nKsbYwbvJOD/zQRJE8jjZNKnvpiRpCHXrzbIoJ4c2818jJFkBzU007tJAfrWWYEOjCPzgT0vT7NAM6MwGrp0JgHBBCBB0kIoQtliWD0aD75Pnn6Zty1g7Rz+uNkop8lrw0k34+eChp33n/cxeNxswmuEYRQ/dWPARFUP4deRFCWCMxgrwIwj3FH6mmzALPNpH+lM+4i8eh/cJv2r4bSRKD7N33TZf7VkBflG30nEEH0JWAHgE0R2OlRnK1wjSDOvOeNGhHkJcj2fQKIwI9CQAR+5KFqvUAEVcuYp/1FBH4kBhH4kYeq9QIRVC1jnvYXEfiRGETgRx6q1gtEULWMedpfROBHYhCBH3moWi9KEQE3oT5ZFkXehNpVASICV+RP7jckETBulDduFC4CTebNa00/fiWe9eLeo325/eCZZ706W3cQwdm42d4qFBEwbqRXRhHjRuEiuHNjTRq1cX8UwPZPoHrt6czg1v2N6nV8TI8RgR9pDEUEjBvp9VTEuFG4CD56+4ofvxBPe/HOx+ue9my2biGC2XgVtXYoImDcmFwhtscNRFDULzJju7YTmnG31ldDBNaRnqlBRHAmbJXbyPa4gQgcl4DthLoKBxG4In9yv4jAjzwU3Qvb4wYiKDpjU9q3nVBX4SACV+QRgR/ky+2F7XEDEZSbv1N7s51QV+EgAlfkEYEf5Mvthe1xAxGUmz9E4Jh36Lvn1FDoGR7EhwgCy7PthLrCw4zAFXlmBH6QL7cXtscNZgTl5q/yM4LVxYZcWVmSqytLcmVlWa60dHlZXlxZckyS3SuBh0+2ZH17Vx7v7Mn6tj535fH2nvS+MzfzrAYn/vno5DwhgmrUceZe2k5o5h1PWLExX5OrreFAnxj09TP9btxj0o1ebPSJNrIRGJ8dkSe7+7K+s9eXgpGDvj7Za2druOS1EAEiKLnk3O6ubBGcnzsnFxcbstpsyEV9muXFwXs92tej/rSH3lFLB5D+0ebOnmwMX//wy5/LQm3ard/dsg59793ekfzx7/+Ua6sr8vILLXn5QkvWWkuyvDCfGrrOFFQOKoqtdkc29zuy1e4OXzuytd+R7e5B6egQASIovehc7tCmCFoL9ZOD+8hAv9pckAuNhUzhPt1rPx/s+wP/8FTDxs7e2O3fe/M1+dVPfpSpbVYqhsDf/v0f+fCzL081riJQIZinns4zy5MkYRpSWagQNtvdviwGy+a123+vn7cP7c0LEQEiKOZX4mmr7977Rhbnaxme87JYm7ze3Llsf9NJj/DMj3f0CNCcQjg8mv2cssrgrVdeSj195GkKKt+tzmFPPv3q67ESmBbcOEm8uNyUlYW6tBp1Wa6nzyZG21ZhqAxOPXsnP9P+Pl9n5Dvz+d2bl6d1PervbR5AKkguFrsup0tvWOuB/oi+P2IbHKmZI7fktL9qFw6tAaKhmQnowcVKoy4621Q5DJYXxnw2+E7XOT83N/N+Tm3w9PP8bQTcAiIILLm9i69bO4pigA+sOCoajl4ras7PS7NeG7zqjDex3KwPP5uviVk26+vsWJfnt76oaPTldBsRlMO5tL3YTmhpHWdHECiQANcIuEZQYHn51zQi8C8n9Mg9AUSACNxXYYk9QAQlwmZXlSGACBBBZYrVRkcRgQ2KtBEaAUSACEKr6YnxIIKo0k2wGQkgAkSQsVTCWA0RhJFHorBLABEgArsV5XlriMDzBNE9JwQQASJwUniudooIXJFnvz4TQASIwOf6tN43RGAdKQ0GQAARIIIAyjh7CIggOyvWjIcAIkAE8VR7AbeciwoewQZLABEggmCLe1xgzAiiSjfBZiSACAITwZ0ba9KoZfvzyBlrJJjVOr1juXV/I5h4CAQCtggwbqSTLGLcKPzPUL//6gW5ea1pqz6Caufeo325/eBZUDERDARsEGDcSKdYxLhRuAg0HE3q9auLzAyGuVWjf/K4jQRsjBi0ESwBxo2TqS1y3ChFBMFWKoFBAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIAAIgggiYQAAQhAIA8BRJCHHttCAAIQCIDA/wGVHfyzpOamDwAAAABJRU5ErkJggg==",Te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQIAAABqCAYAAABXn1/TAAAAAXNSR0IArs4c6QAACL1JREFUeF7tnc1vE0cYh98k/kqIA1SqCBVQuPRQceZGTwXl0DMcWqlI/YP6F6BSUQ6c6aFqe6jKqVQIqUIceoAKIYIamhTnw3bikGpsT5mYXYd4Z2dnZh9L1n55Zt75ve/7eHZs7UxduXlnT3ihAAqUWoEpQFBq/9N5FOgrAAgIBBRAAUBADKAACjAiIAZQAAW4NSAGUAAFmCMgBlAABZgsJAZQAAUGCvCrAZGAAigACIgBFEABRgTEAAqgALcGxIDvCnz18VH55INZaVSmfDfViX2d3p78+rwt1x+9stoecwRW5aQymwooCFw+M2ezymjq+vHpllUYAIJoQiO+jnz76SIjgRS3qpHBlz+/sOZ0QGBNSiqyrcDtpZO2q4yqvqs/LFvrDyCwJiUV2VYAEIxXFBDYjjjq81IBQAAIvAxMjHKrACAABG4jjta8VAAQAAIvAxOj3CoACACB24ijNS8VAASAwMvAxCi3CgACQOA24mjNSwUAASDwMjAxyq0CgAAQuI04WvNSAUAACLwMTIxyqwAgAARuI47WrCgwX6tKs1GThXpNZqsVqVfUe0YalZm39gfnBuff7KvPDsqod2X1gRW7Yq2EvxjH6lmP+jUzPd1P6IVGTZrDrTrW+816vX/NPDc9ZfmZAS/ve6SIf6YAAv98EqRF6lt7sXlETjTn+tvF+Tf77801Dt2nTm9X1jtdaXW3ZXN7R7q9XVHnur3ecKuOe4PzO8Pt8HrSZ29dPnFoG8pUwGsQXLtwXi6eOyWNaqVMPim8ryqx7j55JjfuPdxnixquD5L9iCwOE17vH23Ux9q9tb3TT+pWZ3u4HSS5Ol7vb7vGtW3Z3t21qgNzBIHOESgIXProrNVgoLLDKfDoxUt5utaSM8ea8uHxBRmX7P+2u7KyuSUrG+1927+Hxzu7rw/XuOVPA4JAQXD96hIjAcvJMEl15ljs8eoredHa9DLRD+obIAgUBLe++Owg33LdgQLf/PaHPP7nlSgIhPwCBIAg5Pgt3PbPv/u+cBtsGAAIAIGNOCptHYCgHK739lcDbg38CEBA4Icf8rYCEOStcOD1A4LAHfiO5gOCdxSqrB8DBOXwPCAoh58n7iUgmFi6oAoCgqDc5d5YQOBe8yJaBARFqB5Qm7GAgCXP0oPO6yXP+NXAD1rEAgIWQU2PJ68XQQUEgMC2AiyLvl/RIJZFBwS202Cy+mIZEUzWe0pNooDVRVABwSQusF8GENjXNPYaAUGEHgYEETo15y4BgpwFLqJ6QFCE6mG3CQjC9l+i9YAgQqfm3CVvQaAerrEnIod9+NW0iKh3T0RmREQ9TlPtF/0a1x/bdgKCor0dXvuAwJHPAIEjoWlmIgUAwUSyHb4QIDi8ZpRwp4D3IDCflG8O8fUtgJZKXxt3a5BWxpRbDdPVS9+SjDserU896lM/7lMnvrJf3eLora7XfK6gvm7rFoZbA3cJFEtLXoNAiayTw/xG1QmoE8+8x04DwbgypjPN8uq8TljTDt2uupZkgy5nznGY9o/OCYy2kTW4AEFWBctX3msQmIlkfjOPfkvrxNPfxkmThaPJNwoG0/U6wdU5PSJRtqiXrnsUGKYNyg4TEqNgGL1NYLKwfInnW4+DBUHS4loHgcAc8o8DgQZNmrPU8D4pec3kPwgE5m1EElSyBAojgizqlbNssCAwkzptaG8m62FGBCoxR0cC6li9dQIzIihnwsTa6yBBMPptbh6bw/ekuYO0e/okmIzOUZjHo7cCSff9SZOHSaMJ5ghiTa9w+hUkCHSyKwDoV9I3ddooQJcZN0ufNEk4+geng341SAOBal/bpvb51SCchInVUm9BEKvgLvrFHIELleNqAxDE5c9+bwBBhE7NuUuAIGeBi6geEBShethtAoKw/ZdoPSCI0Kk5dwkQ5CxwEdUDgiJUD7tNQBC2/6IfEfDw0v0u5uGlESZsXl2KZUTA48zTI4THmeeVPRHVGwsIWOAkPShZ4CSihM2rK7GA4PbSybwkiqJeljyLwo35dQIQ5KetTzUDAp+84aEtgMBDp+RgEiDIQdSYqgQEMXkzvS+AoBx+nriXgGBi6YIqCAiCcpd7YwGBe82LaBEQFKF6QG0CgoCclcFUQJBBvDIUfbyyJsutDXm+vinLLfXekOetTem91g9zC0MFfj4c7ydAEEYcF2al+ah004iVjS1ZXt/sQ0HDQW1XNtuF2TquYUAQKAiuX12SRjUtDL2MteiM6vZ25etffpczxxfk9LGmnD7alMXmEZmvV1P7qkYKCg4KFGvtjqxudWSt3R1uO7K21ZFWd9u5VoAgUBBcu3BeLn101nnA0OAbBX768y+5ce/hW5IoECgg6PdJY38cJHRFChYKCKvtbh8Wg3297faP1fn2jq1lWkQAQaAgUGYrGFw8d4qRgWM6dXZ6cvfJs0QIHGRKEiTen5+ThXpNmo2azNfSRxOjdStgKBi89e7tP6fs/f8zI9f0+VuXTxxkeqmveztHUGqvRNz56akpWWjUpFmv9eEw2K8nnBtcU5+ZmTYfLTuhOC/vT1iwHMUAQTn8HHQv65UZmatWZa5WGWyrFZk19udqw3PViuh9/flZda5alerag6A1yNt4QJC3wtTvhQLMEQQ8R+BFBGFEFAoAAkAQRSDTiWwKAAJAkC2CKB2FAoAAEEQRyHQimwKAABBkiyBKR6EAIAAEUQQyncimACAABNkiiNJRKAAIAEEUgUwnsikACABBtgiidBQKAAJAEEUg04lsCgACQJAtgigdhQKAABBEEch0IpsCLHmWrp/XS55lczulUWC/AiyCmh4RXi+CSiCjgG0FWBZ9v6JBLItuOwioDwVQwI0CU1du3tlz0xStoAAK+KoAIPDVM9iFAg4VAAQOxaYpFPBVAUDgq2ewCwUcKgAIHIpNUyjgqwKAwFfPYBcKOFQAEDgUm6ZQwFcFAIGvnsEuFHCoACBwKDZNoYCvCgACXz2DXSjgUIH/AByqmHXYuhnoAAAAAElFTkSuQmCC",Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP4AAAB4CAYAAADSf0+UAAAAAXNSR0IArs4c6QAACOdJREFUeF7tnc1vG0UYh98kTmI7H1WiQElVISohDtADVUUPSEUcAPXAuUhQiUo9cOf/QSoqHHIuh6rlRG89Vxx6aYUqklKUQGLHdmM3aDaesNns+mMzO5nZeSxZ9tq7M+/7+73PzK4TzU5cv3N3X3igAAoEpcAE4AflN8miQKQA4FMIKBCgAoAfoOmkjAKATw2gQIAKAH6AppMyCgA+NYACASoA+AGaTsooAPjUAAoEqADgB2g6KaMA4FMDKBCgAoAfoOmkjAKATw2gQIAKAH6AppMyCgA+NYACASoA+AGaTsooAPjUAAoEqADgB2g6KaMA4FMDKBCgAoWAf+v9M/LJuZpUKxMBSno85XZ3X377syU//P4veqCAEwoYB19B/8XbdSeScy2I+3/sAr9rpgQaj3Hwf/zsLWb6jGJSM/+3v24EWmqk7ZICxsFfu7bqUn7OxfLVvXXnYiKg8BQAfMueA75lwekuVQHAt1wYgG9ZcLoDfBdqAPBdcIEYmPEt1wDgWxac7pjxXagBwHfBBWJgxrdcA4BvWXC6Y8Z3oQYA3wUXiIEZ33INAL5lwemOGd+FGgB8F1wgBmZ8yzUA+JYFpztmfBdqAPBdcIEYmPEt10Bv+ZJ0ej3pdHvyqtsb/r6/b7R/4n2jsyebrbb80+pYzoLufFcA8G07uHLZeI/7+/uy2erI1m5btlpt2Tzy2jn8rPlqz3jfNOinAoBv2bev77+Q2cqUzE5NRa8zsffRdv9zvU/0fcY+Z6qzslyvytzM9EhZqDOGg0HhYJBQZwsvG7uyvtOU9e2m/NXYHakddvJfAcC37GER1/hqsFADgHou1Q5el2tVWaofDAwH76tSmZwcmG3v9X5/EGgcDgYb0aDQiAaL5OPmlYty9cJ5qU5XLKsYdnftva48fPpcbj96nFsIwM8tXb4DiwB/1EgWqzOHg4AeDM7O1+XsQl3enK9Hg0bWQxWbPjNQr++uLMkHqyujds1+BSjw4Mmz3PADfgGGDGryNMEflqo6c1ADgB4I1KAQ31bf60d3WGN8X7gCajC+tXYvVz+An0u2/Ae5DP6wrNQZgR4Ivvv4w2G7870FBb756ZdcvQB+LtnyH+Qz+PGsf77xZX4RONKYAoBvTMpiGwL8YvUNrXXA98RxwPfEKE/CBHxPjAJ8T4zyJEzA98QowPfEKE/CBHxPjAJ8T4zyJEzA98QowPfEKE/CdAZ8bqGVXTFluoUWf85zY2RwBnxumpldEGW6aSbgA/4xBbhN9lFJynibbMAHfDcUIAqrCgC+VbkzO3PmVN8NOYiiaAUAv2iFR2sf8EfTib0MKQD4hoQ8YTOAf0IBOXw8BQB/PL2K2hvwi1KWdlMVAHw3CgPw3fAhmChMgq8W7toXkd6Y6qmFxNRTLQqilgiZ6L8fsxnjuw/Kx3ScgG/cPhocpADgZ6sD+LBTWgUAH/BLW9wklq1AEeCrU3X9iK/pp0/pk98NOtXPOiaekV5BUF9iDNpOtvdaRNRTPfQMr+JXlyz6VbcbX4NYf29qzUJO9aHUqgKmwVfBaxjip8oaOA1a/Bo5C/xBx8RFih+vAU7GoftVMaXFEAc/Drr+zSJ5Ta8HAcC3Wq50ZkoB0+DHf9yLz7zJWViDpmfbtB/3krAlB4K4Bhpo9Zk+41CxqIduOzlAxGNQccQHheRAkLze58c9UxVIO6eigE3w45cAOtlh4Kv99Aw8CPz/FwxPl1G1kQZrHPZh4McvC9IGkZMYyKn+SdTj2LEVsAl+HOKsU/U4nOPM+ArE5EyvttVTA8uMP3Z5cEBZFbAFfnK2jm/HT8fTrv2zrsnTBo/ktX18O3lqn3bdnvZjX9rZAtf4ZSUikLxsga/hjt/1L20mzprltR2DfkxLwpj2d/hhv+pnga/617Gp9/yqHwggZU3TJPhl1chGXlzj21CZPg4VAHw3igHw3fAhmCgA3w2rAd8NH4KJAvDdsBrw3fAhmCgA3w2rnQKfxTaPFgWLbboBSRmjcAZ8ltfOLi+W1y4jeqebkzPgc0ON7ELghhqnC0kZe3cG/LVrq2XU11hO3ELLmJQ0JCKA70kZAL4nRnkSJuB7YhTge2KUJ2ECvidGAb4nRnkSJuB7YhTge2KUJ2ECvidGAb4nRnkSJuB7YhTge2KUJ2ECvidG+Qb+Uq0qq4tzcm5xTlYX52V1Qb2flzcW5zxRvNxhAr4n/roIfnW6IucW+mDHIFefqe/SHqZWifXENmfDBHxnrTkamG3wpyYnZLlWlaV6VZbVU7+vHWyr2VzN6lkPtWLM+nZD1rebsr7TlI3+6/effiSzlWFLVXpiiqdhtve6cmvtXq7oJ67fuatXE87VQPIg/nNvsIwmwV+YnTkKcwLspfqsnKnOjuTr383WIdwR6DvNaHtjp5l6/M0rF+Xz994ZqW12KkaBB0+eye1Hj3M1Dvi5ZMt/0I37L6Q2XRnhOS21yuD9JifSFp4+Htt255Vs7bZlq9WWzei1039ty8vGbgT5Xk8vWD16bgr+qxfOZ14OjN4Se46jgJrpHz59nht61Rfgj6O4iX1XLptoJWqjtdeNYFZQb7Y6/deD7Tjk3dfjQ20sSBpyUgHAt2xLd/lSBOyxZ/foZ2pUP9wn8Z3+HKAtm1ei7gDfspkmr/Eth053JVIA8C2bCfiWBae7VAUA33JhAL5lwekO8F2oAcB3wQViYMa3XAOAb1lwumPGd6EGAN8FF4iBGd9yDQC+ZcHpjhnfhRoAfBdcIAZmfMs1APiWBac7ZnwXagDwXXCBGJjxLdcA4FsWnO6Y8V2oAcB3wQViMD7jcwut7KIq0y20QMdvBYyDz00zswuiTDfN9Lvsid44+EpSbpN9tLDKeJts0PFbgULA91sSokeB8isA+OX3mAxR4JgCgE9RoECACgB+gKaTMgoAPjWAAgEqAPgBmk7KKAD41AAKBKgA4AdoOimjAOBTAygQoAKAH6DppIwCgE8NoECACgB+gKaTMgoAPjWAAgEqAPgBmk7KKAD41AAKBKgA4AdoOimjAOBTAygQoAL/AS2Lt91fUaAXAAAAAElFTkSuQmCC",Yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAACaCAYAAAAXSfK9AAAAAXNSR0IArs4c6QAACDtJREFUeF7tnTFvHUUURscQIwNSUDpAEThNCpQ6UoqkwmCJ1HFBJCL8I+hA0PEjjIIIhWkJUoKpkgIpdUSRJgZFQBcRCbCwIWiMJ9osu+/O7rvv7p3dY8kiZt7OzJ7vvO+NLfl56dIXXz8OfEBgYgSWEH9iiXO7hwQQHxEmSQDxJxk7N434ODBJAog/ydi5acTHgUkSQPxJxs5NIz4OTJIA4k8ydm4a8XFgkgQQf5Kxc9OIjwOTJID4k4ydm0Z8HJgkgaLFv3L2TDh/6mRYWT42yfCGuum9/YNw+/6DcPXO3aG2MPe6xYofpV87vTo3ACboT2Dn3m6x8hcr/tbGOk3f31mVK2Pzb27fUJnLepJixf/y8kVrVqzXQODda9eL5IL4RcbmZ9OIb5wFjW8MvGU5xDfOAfGNgSO+D+CI7yMHGt84B8Q3Bk7j+wCO+D5yoPGNc0B8Y+A0vg/giO8jBxrfOAfENwZO4/sAjvg+cqDxjXNAfGPgNL4P4IjvIwca3zgHxDcGTuP7AI74PnKg8Y1zQHxj4DS+D+Ca4sdfXIx/Fubvjrf2TAghfh6EEJ6Nf2zg6N8dp1F/+Kz70d4nja8e3+wJEb+dD+LLMvKLKCEEGl8Wpe0RNH5/dr2uXETjx6NK+ojHl/SRjjT1sVlHnbZrqjcbjx3xIx2xZn1dn++fEEL8jB/piRv3H49s6b9p3up7UKTx6v31CuDoIsSfh16Pa7XFj1tIMlRfAZJwSbTqGblN/FnXVG+1en0SuL6PtG7cU9MequJXRU/fs9TP9OlJgPiF/rlPbfGr39xWm7fewkm01LZN39zWZas/EaryJ6Hj/0uvOOnvr6a560+Q6h7iPqpPivoToX6M45vb/+hzxm8449fFrx6BkrSS+NUjzCzx01ptL3qxxZtkrcouiV89FjU9iXq84D65hKPOPPR6XDtk46ftth11ujR+nKPe9PHr+JmEpfF7CCJcQuMLjV9v6+rXkW3TUSf3jJ+uj4+vn+2rX9ePNk3n9qZvdpteLTjjc9R50glN5+Cmo0r1mBNFm/enOmm+uoxNP16VfqrTJn5cIz1R4r/5qQ7i679+TnBGzvjGoWue8Y23PqrlEN84TsQ3Bt6yHOIb54D4xsAR3wdwxPeRA41vnAPiGwOn8X0AR3wfOdD4xjkgvjFwGt8HcMT3kQONb5wD4hsDp/F9AEd8HznQ+MY5IL4xcBrfB3DE95EDjW+cA+IbA6fxfQBHfB850PjGOSC+MXAa3wdwxPeRA41vnMPWxnpYWa6+Y4zxBlgu7O0fhM3tG0WSKPZ3bq+cPRPWTq8WCX0sm965txuu3rlb5O0UK36kHeU/f+okzW+sXmz62/cfFCt9xFW0+MZ5qy63ffni4Xwb166rzstkeQQQP4+T+qMQXx1ppwkRvxMuvQcjvh7LPjMhfh9qCtcgvgLEOaZA/DngzXMp4s9Db/5rEX9+hr1mQPxe2NQuQnw1lN0mQvxuvLQfjfjaRDPnQ/xMUAt6GOIvCKw0LeJLhBY7jviL5ds6O+IPBP5oWcQfiD/iDwQe8YcFj/jD8qfxB+KP+AOBp/GHBY/4w/Kn8Qfij/gDgafxhwWP+MPyp/EH4o/4A4Gn8YcFj/jD8qfxB+KP+AOBH3vjv/jccvhw7VxYPXF8WMKFrr778FH4ZOf78Ptf+4Xewextj7LxkV7H1THLP0rxP33nwmHT//jwUfh4xK2lo/f/Z4nF8dHaufD6ieMhyv/BN7cWtdRg845S/HR+fv+rm6N9qV60MVH+zy69fbjMGN8JYtTijzGwRQtfnX/M34AjvqVJha2F+ARWGAGd7SK+DkezWcYcmBnEEMKYOXLUsTSpsLUQn8AKI6CzXcTX4Wg2y5gDM4PIUccStc5aiA9HiQBnfInQhMfHXCCIP2GxpVtHfImQs/ExB2aJeswcaXxLkwpbC/EJrDACOttFfB2OZrOMOTAziPw40xK1zlqID0eJAGd8idCEx8dcIIg/YbGlW0d8idDR+OYbL4ULrz4fVo4tZV4x7oftHTwOt37+M2z98FunG4Xj07j6cpwFXa3xY1hvvfZCp4Cn8uBvf/ojW344tlvRhaPklpr4n7/5Mk3fQjs21nvf/SplcTgOx3ZMXThKsNXE315/RVpr0uMbN37Jun84zsaUy1GCjfgSIaXx3MAQH/GVlPMxDeLr5JDLUVqNxpcIKY3nBkbj0/hKyvmYBvF1csjlKK1G40uElMZzA6PxaXwl5XxMg/g6OeRylFaj8SVCSuO5gdH4NL6Scj6mQXydHHI5SqvR+BIhpfHcwGh8Gl9JOR/TIL5ODrkcpdVofImQ0nhuYDQ+ja+knI9pEF8nh1yO0mo0vkRIaTw3MBqfxldSzsc0iK+TQy5HaTUaXyKkNJ4bGI1P4ysp52MaxNfJIZejtBqNLxFSGs8NjMan8ZWU8zEN4uvkkMtRWo3GlwgpjecGRuPT+ErK+ZgG8XVyyOUorUbjS4SUxnMDo/FpfCXlfEyD+Do55HKUVqPxJUJK47mB0fg0vpJyPqZBfJ0ccjlKq9H4EiGl8dzAaPzCGp+3vmsPrMtb38FRh6PUV2qNz5udtqPu8mancNThaCZ+XIi3t34ad9+3t4ajDsdZ8qs1vvQMYxwCngggvqc02IsZAcQ3Q81Cngggvqc02IsZAcQ3Q81Cngggvqc02IsZAcQ3Q81Cngggvqc02IsZAcQ3Q81Cngggvqc02IsZAcQ3Q81Cngggvqc02IsZAcQ3Q81Cngggvqc02IsZAcQ3Q81Cngggvqc02IsZAcQ3Q81Cngggvqc02IsZgX8By16ntbvAZ+YAAAAASUVORK5CYII=",hi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAACiCAYAAAAdvGwEAAAAAXNSR0IArs4c6QAACIhJREFUeF7tnbGPVFUUhy8KBjXB0KkhCg2FoSahgMpVEq3ZQhOJ/A+WGi39HzAYtVhbNQHXCgoTamJBAxqidkQSlcgq5k648fGcN3POe+fM3Hvmm2QDC+edd+/3++ZwZ5Id9p377KuHiQcEAhPYh+SB02VrMwJIjgjhCSB5+IjZIJLjQHgCSB4+YjaI5DgQngCSh4+YDSI5DoQngOThI2aDSI4D4QkgefiI2SCS40B4AkgePmI2iOQ4EJ4AkoePmA0iOQ6EJ4Dk4SNmg0iOA+EJIHn4iNkgkuNAeAJIHj5iNojkOBCeAJKHj5gNIjkOhCeA5OEjZoNmkl945bl05sWn08H9+6CaUrq/9zBd/fnPdPGH31Q84Pg4rrEcu11MJM/BvPbSM6owN6X425/+EIsOx2ErNBz7XUwk//TV55ngA/nkSfTOd7+KntNwHMak4egi+c7ZF0QhbmrR9uVfRFuH42JMUo5ILtLNtkgaDpIjua15K+yG5DawpRyZ5Da8VV2k4TDJmeQqsWoqRnKbNKQcmeQ2vFVdpOEwyZnkKrFqKkZymzSkHJnkNrxVXaThMMmZ5CqxaipGcps0pByZ5Da8VV2k4TDJmeQqsWoqRnKbNKQcmeQ2vFVdpOEwyZnkKrFqKkZymzSkHJnkNrxVXaThMMmZ5CqxaipGcps0pByZ5Da8VV2k4TDJmeQqsWoqRnKbNKQcmeQ2vFVdpOEwyZnkKrFqKkZymzSkHJnkNrxVXaThMMmZ5CqxaipGcps0pByZ5Da8VV2k4TDJmeQqsWoqRnKbNKQcmeQ2vFVdpOEwyZnkKrFqKkZymzSkHJnkNrxVXaThMMkrnuR8vNlwOJqPN4OjDUeXSc4HVQ6Ho/mgSjjacHSRPDflI4cfRzv2I4fhaMOx28XkU21VB1Tn4p2335zdYfvzr53vFLt9JI5IHtvV0btD8tHo/C+MFI4/reE7ROLIJF+nSRXfG8kJp2ICNktDchuOLl0iheMCSNg0EkeOK8LQN60MyStOPFI468QciSOTfJ0mVXxvJCecignYLA3JbTi6dIkUjgsgYdNIHDmuCEPftDIkrzjxSOGsE3MkjkzydZpU8b2RnHAqJmCzNCS34ejSJVI4LoCETSNx5LgiDH3TypC84sQjhbNOzJE4MsnXaVLF90ZywqmYgM3SkNyGo0uXSOG4ABI2jcSR44ow9E0rQ/KKE48UzjoxR+LIJF+nSRXfG8kJp2ICNktDchuOLl0iheMCSNg0EkeOK8LQN60MyStOvITz7pdX0u9/Pah4pfUu7dmnDqRPzr0+W2CEj9sLN8k/fuNMevnwoXT77r300e73iK58LmXB3986lY4ePpR+vHsvvffNVWWH+srDSZ5D+mDr1Ex0HuMJZME/DDIkwkmeY0X08XLnKyMJnvcTUvJpEftfHelFnT+t6XdA8ukM1R2QXI1s0gVIPgnfuIuRfBy3sVch+VhyE65D8gnwRlyK5COgTb0EyacS1F2P5DpeJtVIboJR3ATJxajsCpHcjqWkE5JLKBnXILkx0CXtkHy1vGd3Q/LVQm9W8vMnT6TTx46kgwf2r5bYht/t/oO9dO3WnXTp+o1mSDQpeRZ86/jRZiBHXOjuzdvNiN6k5Be3zzLB1/zMyRP9ws7lNa9CdvsmJf/i0X8tLtsiVV4E3mrkv3ZHci8DNqAvkjuGzCR3hKtojeQKWNpSJNcS86lHch+us65I7ghX0RrJFbC0pUiuJeZTj+Q+XJnkjly1rZFcS0xRzyRXwHIsRXJHuEjuCFfRGskVsLSlSK4l5lOP5D5cOZM7ctW2RnItMUU9k1wBy7EUyR3hIrkjXEVrJFfA0pYiuZaYTz2S+3DlTO7IVdsaybXEFPVMcgUsx1Ikd4RrKXn+4bmHKaW/let9IqWUv/ZSSk/mD5V89HtlG/PyRfuxXieSm8f3X0MkH4aL5P9ns/E/NMEkHz+NmOTj2S290mOS5+NGeeQjSHmUY0n/7xYdV4au6W4sHx3yoxyTFn3f7/dPSil/5Ud5kub152NX+bX07X6WQfn77v6Wwl5QgORT6C251lryfLsSfHeyF7mKVN0z7ZDki67pbqt7fZG1v45y37ymeWvoSt6VurzG6J/Bi/BI7iinVWtrybsvPLsTtT9di1Rlis574dkXqy99l0GRN/9Z+ZckryU/Su/+k6G7hryO7hOgL33/KMYLTysDV9BnlZJ3jzFla8sk7x5DFklenkRDyPJ0nidmV+xlknePNvOeMFPi4rgyhd6KjyuaSV6WNnRc0Uzy3KM/wfP3+avIySSfLhLvrvTeJ+8eUfpTuPt990gx76w+dIaedy7vn8W73/ePJ/PO2fNeiM77V4Az+fQnzMo6rOq4UkTOcnePKlmqqe+ulH598ea9pbns3ZUhyfM9ypMi/553V1am6PQbWUo+fTWb24EzuWP2SO4IV9EayRWwtKVIriXmU4/kPlxnXZHcEa6iNZIrYGlLkVxLzKceyX24MskduWpbI7mWmKKeSa6A5ViK5I5wkdwRrqI1kitgaUuRXEvMpx7JfbhyJnfkqm2N5FpiinomuQKWYymSO8JFcke4itZIroClLUVyLTGfeiT34cqZ3JGrtjWSa4kp6pnkCliOpUjuCBfJHeEqWiO5Apa2FMm1xHzqkdyH66zrxe2z6eCB7ieKON6M1nMJ3H+wly7sXG6CTpM/43n+5Im0dfxoE4CjLnL35u106fqNJrbXpOSZbBb99LEjTPQVa5Yn+LVbd5oRPONpVvIVZ8vtGiaA5A2Hx9JlBJBcxomqhgkgecPhsXQZASSXcaKqYQJI3nB4LF1GAMllnKhqmACSNxweS5cRQHIZJ6oaJoDkDYfH0mUEkFzGiaqGCSB5w+GxdBkBJJdxoqphAkjecHgsXUYAyWWcqGqYwL+z69sVVT35fQAAAABJRU5ErkJggg==",$t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAC2CAYAAAD++rlsAAAAAXNSR0IArs4c6QAAC/JJREFUeF7tnc2rHEUQwDtqJCoofn+gEi9BJHgRAx70ZDSgRzWIAYX8IaI38Z5bJKI5BL2ZSDBeVDAgCioikoOJGvwAJSiowUSf9JLRybKzu9XVVdM9/Vt4mJfXVd3z65qfNbObeZueeu2tjcALAhCAQCKBTUgkkRxhEIDAjAASoRAgAAEVASSiwkcwBCCARKgBCEBARQCJqPARDAEIIBFqAAIQUBFAIip8BEMAAkiEGoAABFQEkIgKH8EQgAASoQYgAAEVASSiwkcwBCCARKgBCEBARQCJqPARDAEIIBFqAAIQUBFAIip8BEMAAkiEGoAABFQEkIgKH8EQgAASoQYgAAEVASSiwkcwBCCARKgBCEBARQCJqPARDAEIIBFqAAIQUBFAIip8BEMAAkiEGoAABFQEkIgKH8EQgAASoQYgAAEVASSiwkcwBCCARKgBCEBARQCJqPCtF/zcju3hwbtuD1s2X7ZeAKOyEDh77nz44OTpcOCjL7LkI8liAkjEuDKiQHZu22o8C+mXETh24hQiMSwRJGIIN6bev3sXHYgx41XpY0ey99DRVcP4eSIBJJIIbt2wg3seX3co4wwJPPP6YcPsbadGIsb7j0SMAa+ZHomsCSphGBJJgCYJQSISWnZjkYgdWyRix3aWGYkYA14zPRJZE1TCMCSSAE0SgkQktOzGIhE7tkjEji2diDFbSXokIqElG4tEZLzEo+lExMhMApCICdZZUiRix5ZOxJitJD0SkdCSjUUiMl7i0XQiYmQmAUjEBCudiB3W/zMjEQ/Kq+dAIqsZpY6gE0klt2YcElkTlPEwJGIHGInYseWeiDFbSXokIqElG4tEZLzEo+lExMhMApCICVbuidhh5Z6IB1vJHEhEQks2lk5Exks8mk5EjMwkAImYYKUTscNKJ+LBVjIHEpHQko2lE5HxEo/O2YnEhytuhBD+Fq7ikhBC/DofQrg0fsLwwp+FabIPX3Y8udeJRLJv338JkYgd21lmJDIMGIkYF59TeiRiDBqJIBHjEhs9PRIx3gILicTLke4VL1G6V3fZMv+zZZczQzF9LPHSIr66y6hl38/n+yeEEL/iq+s84vrjZVn33y5v/1n43c/7x6fZKi5nNPSWxyIRO7YmlzMxaXdi9S8HupO3O2n79xSGJLIspo+lH9/JYH4d3bxxTYvW0JdIXxrdPZ75eyCdUJCIcYFmSI9EMkBclsKiE1nUEcx3B91J23UBi26szp+481LpH1cnh/h3XScUBRBfXe552fTXENfRF8y8VObvj3Bj1bgwM6ZHIhlhLkrlKZH+ZU63llUSieM6KS2TSCepIVwxx6ITvy+OVRLpX/osEpJmq7ic0dDjcsaO3hqZPSXSF8LQ5Uj/RJd0IvGknu9A4vfxqzv56UTWKIgJDqETMd5UL4nMdxH97/uXHIvulQzdw1gkovh3/Xsy/e/nL18W3edYdKN1URfDPRHjwsyYHolkhDnm5UwniiiP/qVMPGm17850+eZP7EWf81j17syQROIcnXTin3l3xrgwM6ZHIhlhWkvEeKmTTs89EbvtRSJ2bGeZc17OGC910umRiN32IhE7tkjEmK0kPRKR0JKNRSIyXuLRdCJiZCYBSMQE6ywpErFjSydizFaSHolIaMnGIhEZL/FoOhExMpMAJGKClU7EDuv/mZGIB+XVcyCR1YxSR9CJpJJbMw6JrAnKeBgSsQOMROzYck/EmK0kPRKR0JKNRSIyXuLRdCJiZCYBSMQEK/dE7LByT8SDrWQOJCKhJRtLJyLjJR5NJyJGZhKAREyw0onYYaUT8WArmQOJSGjJxtKJyHiJR9OJiJGZBCARE6x0InZY6UQ82ErmQCISWrKxdCIyXuLRdCJiZCYBSMQEK52IHVY6EQ+2kjmQiISWbCydiIyXePT+3bvCls3936giTkGAksDZc+fD3kNHlVkIHyKARIxr47kd28PObVuNZyH9MgLHTpwKBz76AkhGBJCIEdh+2iiSB++6nY7EgXV/itiBfHDyNAIx5o5EjAHXnv7Qnsdnh7D79cO1HwrrNyKARIzATiUtEpnKTtodBxKxYzuJzEhkEttoehBIxBRv/cmRSP17aH0ESMSacOX5kUjlG+iwfCTiALnmKZBIzbvns3Yk4sO52lmQSLVb57ZwJOKGus6JkEid++a5aiTiSbvCuZBIhZvmvGQk4gy8tumQSG075r9eJOLPvKoZkUhV2zXKYpHIKNjrmRSJ1LNXY60UiYxFvpJ5kUglGzXiMpHIiPBrmBqJ1LBL464RiYzLv/jZkUjxWzT6ApHI6FtQ9gKQSNn7U8LqkEgJu1DwGpBIwZtTyNKQSCEbUeoykEipO1POupBIOXtR5EqsJLL3nmvCQ7ddEbZctqnI4/Ze1NnzG+H97/8M+7/81Xtq9XxIRI1w2gksJBIF8sidV04bXOLRvfPtH9WJBIkkbnYrYRYSefXhW+hABgoodiTPvvtjVeWFRKraLv/FWkjk0K5b/Q+kohl3H/2hotWGgESq2i7/xSIRf+ZIxJ85MxoSQCKGcAdSIxF/5sxoSACJGMJFIv5wmdGfABLxZ04n4s+cGQ0JIBFDuHQi/nCZ0Z8AEvFnTifiz5wZDQkgEUO4dCL+cJnRn0AnkReOHQ9f/vRLlgXwOZHlGOlEspQZSUoh0Enkzc9PhDc+P5FlWUgEiWQpJJLUQaCTyO9/nQsvHjseTp35Tb1wJIJE1EVEgnoIdBKJK44iefurk7PLmm/O/Db7PuWFRJBISt0QUymBTiJRHPfcfH2eo/j5kzx5JpqFeyIT3dhWD6v/7sz9d9wS4teNV10R7r7punDJpsRngSCRpeWERFo92yZ63LzF67+xSMSfOTMaEkAihnAHUiMRf+bMaEgAiRjCRSL+cPsz8ozOi/lbPaMTifjXOZ2IA3Oe0TkMOfczOpGIQ0HPTYFEHJjzjM5hyLmf0YlEHAoaifhD5sNKy5nn/D8ZEvGv75z757H6Kp+xikSQiMfJMdYcSMSBPBJBIg5lNtoUSMQBPRJBIg5lNtoUSMQBPRJBIg5lNtoUSMQBPRJBIg5lNtoUSMQBPRKpWyK8Re/3Fr3D6Vjnb8BDIj4SueryzeGVpx4N/2xshKcPHslWj3xYcBhl7g8LZtu0JYl4i9eDsvMcudrh+PyQ53c+MHsIUXzGas4X/2zhYppW/2wh554N5UIiHpSd58glkSfv3RaeuHdbeO/r02Hfh586HwXT1UIAidSyU4J15pDI1muvDi899tBs1pxPehccBkMrIYBEKtkoyTI1EomXMPErdiHx9fF3P4aX3/tYMj1jGyOARKa44Tfcl+WookD2Hf8s+YHMWRZBkuIJIJHityhhgQqJxJuof/x1Lhy58FT3hNkJaYwAEpnghmsuZyaIg0MyJoBEjAGPkR6JjEG93TmRyAT3HolMcFMLPiQkUvDmpC4NiaSSIy6FABJJoVZ4DBIpfIMmtjwkMrENjYeDRCa4qQUfEhIpeHNSl4ZEUskRl0IAiaRQKzwGiRS+QRNbHhKZ2IZyOTPBDS38kJBI4RuUsjw6kRRqxKQSQCKp5AqOQyIFb84El4ZEJripSGSCm1rwIVUpEZ7ROVxRuX+NZsG1y9IKIVClRHhG53D11PiMzkLOBZaRSKBKicRj5RmdF+94zc/oTKxdwgohUK1ECuHHMiDQPAEk0nwJAAACOgJIRMePaAg0TwCJNF8CAICAjgAS0fEjGgLNE0AizZcAACCgI4BEdPyIhkDzBJBI8yUAAAjoCCARHT+iIdA8ASTSfAkAAAI6AkhEx49oCDRPAIk0XwIAgICOABLR8SMaAs0TQCLNlwAAIKAjgER0/IiGQPMEkEjzJQAACOgIIBEdP6Ih0DwBJNJ8CQAAAjoCSETHj2gINE8AiTRfAgCAgI4AEtHxIxoCzRNAIs2XAAAgoCOARHT8iIZA8wSQSPMlAAAI6AggER0/oiHQPAEk0nwJAAACOgJIRMePaAg0TwCJNF8CAICAjgAS0fEjGgLNE0AizZcAACCgI4BEdPyIhkDzBJBI8yUAAAjoCCARHT+iIdA8ASTSfAkAAAI6Av8CItIClCBjt54AAAAASUVORK5CYII=",ne=`<div
nochilddrag
class="nodeNav"
>
<ul class="nav">
  <li
    class="iconfont icon-jiahao"
    title="\u6DFB\u52A0\u65B0\u8282\u70B9"
  >
  <svg t="1684582120924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7047" width="16" height="16"><path d="M512 832a32 32 0 0 0 32-32v-256h256a32 32 0 0 0 0-64h-256V224a32 32 0 0 0-64 0v256H224a32 32 0 0 0 0 64h256v256a32 32 0 0 0 32 32" fill="#3E3A39" p-id="7048"></path></svg>
  </li>
  <li class="iconfont icon-beijing" title="\u6837\u5F0F\u8BBE\u7F6E">
  <svg t="1684579980796" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6380" width="14" height="14"><path d="M512 0c279.04 0 512 204.8 512 460.8a310.784 310.784 0 0 1-307.2 312.32h-92.672a19.456 19.456 0 0 0-19.456 18.944s0 5.12 6.144 11.264a121.856 121.856 0 0 1 31.744 84.992A132.608 132.608 0 0 1 512 1024a512 512 0 0 1 0-1024z m0 81.92a430.08 430.08 0 0 0 0 860.16 51.2 51.2 0 0 0 51.2-51.2 44.544 44.544 0 0 0-7.168-26.624l-7.168-7.68a102.4 102.4 0 0 1-24.064-64.512 102.4 102.4 0 0 1 102.4-102.4H716.8A228.864 228.864 0 0 0 942.08 460.8c-3.584-204.8-195.584-378.88-430.08-378.88z m240.64 261.12A117.76 117.76 0 1 1 633.344 460.8a117.76 117.76 0 0 1 117.76-117.76zM256 337.92a117.76 117.76 0 1 1-117.76 117.76A117.76 117.76 0 0 1 256 337.92z m496.128 87.04a35.84 35.84 0 1 0 35.84 35.84 35.84 35.84 0 0 0-36.864-35.84zM256 419.84a35.84 35.84 0 1 0 0 71.68 35.84 35.84 0 0 0 0-71.68zM536.576 153.6a117.76 117.76 0 1 1-117.76 117.76 117.76 117.76 0 0 1 117.76-117.76z m0 81.92a35.84 35.84 0 1 0 35.84 35.84 35.84 35.84 0 0 0-35.84-36.352z" fill="#4D4D4D" p-id="6381"></path></svg></li>
  <li
    style="font-size: 20px" class="iconfont icon-infenicon15"
    title="\u94FE\u63A5"
  ><svg t="1684582065139" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6063" width="16" height="16"><path d="M394.666667 298.666667a32 32 0 0 1 4.693333 63.658666l-4.693333 0.341334H298.666667a149.333333 149.333333 0 0 0-8.789334 298.410666L298.666667 661.333333h96a32 32 0 0 1 4.693333 63.658667L394.666667 725.333333H298.666667a213.333333 213.333333 0 0 1-10.666667-426.410666L298.666667 298.666667h96zM725.333333 298.666667a213.333333 213.333333 0 0 1 10.666667 426.410666L725.333333 725.333333h-96a32 32 0 0 1-4.693333-63.658666l4.693333-0.341334H725.333333a149.333333 149.333333 0 0 0 8.789334-298.410666L725.333333 362.666667h-96a32 32 0 0 1-4.693333-63.658667L629.333333 298.666667H725.333333zM298.666667 480h426.666666a32 32 0 0 1 4.352 63.701333L725.333333 544H298.666667a32 32 0 0 1-4.352-63.701333L298.666667 480h426.666666H298.666667z" fill="#212121" p-id="6064"></path></svg></li>
  <li
    class="iconfont icon-picture"
    title="\u56FE\u7247"
  ><svg t="1684580084601" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12006" width="14" height="14"><path d="M831.5 864 192 864c-53 0-96-43.1-96-96L96 128.1c0-53 43.1-96 96-96L832 32.1c53 0 96 43.1 96 96l-0.1 639.5C927.9 820.8 884.7 864 831.5 864zM192 96c-17.7 0-32 14.4-32 32L160 768c0 17.7 14.4 32 32 32l639.5 0c17.9 0 32.4-14.5 32.4-32.4l0.1-639.5c0-17.7-14.4-32-32-32L192 96.1z" p-id="12007"></path><path d="M128 672c-8.2 0-16.4-3.1-22.6-9.4-12.5-12.5-12.5-32.8 0-45.3L264.8 458c29.2-29.2 73.7-36.5 110.7-18l173.6 86.8c12.3 6.2 27.1 3.8 36.8-6l287.4-287.4c12.5-12.5 32.8-12.5 45.3 0 12.5 12.5 12.5 32.8 0 45.3L631.2 566.1c-29.2 29.2-73.7 36.5-110.7 18l-173.6-86.8c-12.3-6.2-27.1-3.8-36.8 6L150.6 662.6C144.4 668.9 136.2 672 128 672z" p-id="12008"></path><path d="M384 352c-52.9 0-96-43.1-96-96s43.1-96 96-96 96 43.1 96 96S436.9 352 384 352zM384 224c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32S401.6 224 384 224z" p-id="12009"></path></svg></li>
  <li class="iconfont icon-beizhu" title="\u7B14\u8BB0">
  <svg t="1684580113575" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13047" width="16" height="16"><path d="M768 160l-32 0L736 128c0-19.2-12.8-32-32-32s-32 12.8-32 32l0 32-128 0L544 128c0-19.2-12.8-32-32-32s-32 12.8-32 32l0 32-128 0L352 128c0-19.2-12.8-32-32-32S288 108.8 288 128l0 32L256 160C220.8 160 192 188.8 192 224l0 640c0 35.2 28.8 64 64 64l512 0c35.2 0 64-28.8 64-64L832 224C832 188.8 803.2 160 768 160zM768 864 256 864 256 224l512 0L768 864z" p-id="13048"></path><path d="M672 352 352 352c-19.2 0-32 12.8-32 32s12.8 32 32 32l320 0c19.2 0 32-12.8 32-32S691.2 352 672 352z" p-id="13049"></path><path d="M672 512 352 512c-19.2 0-32 12.8-32 32s12.8 32 32 32l320 0c19.2 0 32-12.8 32-32S691.2 512 672 512z" p-id="13050"></path><path d="M672 672 352 672c-19.2 0-32 12.8-32 32s12.8 32 32 32l320 0c19.2 0 32-12.8 32-32S691.2 672 672 672z" p-id="13051"></path></svg>
  </li>
  <!--
   <li class="iconfont icon-biaoqian" "></li> 
   -->
   <li class="iconfont icon-lianxian relatelink" title="\u5173\u8054\u7EBF" >
   <svg t="1684580239243" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="31304" width="16" height="16"><path d="M256 99.555556a105.244444 105.244444 0 1 0 0 210.488888 105.244444 105.244444 0 0 0 0-210.488888z m0 56.888888a48.355556 48.355556 0 1 1 0 96.711112 48.355556 48.355556 0 0 1 0-96.711112zM768 713.955556a105.244444 105.244444 0 1 0 0 210.488888 105.244444 105.244444 0 0 0 0-210.488888z m0 56.888888a48.355556 48.355556 0 1 1 0 96.711112 48.355556 48.355556 0 0 1 0-96.711112z" fill="#212121" p-id="31305"></path><path d="M691.2 483.555556v56.888888h-358.4a125.155556 125.155556 0 0 0-8.931556 249.969778l8.931556 0.341334h358.4v56.888888h-358.4a182.044444 182.044444 0 0 1-10.353778-363.804444L332.8 483.555556h358.4z" fill="#212121" p-id="31306"></path><path d="M691.2 176.355556a182.044444 182.044444 0 0 1 10.353778 363.804444l-10.353778 0.284444h-358.4v-56.888888h358.4a125.155556 125.155556 0 0 0 8.931556-249.969778L691.2 233.244444h-358.4v-56.888888h358.4z" fill="#212121" p-id="31307"></path></svg>
   </li>
   <li class="iconfont icon-gaiyao summary" title="\u603B\u7ED3">
      <svg  style="transform:rotate(90deg)" t="1684580387300" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="38079" width="14" height="14"><path d="M341.333333 85.333333v213.333334h384V85.333333H341.333333z m0-42.666666h384a42.666667 42.666667 0 0 1 42.666667 42.666666v213.333334a42.666667 42.666667 0 0 1-42.666667 42.666666H341.333333a42.666667 42.666667 0 0 1-42.666666-42.666666V85.333333a42.666667 42.666667 0 0 1 42.666666-42.666666zM42.666667 682.666667v213.333333h341.333333v-213.333333H42.666667z m0-42.666667h341.333333a42.666667 42.666667 0 0 1 42.666667 42.666667v213.333333a42.666667 42.666667 0 0 1-42.666667 42.666667H42.666667a42.666667 42.666667 0 0 1-42.666667-42.666667v-213.333333a42.666667 42.666667 0 0 1 42.666667-42.666667zM640 682.666667v213.333333h341.333333v-213.333333h-341.333333z m0-42.666667h341.333333a42.666667 42.666667 0 0 1 42.666667 42.666667v213.333333a42.666667 42.666667 0 0 1-42.666667 42.666667h-341.333333a42.666667 42.666667 0 0 1-42.666667-42.666667v-213.333333a42.666667 42.666667 0 0 1 42.666667-42.666667z" fill="#595959" p-id="38080"></path><path d="M170.666667 469.333333m21.333333 0l640 0q21.333333 0 21.333333 21.333334l0 0q0 21.333333-21.333333 21.333333l-640 0q-21.333333 0-21.333333-21.333333l0 0q0-21.333333 21.333333-21.333334Z" fill="#595959" p-id="38081"></path><path d="M170.666667 469.333333m21.333333 0l0 0q21.333333 0 21.333333 21.333334l0 170.666666q0 21.333333-21.333333 21.333334l0 0q-21.333333 0-21.333333-21.333334l0-170.666666q0-21.333333 21.333333-21.333334Z" fill="#595959" p-id="38082"></path><path d="M810.666667 469.333333m21.333333 0l0 0q21.333333 0 21.333333 21.333334l0 170.666666q0 21.333333-21.333333 21.333334l0 0q-21.333333 0-21.333333-21.333334l0-170.666666q0-21.333333 21.333333-21.333334Z" fill="#595959" p-id="38083"></path><path d="M512 298.666667m21.333333 0l0 0q21.333333 0 21.333334 21.333333l0 170.666667q0 21.333333-21.333334 21.333333l0 0q-21.333333 0-21.333333-21.333333l0-170.666667q0-21.333333 21.333333-21.333333Z" fill="#595959" p-id="38084"></path></svg>
   </li>
   <li class="iconfont icon-xuxiankuang boundary" title="\u5916\u6846">
   <svg t="1684580470731" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="42569" width="14" height="14"><path d="M64 127.619858 64 127.619858 64 896.380141C64 931.452058 92.530723 960 127.619858 960L896.380141 960C931.452058 960 960 931.46928 960 896.380141L960 127.619858C960 92.547944 931.46928 64 896.380141 64L127.619858 64C92.547944 64 64 92.530723 64 127.619858L64 127.619858ZM0 127.619858C0 57.137357 57.24888 0 127.619858 0L896.380141 0C966.862643 0 1024 57.24888 1024 127.619858L1024 896.380141C1024 966.862643 966.751117 1024 896.380141 1024L127.619858 1024C57.137357 1024 0 966.751117 0 896.380141L0 127.619858 0 127.619858Z" fill="#666666" p-id="42570"></path></svg>
   </li>
   <li class="iconfont icon-shanchu deleteNode" title="\u5220\u9664">
   <svg t="1684580492065" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="43605" width="16" height="16"><path d="M909.050991 169.476903l-217.554898 0 0-31.346939c0-39.5866-32.205493-71.792093-71.793116-71.792093L408.15591 66.337871c-39.5866 0-71.792093 32.205493-71.792093 71.792093l0 31.346939L113.349581 169.476903c-11.013845 0-19.942191 8.940626-19.942191 19.954471s8.928347 19.954471 19.942191 19.954471l84.264149 0 0 640.687918c0 60.479443 49.203632 109.683075 109.683075 109.683075l416.474366 0c60.479443 0 109.683075-49.203632 109.683075-109.683075L833.454246 209.385844l75.595722 0c11.012821 0 19.942191-8.940626 19.942191-19.954471S920.063813 169.476903 909.050991 169.476903zM376.2482 138.130987c0-17.593703 14.314007-31.907711 31.907711-31.907711l211.547067 0c17.593703 0 31.907711 14.314007 31.907711 31.907711l0 31.346939L376.2482 169.477926 376.2482 138.130987zM793.569864 850.074785c0 38.486546-31.312146 69.798692-69.798692 69.798692L307.297828 919.873478c-38.486546 0-69.798692-31.312146-69.798692-69.798692L237.499136 211.042577l556.070728 0L793.569864 850.074785z" fill="#272636" p-id="43606"></path><path d="M510.662539 861.276918c11.012821 0 19.954471-8.92937 19.954471-19.942191L530.61701 294.912753c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191L490.708068 841.334727C490.708068 852.347548 499.649717 861.276918 510.662539 861.276918z" fill="#272636" p-id="43607"></path><path d="M374.562814 801.449321c11.012821 0 19.954471-8.92937 19.954471-19.942191L394.517285 354.74035c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191l0 426.76678C354.608344 792.519951 363.549993 801.449321 374.562814 801.449321z" fill="#272636" p-id="43608"></path><path d="M649.832182 801.449321c11.012821 0 19.954471-8.92937 19.954471-19.942191L669.786653 354.74035c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191l0 426.76678C629.877711 792.519951 638.81936 801.449321 649.832182 801.449321z" fill="#272636" p-id="43609"></path></svg>
   </li>
   <li class="iconfont icon-zuzhijiagou changeLayout" title="\u5E03\u5C40">
     <svg t="1684580527524" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="47617" width="14" height="14"><path d="M896.00324 352c70.7 0 128-57.3 128-128 0-70.6-57.4-128-128-128-70.7 0-128 57.3-128 128 0 18.8 4.1 36.7 11.3 52.8 2.7 6 1.4 13.1-3.3 17.8l-92.9 92.9c-5.4 5.4-13.8 6.3-20.1 2.1-20.3-13.6-44.8-21.5-71-21.5-2.1 0-4.2 0.1-6.3 0.1-6 0.3-11.7-2.8-14.7-8l-58-100.4c-3.4-5.8-2.7-13.1 1.6-18.3 18.6-22.5 29.7-51.6 29.3-83.2C543.10324 89 486.40324 32.6 417.10324 32c-70.6-0.6-128.2 56-129.1 126.3-0.9 69.5 56.5 128.6 126 129.7 9.4 0.1 18.5-0.7 27.4-2.5 6.8-1.4 13.6 1.7 17.1 7.7l50.8 88c3.7 6.5 2.5 14.8-3 19.8-15.7 14.1-27.8 32.1-35 52.4-2.3 6.4-8.4 10.6-15.2 10.6H262.70324c-6.6 0-12.6-4-14.9-10.2-18.1-48-64.3-82.2-118.5-82.8C58.70324 370.3 0.50324 427.6 0.00324 498.1-0.49676 569.2 57.00324 627 128.00324 627c56.7 0 104.8-36.9 121.6-87.9 2.2-6.6 8.3-11.1 15.2-11.1h191.4c6.7 0 12.8 4.2 15 10.6 4.7 13.3 11.5 25.7 20.1 36.6 4 5.1 4.4 12.2 1.2 17.8l-71.8 124.4c-3.7 6.3-11.1 9.4-18.2 7.4-11.1-3.1-22.7-4.7-34.8-4.7-69.7 0.1-127 56.8-127.8 126.6-0.8 71.7 57.4 130 129.1 129.4 69.5-0.6 126.3-57.3 126.9-126.8 0.3-28-8.5-53.9-23.5-75.1-3.6-5.1-3.9-11.8-0.8-17.2L546.00324 628.4c3.5-6 10.5-9.2 17.3-7.6 9.2 2.1 18.9 3.2 28.8 3.2 17.7 0 34.6-3.6 49.9-10.1 7.4-3.1 16-0.2 20 6.8l79 136.8c3.5 6.1 2.5 13.8-2.3 18.9-21.6 22.9-34.7 53.7-34.7 87.6 0 70.9 57.9 128.5 128.9 128 69.7-0.5 126.2-56.7 127.1-126.3 0.9-70.1-57-129.3-127.1-129.7-6.2 0-12.3 0.4-18.3 1.2-6.5 0.9-12.8-2.2-16.1-7.8l-92.2-159.7c-2.7-4.7-2.9-10.4-0.5-15.2 9-17.5 14.1-37.4 14.1-58.4 0-13-2-25.6-5.6-37.5-1.7-5.6-0.1-11.7 4-15.9l101.4-101.4c4.9-4.9 12.4-6 18.7-2.9 17.4 8.7 36.9 13.6 57.6 13.6zM416.00324 224c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64zM128.00324 563c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z m240 349c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z m464-112c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM592.00324 560c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z m304-400c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64z" p-id="47618"></path></svg>
   </li>
</ul>

<div class="win win-nav win-link">
  <div class="win-content">
    <input
      type="text"
      class="node-link-input"
    />
    <span
      class="linksure iconfont icon-Fillx"
      style="color: green; margin-right: 4px; margin-left: 4px"
    >
    <svg t="1684658457615" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2741" width="16" height="16"><path d="M416.832 798.08c-16.192 0-32.32-6.208-44.672-18.56L119.424 525.76c-24.64-24.768-24.64-64.96 0-89.728 24.704-24.768 64.704-24.768 89.344 0l208.064 208.896L814.4 245.76c24.64-24.832 64.64-24.832 89.344 0 24.64 24.768 24.64 64.896 0 89.664L461.504 779.52c-12.352 12.352-28.544 18.56-44.672 18.56z" fill="#2aa515" p-id="2742" data-spm-anchor-id="a313x.7781069.0.i0"></path></svg>
    </span>
    <span
      class="linkcancel iconfont icon-chahao"
      style="color: red"
    >
    <svg t="1684658538727" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3151" width="16" height="16"><path d="M558.096874 509.244236l278.304494-276.863678c13.159718-13.094226 13.226233-34.31248 0.132006-47.472198-13.123902-13.189394-34.305317-13.226233-47.465035-0.132006L510.692215 461.669708 234.740302 184.877661c-13.062504-13.093203-34.310434-13.159718-47.470151-0.066515-13.129019 13.093203-13.160741 34.342156-0.066515 47.501874l275.885398 276.725532L184.918593 785.733385c-13.160741 13.094226-13.226233 34.310434-0.134053 47.472198 6.54609 6.581905 15.172561 9.900487 23.799032 9.900487 8.56098 0 17.125029-3.252067 23.672142-9.768481l278.236955-276.761348 278.473339 279.31245c6.54609 6.582929 15.142885 9.871835 23.768333 9.871835 8.594749 0 17.155728-3.288906 23.701818-9.80532 13.123902-13.093203 13.159718-34.305317 0.066515-47.465035L558.096874 509.244236 558.096874 509.244236zM558.096874 509.244236" fill="#c43826" p-id="3152"></path></svg>
    </span>
  </div>
</div>

<div class="win win-nav win-image">
  <div class="tab">
    <ul>
      <li
        @click.stop="tab('localImage')"
        :class="localImage ? 'active' : ''"
      >
        \u672C\u5730\u56FE\u7247
      </li>
      <!-- <li @click.stop="tab('webImage')" :class="webImage?'active':''">Web Image</li> -->
    </ul>
  </div>
  <div class="win-content">
    <div class="local-image">
      <button  class="openImage">
        \u4E0A\u4F20\u672C\u5730\u56FE\u7247
      </button>
      <input
        type="file"
        class="imageFile"
        style="display: none"
      />
    </div>
    <!-- 
          <div class="web-image" v-show="webImage">
            <input  @click.stop="" type="text" placeholder="Please enter image link"  @keyup.enter="cmd('image')" v-model="currentWebImage"/>
            <span class="iconfont icon-Fillx" @click.stop="cmd('image')" style="color:green;margin-right:4px;margin-left:4px"></span>
            <span class="iconfont icon-chahao" @click.stop="showImage=false" style="color:red"></span>
          </div> -->
  </div>
</div>

<div class="win win-nav win-note">
  <div class="win-content">
    <span
      class="notesure iconfont icon-Fillx"
      style="color: green; margin-right: 4px; margin-left: 4px"
    >
    <svg t="1684658457615" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2741" width="16" height="16"><path d="M416.832 798.08c-16.192 0-32.32-6.208-44.672-18.56L119.424 525.76c-24.64-24.768-24.64-64.96 0-89.728 24.704-24.768 64.704-24.768 89.344 0l208.064 208.896L814.4 245.76c24.64-24.832 64.64-24.832 89.344 0 24.64 24.768 24.64 64.896 0 89.664L461.504 779.52c-12.352 12.352-28.544 18.56-44.672 18.56z" fill="#2aa515" p-id="2742" data-spm-anchor-id="a313x.7781069.0.i0"></path></svg>
    </span>
    <span
      class="notecancel iconfont icon-chahao"
      style="color: red"
    >
    <svg t="1684658538727" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3151" width="16" height="16"><path d="M558.096874 509.244236l278.304494-276.863678c13.159718-13.094226 13.226233-34.31248 0.132006-47.472198-13.123902-13.189394-34.305317-13.226233-47.465035-0.132006L510.692215 461.669708 234.740302 184.877661c-13.062504-13.093203-34.310434-13.159718-47.470151-0.066515-13.129019 13.093203-13.160741 34.342156-0.066515 47.501874l275.885398 276.725532L184.918593 785.733385c-13.160741 13.094226-13.226233 34.310434-0.134053 47.472198 6.54609 6.581905 15.172561 9.900487 23.799032 9.900487 8.56098 0 17.125029-3.252067 23.672142-9.768481l278.236955-276.761348 278.473339 279.31245c6.54609 6.582929 15.142885 9.871835 23.768333 9.871835 8.594749 0 17.155728-3.288906 23.701818-9.80532 13.123902-13.093203 13.159718-34.305317 0.066515-47.465035L558.096874 509.244236 558.096874 509.244236zM558.096874 509.244236" fill="#c43826" p-id="3152"></path></svg>
    </span>
    <div id="quill-editor" class="editor">
     <textarea></textarea>
    </div>
  </div>
</div>

<div class="win win-nav win-layout">
  <div class="win-content">
      <div class="mindmap-layout-item delete-layout"  title="\u5220\u9664\u5E03\u5C40">
         <span class="iconfont icon-shanchu deleteLayout" >
          <svg t="1684580492065"  style="margin-top:6px" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="43605" width="16" height="16"><path d="M909.050991 169.476903l-217.554898 0 0-31.346939c0-39.5866-32.205493-71.792093-71.793116-71.792093L408.15591 66.337871c-39.5866 0-71.792093 32.205493-71.792093 71.792093l0 31.346939L113.349581 169.476903c-11.013845 0-19.942191 8.940626-19.942191 19.954471s8.928347 19.954471 19.942191 19.954471l84.264149 0 0 640.687918c0 60.479443 49.203632 109.683075 109.683075 109.683075l416.474366 0c60.479443 0 109.683075-49.203632 109.683075-109.683075L833.454246 209.385844l75.595722 0c11.012821 0 19.942191-8.940626 19.942191-19.954471S920.063813 169.476903 909.050991 169.476903zM376.2482 138.130987c0-17.593703 14.314007-31.907711 31.907711-31.907711l211.547067 0c17.593703 0 31.907711 14.314007 31.907711 31.907711l0 31.346939L376.2482 169.477926 376.2482 138.130987zM793.569864 850.074785c0 38.486546-31.312146 69.798692-69.798692 69.798692L307.297828 919.873478c-38.486546 0-69.798692-31.312146-69.798692-69.798692L237.499136 211.042577l556.070728 0L793.569864 850.074785z" fill="#272636" p-id="43606"></path><path d="M510.662539 861.276918c11.012821 0 19.954471-8.92937 19.954471-19.942191L530.61701 294.912753c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191L490.708068 841.334727C490.708068 852.347548 499.649717 861.276918 510.662539 861.276918z" fill="#272636" p-id="43607"></path><path d="M374.562814 801.449321c11.012821 0 19.954471-8.92937 19.954471-19.942191L394.517285 354.74035c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191l0 426.76678C354.608344 792.519951 363.549993 801.449321 374.562814 801.449321z" fill="#272636" p-id="43608"></path><path d="M649.832182 801.449321c11.012821 0 19.954471-8.92937 19.954471-19.942191L669.786653 354.74035c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191l0 426.76678C629.877711 792.519951 638.81936 801.449321 649.832182 801.449321z" fill="#272636" p-id="43609"></path></svg>
         </span>
      </div>
      <div class="mindmap-layout-item" layout="minder2" direct="mindmap">
         <img src="${he}"/>  
      </div>
      <div class="mindmap-layout-item" layout="minder2" direct="right">
         <img src="${Te}"/>  
      </div>
      <div class="mindmap-layout-item" layout="minder2" direct="left">
         <img src="${Re}"/>  
      </div>
      <div class="mindmap-layout-item" layout="tree" direct="down">
         <img src="${Yt}"/>  
      </div>
      <div class="mindmap-layout-item" layout="tree" direct="top">
         <img src="${hi}"/>  
      </div>
      <div class="mindmap-layout-item" layout="multipleTree" direct="muilte">
      <img src="${$t}"/>
   </div>
  </div>
</div>

<div class="win win-nav win-tag" v-show="showMark">
  <div class="win-content">
    <div class="mark-input">
      <input type="text" @keyup.enter.stop="addMark" />
    </div>
    <div class="mark-list">
      <span>\u6240\u6709\u6807\u7B7E</span>
      <div>
        <div
          class="mark-item"
          :style="'background:' + item.fill + ';color:' + item.color"
          v-for="item in mindMarkList"
          v-bind:key="item.id"
        >
          <input
            :id="item.id"
            :checked="item.checked"
            @change="addToNodeMark($event, item)"
            type="checkbox"
          />
          <label :for="item.id">{{ item.text }}</label>
          <i
            @click.stop="deleteMindMark(item)"
            class="iconfont icon-shanchu"
          ></i>
        </div>
      </div>
    </div>
    <div class="mark-list">
      <span>\u8282\u70B9\u6807\u7B7E</span>
      <div>
        <div
          class="mark-item"
          v-for="item in nodeMarkList"
          v-bind:key="item.id"
          :style="'background:' + item.fill + ';color:' + item.color"
        >
          <span @click="selectMark($event, item)">{{ item.text }}</span>
          <i
            @click.stop="deleteNodeMark(item)"
            class="iconfont icon-shanchu"
          ></i>
        </div>
      </div>
    </div>
    <div class="mark-color">
      <span>{{ $t("node.tagColor") }}</span>
      <ul>
        <li
          v-for="(item, i) in tagColors"
          v-bind:key="i"
          :style="'background:' + item"
          @click="setMarkColor(item)"
        ></li>
      </ul>
    </div>
  </div>
</div>

<div class="win win-nav win-fill" styele="display:block">
  <div class="win-content">
    <div class="cmd-group">
      <h3>\u80CC\u666F\u989C\u8272</h3>
      <ul class="fill-color">
        ${Vt("node-bg")}
      </ul>
    </div>
    <div class="cmd-group">
      <h3>\u5B57\u4F53\u989C\u8272</h3>
      <ul class="text-color">
         ${Vt("text-color")}
      </ul>
    </div>

    <div class="cmd-group">
      <h3>\u5B57\u4F53\u5BF9\u9F50\u65B9\u5F0F</h3>
      <ul>
        <li class="textAlign iconfont icon-AlignLeft" value="left">
        <svg t="1684660675404" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13254" width="16" height="16"><path d="M936.1 236.4H86.6c-12.8 0-23.2-10.4-23.2-23.2 0-12.8 10.4-23.2 23.2-23.2h849.5c12.8 0 23.2 10.4 23.2 23.2 0 12.8-10.4 23.2-23.2 23.2zM750.3 435.5H86.6c-12.8 0-23.2-10.4-23.2-23.2 0-12.8 10.4-23.2 23.2-23.2h663.7c12.8 0 23.2 10.4 23.2 23.2 0 12.8-10.4 23.2-23.2 23.2zM936.1 634.6H86.6c-12.8 0-23.2-10.4-23.2-23.2s10.4-23.2 23.2-23.2h849.5c12.8 0 23.2 10.4 23.2 23.2s-10.4 23.2-23.2 23.2zM750.3 833.7H86.6c-12.8 0-23.2-10.4-23.2-23.2 0-12.8 10.4-23.2 23.2-23.2h663.7c12.8 0 23.2 10.4 23.2 23.2 0 12.8-10.4 23.2-23.2 23.2z" fill="#2c2c2c" p-id="13255"></path></svg>
        </li>
        <li class="textAlign iconfont icon-juzhongduiqi" value="center">
        <svg t="1684660728930" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15471" width="16" height="16"><path d="M96 192h832a32 32 0 0 1 0 64H96a32 32 0 1 1 0-64z m160 192h512a32 32 0 0 1 0 64H256a32 32 0 1 1 0-64z m-160 192h832a32 32 0 0 1 0 64H96a32 32 0 0 1 0-64z m160 192h512a32 32 0 0 1 0 64H256a32 32 0 0 1 0-64z" fill="#2c2c2c" p-id="15472"></path></svg>
        </li>
        <li class="textAlign iconfont icon-AlignRight" value="right">
        <svg t="1684660709644" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14434" width="16" height="16"><path d="M937.1 235.9H85.6c-12.9 0-23.3-10.4-23.3-23.3s10.4-23.3 23.3-23.3h851.5c12.9 0 23.3 10.4 23.3 23.3s-10.5 23.3-23.3 23.3zM937.1 435.5H271.9c-12.9 0-23.3-10.4-23.3-23.3s10.4-23.3 23.3-23.3h665.2c12.9 0 23.3 10.4 23.3 23.3s-10.5 23.3-23.3 23.3zM937.1 635.1H85.6c-12.9 0-23.3-10.4-23.3-23.3s10.4-23.3 23.3-23.3h851.5c12.9 0 23.3 10.4 23.3 23.3 0 12.8-10.5 23.3-23.3 23.3zM937.1 834.6H271.9c-12.9 0-23.3-10.4-23.3-23.3S259 788 271.9 788h665.2c12.9 0 23.3 10.4 23.3 23.3s-10.5 23.3-23.3 23.3z" fill="#2c2c2c" p-id="14435"></path></svg>
        </li>
      </ul>
    </div>

    <div class="cmd-group">
      <h3 >\u8FB9\u6846\u989C\u8272</h3>
      <ul class="stroke-color">
        ${Vt("border-color")}
      </ul>
      <h3>\u8FB9\u6846\u5BBD\u5EA6</h3>
      <ul class="stroke-width">
        ${ht("stroke-width-item")}
      </ul>
      <h3 style="margin-top:8px">\u8FB9\u6846\u6837\u5F0F</h3>
      <ul class="stroke-style">
        ${Mt("stroke-style-item")}
      </ul>
    </div>

    <div class="cmd-group">
      <h3>\u5B57\u4F53\u5927\u5C0F</h3>
      <ul class="stroke-width">
        <li class='text-size' value = '12'>12</li>
        <li  class='text-size' value = '14'>14</li>
        <li  class='text-size' value = '16'>16</li>
        <li  class='text-size' value = '18'>18</li>
        <li   class='text-size' value = '20'>20</li>
      </ul>
    </div>

    <div class="cmd-group">
    <h3>\u4F18\u5148\u7EA7</h3>
    <ul>
      <li
        class="priority iconfont icon-shanchu priority-delete"
        style="margin-bottom:4px">
        <svg t="1684660398137" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8085" width="24" height="24"><path d="M840 288H688v-56c0-40-32-72-72-72h-208C368 160 336 192 336 232V288h-152c-12.8 0-24 11.2-24 24s11.2 24 24 24h656c12.8 0 24-11.2 24-24s-11.2-24-24-24zM384 288v-56c0-12.8 11.2-24 24-24h208c12.8 0 24 11.2 24 24V288H384zM758.4 384c-12.8 0-24 11.2-24 24v363.2c0 24-19.2 44.8-44.8 44.8H332.8c-24 0-44.8-19.2-44.8-44.8V408c0-12.8-11.2-24-24-24s-24 11.2-24 24v363.2c0 51.2 41.6 92.8 92.8 92.8h358.4c51.2 0 92.8-41.6 92.8-92.8V408c-1.6-12.8-12.8-24-25.6-24z" fill="#272636" p-id="8086"></path><path d="M444.8 744v-336c0-12.8-11.2-24-24-24s-24 11.2-24 24v336c0 12.8 11.2 24 24 24s24-11.2 24-24zM627.2 744v-336c0-12.8-11.2-24-24-24s-24 11.2-24 24v336c0 12.8 11.2 24 24 24s24-11.2 24-24z" fill="#272636" p-id="8087"></path></svg>
        </li>
      ${Jt()}
    </ul>
  </div>

  <!--
  <div class="cmd-group">
    <h3>\u5B8C\u6210\u5EA6</h3>
    <ul>
      <li
        class="percent iconfont icon-shanchu percent-delete"
       style="margin-bottom:4px"></li>
      <li
        class="percent pie iconfont icon-weikaishi" style="margin-bottom:4px"
        data-percent="not-start"
      ></li>
      ${fe()}
      <li class="percent pie iconfont icon-wancheng"  data-percent="100" style="margin-bottom:4px"></li>
    </ul>
  </div>
  -->

    <div class="cmd-group">
      <h3>\u5706\u89D2\u5927\u5C0F</h3>
      <ul class="stroke-width">
       ${Xt("border-radius")}
      </ul>
    </div>
    <div class="cmd-group">
      <h3>\u8282\u70B9\u5927\u5C0F</h3>
      <ul class="node-size">
        <li class="node-size-item"  value="tiny small" @click.stop="changeNode('tiny small', 'size', 'changeNode')">
         \u5F88\u5C0F
        </li>
        <li class="node-size-item" value="small"  @click.stop="changeNode('small', 'size', 'changeNode')">
          \u5C0F
        </li>
        <li class="node-size-item" value="normal" @click.stop="changeNode('normal', 'size', 'changeNode')">
          \u4E00\u822C
        </li>
        <li class="node-size-item" value="big" @click.stop="changeNode('big', 'size', 'changeNode')">\u5927</li>
        <li class="node-size-item"  value="bigger" @click.stop="changeNode('bigger', 'size', 'changeNode')">
         \u8F83\u5927
        </li>
      </ul>
    </div>
  </div>
</div>
</div>`,bi=`
<div
class="drag" draggble="false">
<div
  class="drag-top" draggble="false"
>
  <div class="d3"></div>
</div>
<div
  class="drag-bottom iconfont" draggble="false">
  <div class="d4"></div>
</div>
</div>
`,sr=function(z,t){var e={x:z.x+z.width/2,y:z.y+z.height/2},n={x:t.x+t.width/2,y:t.y+t.height/2},a=Math.abs(e.x-n.x),l=Math.abs(e.y-n.y);return a<=z.width/2+t.width/2&&l<z.height/2+t.height/2};const _e=sr;var Ye=window,Ae=document,Oe="mousemove",We="mouseup",Ne="mousedown",Pi="EventListener",Ie="add"+Pi,Me="remove"+Pi,Mr,Pr,ki=[],re=function(z,t){for(z=0;z<ki.length;)t=ki[z++],t=t.container||t,t[Me](Ne,t.md,0),Ye[Me](We,t.mu,0),Ye[Me](Oe,t.mm,0);for(ki=[].slice.call(Ae.getElementsByClassName("dragscroll")),z=0;z<ki.length;)(function(e,n,a,l,u,x){(x=e.container||e)[Ie](Ne,x.md=function(g){var m=!1,k=g.target;if(!k.hasAttribute("nochilddrag")){for(;k;){if(k.classList.contains("node")||k.classList.contains("nodeNav")||k.classList.contains("ql-editor")){m=!0;break}k=k.parentElement}if(m){g.stopPropagation();return}(!e.hasAttribute("nochilddrag")||Ae.elementFromPoint(g.pageX,g.pageY)==x)&&(l=1,n=g.clientX,a=g.clientY)}},0),Ye[Ie](We,x.mu=function(){l=0},0),Ye[Ie](Oe,x.mm=function(g){l&&((u=e.scroller||e).scrollLeft-=Mr=-n+(n=g.clientX),u.scrollTop-=Pr=-a+(a=g.clientY),e==Ae.body&&((u=Ae.documentElement).scrollLeft-=Mr,u.scrollTop-=Pr))},0)})(ki[z++])};const Ti=re;var Pe=pe(755),nt=pe.n(Pe);Array.prototype.unique=function(){for(var z=[],t=0;t<this.length;t++)this.indexOf(this[t]==t)&&z.push(this[t]);return z};class hs{constructor(t){this.data=t,this.el=this.data.el,this.el.mind=this,this.root=null,this.themeName="blue",this.readOnly=!1,this._nearFlag=!0,this.edges=[],this.induces=[],this.wireFrames=[],this.relateLinks=[],this.freeNodes=[],this.callouts=[],this.marks=[],this.induceRoot=[],this.scaleNum=1,this.useMarkDown=!1,this.refreshTime=null,this.mindScale=100,this.scaleCenter=[],this.changeAssist={item:null,x:0,y:0,width:0,height:0},this.stack=new Fe(300),this.draw=mi()(this.el).size("100%","100%"),this.wireFrameGroup=this.draw.group(),this.edgeGroup=this.draw.group(),this.shapeGroup=this.draw.group(),this.induceGroup=this.draw.group(),this.relateGroup=this.draw.group(),this.calloutGroup=this.draw.group(),this.fishTailGroup=this.draw.group(),this.dragDown=this.dragDown.bind(this),this._paste=this._paste.bind(this),this.initNav(),this.initNoteDom(),this.initDragTop(),this.initDragDirect(),this.initImageNav(),this.initAnnotationMenu(),this.stackChange(),this.initEvent(),Ti()}initAnnotationMenu(){this.annotationMenuDom=document.createElement("div"),this.annotationMenuDom.classList.add("node-annotation-menu"),this.annotationMenuDom.style.display="none",this.annotationMenuDom.innerHTML=`<span class='iconfont icon-shanchu deleteAnnotation'>
         <svg t="1684580492065" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="43605" width="16" height="16"><path d="M909.050991 169.476903l-217.554898 0 0-31.346939c0-39.5866-32.205493-71.792093-71.793116-71.792093L408.15591 66.337871c-39.5866 0-71.792093 32.205493-71.792093 71.792093l0 31.346939L113.349581 169.476903c-11.013845 0-19.942191 8.940626-19.942191 19.954471s8.928347 19.954471 19.942191 19.954471l84.264149 0 0 640.687918c0 60.479443 49.203632 109.683075 109.683075 109.683075l416.474366 0c60.479443 0 109.683075-49.203632 109.683075-109.683075L833.454246 209.385844l75.595722 0c11.012821 0 19.942191-8.940626 19.942191-19.954471S920.063813 169.476903 909.050991 169.476903zM376.2482 138.130987c0-17.593703 14.314007-31.907711 31.907711-31.907711l211.547067 0c17.593703 0 31.907711 14.314007 31.907711 31.907711l0 31.346939L376.2482 169.477926 376.2482 138.130987zM793.569864 850.074785c0 38.486546-31.312146 69.798692-69.798692 69.798692L307.297828 919.873478c-38.486546 0-69.798692-31.312146-69.798692-69.798692L237.499136 211.042577l556.070728 0L793.569864 850.074785z" fill="#272636" p-id="43606"></path><path d="M510.662539 861.276918c11.012821 0 19.954471-8.92937 19.954471-19.942191L530.61701 294.912753c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191L490.708068 841.334727C490.708068 852.347548 499.649717 861.276918 510.662539 861.276918z" fill="#272636" p-id="43607"></path><path d="M374.562814 801.449321c11.012821 0 19.954471-8.92937 19.954471-19.942191L394.517285 354.74035c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191l0 426.76678C354.608344 792.519951 363.549993 801.449321 374.562814 801.449321z" fill="#272636" p-id="43608"></path><path d="M649.832182 801.449321c11.012821 0 19.954471-8.92937 19.954471-19.942191L669.786653 354.74035c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191l0 426.76678C629.877711 792.519951 638.81936 801.449321 649.832182 801.449321z" fill="#272636" p-id="43609"></path></svg>
      </span>`,this.el.appendChild(this.annotationMenuDom)}initImageNav(){var t=document.createElement("div");t.classList.add("win"),t.classList.add("win-image-nav");var e=`<span class="iconfont icon-shanchu deleteImage">
      <svg t="1684580492065" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="43605" width="16" height="16"><path d="M909.050991 169.476903l-217.554898 0 0-31.346939c0-39.5866-32.205493-71.792093-71.793116-71.792093L408.15591 66.337871c-39.5866 0-71.792093 32.205493-71.792093 71.792093l0 31.346939L113.349581 169.476903c-11.013845 0-19.942191 8.940626-19.942191 19.954471s8.928347 19.954471 19.942191 19.954471l84.264149 0 0 640.687918c0 60.479443 49.203632 109.683075 109.683075 109.683075l416.474366 0c60.479443 0 109.683075-49.203632 109.683075-109.683075L833.454246 209.385844l75.595722 0c11.012821 0 19.942191-8.940626 19.942191-19.954471S920.063813 169.476903 909.050991 169.476903zM376.2482 138.130987c0-17.593703 14.314007-31.907711 31.907711-31.907711l211.547067 0c17.593703 0 31.907711 14.314007 31.907711 31.907711l0 31.346939L376.2482 169.477926 376.2482 138.130987zM793.569864 850.074785c0 38.486546-31.312146 69.798692-69.798692 69.798692L307.297828 919.873478c-38.486546 0-69.798692-31.312146-69.798692-69.798692L237.499136 211.042577l556.070728 0L793.569864 850.074785z" fill="#272636" p-id="43606"></path><path d="M510.662539 861.276918c11.012821 0 19.954471-8.92937 19.954471-19.942191L530.61701 294.912753c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191L490.708068 841.334727C490.708068 852.347548 499.649717 861.276918 510.662539 861.276918z" fill="#272636" p-id="43607"></path><path d="M374.562814 801.449321c11.012821 0 19.954471-8.92937 19.954471-19.942191L394.517285 354.74035c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191l0 426.76678C354.608344 792.519951 363.549993 801.449321 374.562814 801.449321z" fill="#272636" p-id="43608"></path><path d="M649.832182 801.449321c11.012821 0 19.954471-8.92937 19.954471-19.942191L669.786653 354.74035c0-11.013845-8.94165-19.942191-19.954471-19.942191s-19.954471 8.928347-19.954471 19.942191l0 426.76678C629.877711 792.519951 638.81936 801.449321 649.832182 801.449321z" fill="#272636" p-id="43609"></path></svg>
    </span>`;t.innerHTML=e,t.style="position:absolute;min-width:100px;height:28px;z-index:6000;padding:2px 6px;cursor:pointer;display:none",this.imageNavDom=t,this.el.appendChild(t)}initDragDirect(){var t=document.createElement("div");t.classList.add("drag-type"),t.classList.add("arrow-right"),t.innerHTML=`
    <svg t="1684711722358" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19971" width="30" height="30"><path d="M95.658667 562.645333a71.637333 71.637333 0 0 1 0-101.290666l365.696-365.696a71.637333 71.637333 0 0 1 101.290666 0l365.696 365.696a71.637333 71.637333 0 1 1-101.248 101.290666L512 247.552l-315.093333 315.093333a71.594667 71.594667 0 0 1-101.248 0z" fill="#13227a" p-id="19972"></path><path d="M95.658667 928.341333a71.637333 71.637333 0 0 1 0-101.248l365.696-365.738666a71.594667 71.594667 0 0 1 101.290666 0l365.696 365.696a71.637333 71.637333 0 0 1-101.248 101.290666L512 613.290667l-315.093333 315.050666a71.637333 71.637333 0 0 1-101.248 0z" fill="#13227a" p-id="19973"></path></svg>
    `,this.el.appendChild(t)}_changeLayout(t,e){var n=t,a=this.getSelectNode();if(n=="removeLayout"){var l="";if(!a.parent||a.nodeType=="induce")return}else{var u=a.getLayout();if(n=="fish"||n=="time")var x=!1,g="right";else x=!0;var l=new je[n](x);l.root=a,l.direct=e||g||u&&u.direct,n.indexOf("minder")>-1&&l.setDirect()}this.execute("changeLayout",{node:a,layout:l})}initDragTop(){var t=document.createElement("div");t.classList.add("mm-mindmap-drag"),t.innerHTML=bi,this.dDom=t,this.el.appendChild(t)}initNoteDom(){var t=document.createElement("div");t.classList.add("win"),t.classList.add("node-note"),t.classList.add("ql-container");var e=document.createElement("div");e.classList.add("win-content"),t.appendChild(e),this.noteContentDom=e,this.noteDom=t,this.el.appendChild(this.noteDom),this.noteDom.style.display="none",this.noteDom.style.position="absolute",this.noteDom.style.zIndex="9000"}initNav(){var t=document.createElement("div");t.classList.add("mm-mindmap-nav"),t.innerHTML=ne,t.style.position="absolute",this.navDom=t,this.el.appendChild(this.navDom)}createRoot(){var t=this.data.canvasWidth?this.data.canvasWidth:8e3,e=this.data.canvasHeight?this.data.canvasHeight:8e3;this.el.style.width=t+"px",this.el.style.height=e+"px";var n=Kt.use("blue").config["main-root-fill"],a=Kt.use().config["main-root-textFill"],l=Kt.use().config["main-root-fontSize"],u=Kt.use().config["main-root-textPadding"][0],x=Kt.use().config["main-root-textPadding"][0],g=Kt.use().config["main-root-textPadding"][1],m=Kt.use().config["main-root-textPadding"][1];this.el.style.backgroundColor=Kt.use().config.background;var k=new Zt({id:I(),text:gt("topic"),backgroundColor:n,color:a,fontSize:l,paddingLeft:u,paddingRight:x,paddingTop:g,paddingBottom:m,main:!0,isRoot:!0},this);this.addNode(k,null),k.setPosition(t/2-43,e/2-16);var N=this.el.parentElement||this.el.parentNode,L=N.innerWidth||N.clientWidth,y=N.innerHeight||N.clientHeight;N.scrollLeft=t/2-L/2,N.scrollTop=e/2-y/2;var S=new je.minder2(!0);S.layout(this.getRoot(),"mind"),S.root=k,k.layout=S,this.refresh();var D=k.getBBox();this.scaleCenter=[D.x+D.width/2,D.y+D.height/2]}initCanvas(t){var e=t.canvasWidth?t.canvasWidth:8e3,n=t.canvasHeight?t.canvasHeight:8e3;this.el.style.width=e+"px",this.el.style.height=n+"px";var a=this.el.parentElement||this.el.parentNode,l=a.innerWidth||a.clientWidth,u=a.innerHeight||a.clientHeight;a&&(a.scrollLeft=t.mindData.scrollLeft||e/2-l/2,a.scrollTop=t.mindData.scrollTop||n/2-u/2,this.el.style.backgroundColor=Kt.use().config.background)}dirty(){return this.stack.dirty()}save(){this.stack.save()}stackChange(){var t=this;function e(n){var a=n.getMind();if(n){for(var l=null,u=n;u&&(u.layout&&(l=u.layout),u!=a.root);)u.belongInduce?u=u.belongInduce.node:u=u.parent;l&&l.refresh()}a.updateRelateLink(),t.emit("change"),a.induces.length!=0&&a.induces.forEach(x=>{x.root.layout.createLink()})}this._refreshFn=n=>{t.initialize?(t.refreshTime&&clearTimeout(t.refreshTime),t.refreshTime=setTimeout(()=>{n&&n.detail&&e(n.detail.node)},100)):n&&n.detail&&e(n.detail.node)},this.on("refresh",this._refreshFn),this._selectNodeFn=n=>{var a=n.detail.node;if(a){var l=a.getBBox(),u=36,g=a.nodeType;if(a.direct=="left"||g=="induce"&&a.belongInduce.direct=="left"){var x=t.navDom.clientWidth;t.navDom.style.left=l.x-x-20+"px",t.navDom.style.top=l.y+(l.height-u)/2+"px",nt()(t.navDom).hasClass("nav-left")||nt()(t.navDom).addClass("nav-left")}else a.direct=="down"||a.direct=="bottom"?(t.navDom.style.left=l.x+"px",t.navDom.style.top=l.y+l.height+20+"px",nt()(t.navDom).removeClass("nav-left")):(t.navDom.style.left=l.x+l.width+20+"px",t.navDom.style.top=l.y+(l.height-u)/2+"px",nt()(t.navDom).removeClass("nav-left"));nt()(t.navDom).find(".icon-beijing").click(),t.navDom.style.display="block";var g=a.nodeType;nt()(t.el).find(".nodeNav .nav li").removeClass("disable"),g=="induce"||g=="freeNode"||a.isRoot()?(nt()(t.el).find(".nodeNav .nav li.boundary").addClass("disable"),nt()(t.el).find(".nodeNav .nav li.summary").addClass("disable")):g=="relateLink"&&(nt()(t.el).find(".nodeNav .nav li.icon-jiahao").addClass("disable"),nt()(t.el).find(".nodeNav .nav li.boundary").addClass("disable"),nt()(t.el).find(".nodeNav .nav li.changeLayout").addClass("disable")),a==a.getMind().getRoot()&&nt()(t.el).find(".nodeNav .nav li.deleteNode").addClass("disable")}},this.on("selectNode",this._selectNodeFn),this._hideFn=n=>{t.navDom.style.display="none",t.noteDom.style.display="none",t.dDom.style.display="none",t.imageNavDom.style.display="none",t.changeAssist.item=null},this.on("hide",this._hideFn),this.showAssist=this._showAssist.bind(this),this.on("showAssist",this.showAssist),this._showImage=this._showImage.bind(this),this.on("showImage",this._showImage)}_showImage(t){var e=t.detail.node,n=e.getBBox();this.imageNavDom.style.left=n.x+n.width+20+"px",this.imageNavDom.style.top=n.y+10+"px",this.imageNavDom.style.display="block",this._selectImageNode=e}_showAssist(t){this.showAssistFlag=!0;var e=t.detail.wf||t.detail.induce;if(e.name=="wireFrame")var n=e.getBox();else var n=e.getNodeBox();this.changeAssist.item=e,this.changeAssist.x=n.x-1,this.changeAssist.y=n.y-1,this.changeAssist.width=n.width+1,this.changeAssist.height=n.height+1,e.direct=="right"||e.direct=="left"?(this.changeAssist.dragModel="model-top",this.dDom.classList=[],this.dDom.classList.add("mm-mindmap-drag"),this.dDom.classList.add(this.changeAssist.dragModel)):(this.changeAssist.dragModel="model-right",this.dDom.classList=[],this.dDom.classList.add("mm-mindmap-drag"),this.dDom.classList.add(this.changeAssist.dragModel)),this.dDom.style.position="absolute",this.dDom.style.left=n.x-1+"px",this.dDom.style.top=n.y+"px",this.dDom.style.width=this.changeAssist.width+"px",this.dDom.style.height=this.changeAssist.height+"px",this.dDom.style.display="block"}addMark(t){var e=this.marks.filter(n=>n.text==t.text)[0];e||this.marks.push(t)}removeMark(t){if(t){var e=-1;return this.marks.forEach((n,a)=>{n.id==t.id&&(e=a)}),this.marks.splice(e,1)}}getMark(){return this.marks}getNodeThemeStyle(t,e){var n={},a=Kt.use(this.themeName||this.data.theme).config;return t&&(e=t.getLevel()),e==0?(n.backgroundColor=a["main-root-fill"],n.color=a["main-root-textFill"],n.fontSize=a["main-root-fontSize"],n.paddingLeft=a["main-root-textPadding"][0],n.paddingRight=a["main-root-textPadding"][0],n.paddingTop=a["main-root-textPadding"][1],n.paddingBottom=a["main-root-textPadding"][1]):e==1?(n.backgroundColor=a["second-node-fill"],n.color=a["second-node-textFill"],n.fontSize=a["second-node-fontSize"],n.paddingLeft=a["second-node-textPadding"][0],n.paddingRight=a["second-node-textPadding"][0],n.paddingTop=a["second-node-textPadding"][1],n.paddingBottom=a["second-node-textPadding"][1]):(n.backgroundColor=a["node-fill"],n.color=a["node-textFill"],n.fontSize=a["node-fontSize"],n.paddingLeft=a["node-textPadding"][0],n.paddingRight=a["node-textPadding"][0],n.paddingTop=a["node-textPadding"][1],n.paddingBottom=a["node-textPadding"][1]),n}execute(t,e){var n=this;if(this._nearFlag)switch(t){case"addChildNode":var m={id:I(),text:e.text||gt("Sub title")};m={...m,...this.getNodeThemeStyle(null,e.parent.getLevel()+1)};var C=new Zt(m,this);if(e.parent.layout){var a=e.parent.getLayout();C.direct=a.direct}else C.direct=e.parent.direct;C.stroke=e.parent.stroke,C.dom.classList=[],C.dom.classList.add("node"),C.dom.classList.add("node-"+C.direct),C.dom.classList.add("node-leaf"),e.parent.isExpand()||e.parent.expand(),this.stack.execute(new Ui(C,e.parent,this));break;case"addSameNode":var C=e.parent;if(C.parent){var m={id:I(),text:gt("Same title")};m={...m,...this.getNodeThemeStyle(null,e.parent.getLevel())};var l=new Zt(m,this);l.stroke=C.parent.stroke;var u=e.index;this.stack.execute(new Ui(l,C.parent,this,u+1))}break;case"addParentNode":var C=e&&e.parent||this.getSelectNode();if(C.parent){var m={id:I(),text:gt("Parent title")};m={...m,...this.getNodeThemeStyle(null,C.getLevel())};var l=new Zt(m,this);l.stroke=C.parent.stroke,this.stack.execute(new dr(C,l,C.parent))}break;case"addAnnotation":var x=e.id,C=e.node;this.stack.execute(new zr(C,x));break;case"addAnnotationNode":var e=e.data,g=this.getSelectNode()||this.root,m={...e,...this.getNodeThemeStyle(null,g.getLevel()+1)};m.id=I();var C=new Zt(m,this);if(g.layout){var a=g.getLayout();C.direct=a.direct}else C.direct=g.direct;C.stroke=g.stroke,C.dom.classList=[],C.dom.classList.add("node"),C.dom.classList.add("node-"+C.direct),C.dom.classList.add("node-leaf"),g.isExpand()||g.expand(),this.stack.execute(new Hr(C,g,this));break;case"deleteNode":if(e.parent&&e.parent.nodeType=="callout"){this.stack.execute(new vr(e.parent.callout));return}if(e.parent){this.stack.execute(new fr(e.parent,this));return}var N=this.getSelectNodes();if(N.sort(function(it,bt){return bt.getLevel()-it.getLevel()}),N.length){var y=[];N.forEach(bt=>{y.push(new fr(bt,n))})}y&&y.length&&this.stack.execute(new Si(y));break;case"changeNode":var k=e.data&&e.data.key,N=e.nodes||this.getSelectNodes();if(k=="text"){var L=new Or(N[0],e.data.oldText,e.data.text);this.stack.execute(L);return}var y=[];N.forEach(it=>{var bt=it.getData(),Tt={...bt,...e.data||{}};if(e.data&&e.data.size)switch(e.data.size){case"tiny small":Tt={...bt,paddingLeft:6,paddingRight:6,paddingBottom:3,paddingTop:3};break;case"small":Tt={...bt,paddingLeft:8,paddingRight:8,paddingBottom:4,paddingTop:4};break;case"normal":Tt={...bt,paddingLeft:10,paddingRight:10,paddingBottom:6,paddingTop:6};break;case"big":Tt={...bt,paddingLeft:14,paddingRight:14,paddingBottom:10,paddingTop:10};break;case"bigger":Tt={...bt,paddingLeft:20,paddingRight:20,paddingBottom:12,paddingTop:12};break}y.push(new cr(it,bt,Tt,!1))}),y.length&&this.stack.execute(new Si(y));break;case"addNodes":var S=e.nodeData;if(S&&S.length&&e.parent){var y=[];S.forEach(bt=>{bt={...bt,...this.getNodeThemeStyle(null,e.parent.getLevel()+1)};var Tt=new Zt(bt,this);if(e.parent.layout){var Rt=e.parent.getLayout();Tt.direct=Rt.direct}else Tt.direct=e.parent.direct;Tt.stroke=e.parent.stroke,Tt.dom.classList=[],Tt.dom.classList.add("node"),Tt.dom.classList.add("node-"+Tt.direct),Tt.dom.classList.add("node-leaf"),y.push(new Ui(Tt,e.parent,this))}),e.parent.dom.classList.contains("node-leaf")&&e.parent.dom.classList.remove("node-leaf"),e.parent.isExpand()||e.parent.expand(),y.length&&this.stack.execute(new Si(y))}break;case"changeNodeToFreeRoot":e.node&&(e.node&&e.node.setPosition(e.x,e.y),this.stack.execute(new Qr(e.node)));break;case"changeFreeRootToNode":e.node&&e.node.nodeType=="freeNode"&&this.stack.execute(new Gi(e.node,e.parent));break;case"moveNode":e.node&&this.stack.execute(new qr(e));break;case"movePos":if(e.node){var D=e.oldPos,W=e.newPos;this.stack.execute(new Xr(e.node,D,W))}break;case"selectAll":var n=this;setTimeout(()=>{this.traverseDF(it=>{it.isShow()&&it.select()}),n.emit("selectNodes")},0);break;case"selectChild":var n=this;this.clearSelectNode(),e.parent.unSelect(),setTimeout(()=>{n.traverseBF(it=>{it!=e.parent&&it.isShow()&&it.select()},e.parent),n.emit("selectNodes")},0);break;case"selectSameLevelNode":this.clearSelectNode();var n=this,C=e.parent;setTimeout(()=>{C.parent&&(C.parent.children.forEach(it=>{it.isShow()&&it.select()}),n.emit("selectNodes"))},0);break;case"changeTodo":this.stack.execute(new jr(e.parent));break;case"addRelateLink":this.stack.execute(new fi(e.link));break;case"addBoundary":case"addWireFrame":if(e.parent&&e.parent==this.root)return;var B=Kt.use().config,j=B["wireFrame-fill"],K=B["wireFrame-stroke"];this.stack.execute(new Ki(new Ar(e.parent,j,K,""),this));break;case"changeWireFrame":var V=e.wireFrame.getData(),P={...V,...e.newData};this.stack.execute(new Bi(e.wireFrame,V,P));break;case"addSummary":case"addInduce":if(e.parent&&e.parent==this.root)return;var B=Kt.use().config,j=B["induce-fill"],K=B["induce-stroke"],Z=new Zt({backgroundColor:j,rootType:"induce",isRoot:!0,main:!1,text:"Summary"},this),vt=e.parent.direct;vt=="right"||vt=="left"?(Z.layout=new je.minder1,Z.data.layoutName="minder",Z.layout.direct=vt,Z.layout.root=Z):(Z.layout=new je.tree,Z.data.layoutName="tree",Z.layout.direct=vt,Z.layout.root=Z),Z.layout.layout(Z,vt),this.stack.execute(new pr(e.parent,new Nr(e.parent,Z,K)));break;case"addCallout":e.parent&&!e.parent.callout&&this.stack.execute(new gr(new Je(e.parent)));break;case"changeRelateLink":this.stack.execute(new ur(e.link,e.data.oldBox,e.data.box));break;case"changeMarker":this.stack.execute(new br(e.link,e.pos,e.type,e.oldType));break;case"expandNode":this.stack.execute(new xr(e.node||e.parent));break;case"collapseNode":this.stack.execute(new mr(e.node||e.parent));break;case"changeLayout":this.stack.execute(new Vi(e.node,e.layout));break;case"addNodeMark":this.stack.execute(new yr(e.node,e.mark));break;case"removeNodeMark":this.stack.execute(new ye(e.node,e.mark));break;case"changeMark":this.stack.execute(new ci(e.node,e.mark));break;case"changeTheme":this.stack.execute(new Fi(this,e.oldTheme,e.theme));break;case"changeStroke":this.stack.execute(new Ur(e.nodes,e.layout,e.topLayout));break;case"deleteBoundary":case"removeWireFrame":this.stack.execute(new Ji(e.wf||e.boundary,this));break;case"changeRangeNode":this.stack.execute(new Kr(e.item,e.oldRangeNode,e.newRangeNode));break;case"relateHideNode":this.stack.execute(new Yi(e.relateLink));break;case"copyNode":this.stack.execute(new wr(e.node));break;case"pasteNode":e.data&&e.node&&this.stack.execute(new Ii(e.node,e.data));break;case"focusNode":e&&this.stack.execute(new Jr(e.node,e.oldNode));break}}addFreeNode(t){this.freeNodes.indexOf(t)==-1&&(this.freeNodes.push(t),this.el.contains(t.dom)||this.el.appendChild(t.dom),t.nodeType="freeNode",t.parent=null,t.layout||(t.layout=new je.minder2,t.layout.layout(t,t.direct)))}clearEditNode(){this.traverseDF(t=>{t.cancelEdit()})}getNodeDirect(t){if(["right","left","down","up"].indexOf(t.direct)>-1)return t.direct;var e=t.parent;if(e){var n=e.getPosition(),a=e.getBox(),l=t.getPosition(),u=t.getBox();if(n.x+a.width<l.x)return"right";if(l.x+u.width<ppox.x)return"left"}}removeFreeNode(t){var e=this.freeNodes.indexOf(t);e>-1&&(this.freeNodes.splice(e,1),t.nodeType="")}addWireFrame(t){if(this.wireFrames.indexOf(t)==-1){this.wireFrames.push(t);var e=t.node,n=e.parent;n&&(n.wireFrames.push(t),n.wireFrames.unique(),n.wireFrames.sort(function(a,l){return a.rangeNode.length-l.rangeNode.length})),e.wfs.push(t)}}removeWireFrame(t){var e=this.wireFrames.indexOf(t),n=t.node,a=n.wfs.indexOf(t);if(n.wfs.splice(a,1),e>-1){this.wireFrames.splice(e,1);var l=n.parent;if(l){var u=l.wireFrames.indexOf(t);l.wireFrames.splice(u,1)}t.remove()}}changeWireFrame(t,e){var n=e.data;this.execute("changeWireFrame",{wireFrame:t,newData:n})}addCallout(t){this.callouts.indexOf(t)==-1&&this.callouts.push(t)}removeCallout(t){var e=this.callouts.indexOf(t);e>-1&&(t.remove(),this.callouts.splice(e,1))}getInducesByNode(t){if(!t)return[];var e=[];return t.induce&&(e.push(t.induce),e=e.concat(this.getInducesByNode(t.induce.root))),t.children.forEach(n=>{e=e.concat(this.getInducesByNode(n))}),e}expandLevel(t){var e=this.root;!this.mainRoot||this.mainRoot&&this.mainRoot==e?this.traverseDF(n=>{n.getLevel()<t?(n.expand(),n.nodeType=="induce"):n.getLevel()==t&&(n.isLeaf()||n.collapse())}):this.traverseDF(n=>{n.getLevel()<t?(n.expand(),n.nodeType=="induce"):n.getLevel()==t&&(n.isLeaf()||n.collapse())},e)}getSecondNodeByNode(t){var e=this.getRootByNode(t);if(e){var n=null;for(let a=0;a<e.children.length;a++)if(e.children[a].getNodeList().indexOf(t)>-1){n=e.children[a];break}return n}else return null}getRootByNode(t){for(var e=null,n=t;n;){if(n.layout){e=n;break}n=n.parent}return e}addInduce(t){var e=this.induces.indexOf(t);if(e==-1){this.induces.push(t),this.el.appendChild(t.root.dom),t.root.mind=this,t.init();var n=t.node,a=n.parent;a.summaries.push(t),a.summaries.unique(),n.induces.push(t)}}removeInduce(t){var e=this.induces.indexOf(t);if(e>-1){var n=t.node,a=n.parent,l=a.summaries.indexOf(t);a.summaries.splice(l,1);var u=n.induces.indexOf(t);n.induces.splice(u,1),this.induces.splice(e,1),t.remove()}}getRoot(){return this.root}getEditNode(){var t=null;return this.traverseDF(e=>{e.isEdit&&(t=e)}),t}traverseBF(t,e){var n=[];n.push(e||this.mainRoot||this.root);for(var a=n.shift();a;){for(let l=0,u=a.children.length;l<u;l++)n.push(a.children[l]);t(a),a=n.shift()}}traverseDF(t,e){function n(m){if(m&&m.children){for(var k=0,N=m.children.length;k<N;k++)n(m.children[k]);t(m)}}if(e)n(e);else{var a=[];this.induces.forEach(m=>{a.push(m.root)});var l=[];this.callouts.forEach(m=>{l.push(m.root)});var u=[];this.relateLinks.forEach(m=>{m.textNode&&u.push(m.textNode)});var x=[];this.wireFrames.forEach(m=>{m.t&&x.push(m.t)});var g=this.mainRoot||this.root;[g].concat(this.freeNodes).concat(a).concat(l).concat(u).concat(x).forEach(m=>{n(m)})}}addNode(t,e,n=-1){e?(e&&e.addChild(t,n),e.direct&&(t.direct=e.direct),e.isTodo()&&t.setTodo()):this.root=t,this._addNodeDom(t);var a=t.getLevel();a==0?t.addThemeClass("root"):a==1&&t.addThemeClass("second-level"),t._refreshBounding()}_refreshBounding(t){for(var e=t||this.root,n=e;n;)n.boundingRect=null,n=n.parent||n.belongInduce&&n.belongInduce.node;var a=this.getRootByNode(t);if(a&&a.layout&&["fish","time"].indexOf(a.layout.layoutName)>-1){var l=this.getSecondNodeByNode(t);this.traverseBF(u=>{u.boundingRect=null},l)}}addEdge(t){this.edges.push(t)}getNodeById(t){var e=null;return this.traverseDF(n=>{n.getId()==t&&(e=n)}),e}selectNode(t){t&&(this.clearSelectNode(),t.select())}getSelectNodes(){var t=[];return this.traverseDF(e=>{e.selected&&t.push(e)}),t}getSelectNode(){if(this._selectNode)return this._selectNode;var t=null;return this.traverseDF(e=>{e.selected&&(t=e)}),t}clearSelectNode(){if(this.emit("hide"),this.relateLinks.forEach(t=>{t.unactive()}),this._selectNode){this._selectNode.unSelect(),this._selectNode.imageMark&&this._selectNode.imageMark.remove(),this._selectNode.imageMark=null,this._selectNode=null;return}this.traverseDF(t=>{t.unSelect(),t.imageMark&&t.imageMark.remove(),t.imageMark=null}),this.status!="addRelate"&&(this.status="")}changeStroke(t,e,n){var a=[];this.traverseBF(x=>{var g={};g.oldStroke=x.stroke,g.node=x,g.stroke=n.color,a.push(g)},t);var l=t.getLayout();if(t.layout)var u=t.getTopLayout();this.execute("changeStroke",{nodes:a,layout:l,topLayout:u})}changeBackground(t,e){t=="grain"?(this.useImageBg=!0,this.el.style.background="url("+e.image+") repeat"):(this.useImageBg=!1,this.el.style.background=e.color)}changeTheme(t){this.themeName=t,this.el.classList.forEach((l,u)=>{l.indexOf("theme")>-1&&this.el.classList.remove(l)}),this.el.classList.add("theme-"+t);var e=Kt.use(t).config;this.changeBackground("color",{color:e.background}),this.traverseDF(l=>{var u=this.getRootByNode(l);if(l.isShow()&&u){if(l.getLevel()==0&&u.data.main)var x=e["main-root-fill"],g=e["main-root-stroke"],m=e["main-root-textFill"],k=e["main-root-fontSize"],N=e["main-root-borderWidth"],L=e["main-root-textPadding"].slice();else if(l.getLevel()==1&&u.data.main)var x=e["second-node-fill"],g=e["second-node-stroke"],m=e["second-node-textFill"],k=e["second-node-fontSize"],L=e["second-node-textPadding"].slice();else if(l.getLevel()==0&&!u.data.main)var x=e["free-root-fill"],g=e["free-root-stroke"],m=e["free-root-textFill"],k=e["free-root-fontSize"],L=e["free-root-textPadding"].slice();else if(l.getLevel()==1&&!u.data.main)var x=e["free-second-node-fill"],g=e["free-second-node-stroke"],m=e["free-second-node-textFill"],k=e["free-second-node-fontSize"],L=e["free-second-node-textPadding"].slice();else if(l.getLevel()>1)var x=e["node-fill"],g=e["node-stroke"],m=e["node-textFill"],k=e["node-fontSize"],L=e["node-textPadding"].slice();l.setData({backgroundColor:x,borderColor:g,color:m,fontSize:k,borderWidth:N||0,paddingLeft:L[0],paddingRight:L[0],paddingTop:L[1],paddingBottom:L[1]})}});var n={stroke:e["wireFrame-stroke"],fill:e["wireFrame-fill"]};this.wireFrames.forEach(l=>{var u=l.getData();l.setData({...u,...n})});var a={stroke:e["induce-stroke"],fill:e["induce-fill"],textFill:e["induce-textFill"]};this.induces.forEach(l=>{var u=l.getData();l.setData({...u,...a})}),this.refresh()}getBBox(t){var e=[];return function n(a){a.isShow()&&(e.push(a),a.callout&&a.callout.isShow&&e.push(a.callout),a.wireFrames.length&&a.wireFrames.forEach(l=>{l.isHide||e.push(l)}),a.summaries.length&&a.summaries.forEach(l=>{l.isShow()&&(e=e.concat(l.getAllItem()))})),a.isExpand()&&a.children.forEach(l=>{n(l)})}(t),e.unique(),this.getBoundingRect(e)}getBoundingRect(t){if(t.length){var e={topNode:null,bottomNode:null,leftNode:null,rightNode:null};return t.forEach((n,a)=>{if(n){if(n.name=="wireFrame")var l=n.getBBox();else var l=n.getBox();a==0?(e.x=l.x,e.y=l.y,e.right=l.x+l.width,e.bottom=l.y+l.height,n.name=="node"&&(e.topNode=n,e.bottomNode=n,e.leftNode=n,e.rightNode=n)):(l.x<e.x&&(e.x=l.x,n.name=="node"&&(e.leftNode=n)),l.y<e.y&&(e.y=l.y,n.name=="node"&&(e.topNode=n)),l.x+l.width>e.right&&(e.right=l.x+l.width,n.name=="node"&&(e.rightNode=n)),l.y+l.height>e.bottom&&(e.bottom=l.y+l.height,n.name=="node"&&(e.bottomNode=n)))}}),e.width=e.right-e.x,e.height=e.bottom-e.y,e}}getMindBox(){var t=[],e=[];this.traverseDF(a=>{a.isShow()&&(t.push(a),a.callout&&a.callout.isShow&&t.push(a.callout),a.wireFrame&&t.push(a.wireFrame),a.induce&&t.push(a.induce),a.layout&&a.layout.layoutName=="fish"&&e.push(a.layout))});var n=this.getBoundingRect(t);return e.forEach(a=>{if(a.layoutName=="fish"&&a.fishTail){var l=a.fishTail.bbox();l.x<n.x&&(n.x=l.x),l.y<n.y&&(n.y=l.y),l.x+l.width>n.right&&(n.right=l.x+l.width),l.y+l.height>n.bottom&&(n.bottom=l.y+l.height),n.width=n.right-n.x,n.height=n.bottom-n.y}}),n}removeNode(t){if(t.parent){var e=t.parent,n=t.parent.removeChild(t);return this._removeChildDom(t),this._refreshBounding(e),n}else return this._removeChildDom(t),-1}_addNodeDom(t){this.el.contains(t.dom)||this.el.appendChild(t.dom),t.group&&t.shapeSvg&&t.shapeSvg._delete&&(t.shapeSvg=null,t.initShape(),t.refreshShape(),t.shapeSvg._delete=!1),t.callout&&(this.addCallout(t.callout),this.el.appendChild(t.callout.root.dom),t.callout.init()),t._wireFrames&&t._wireFrames.length&&(t.wireFrames=t._wireFrames.slice(),t._wireFrames=[]),t.wireFrames.length&&t.wireFrames.forEach(e=>{this.addWireFrame(e),e.init()}),t._summaries&&t._summaries.length&&(t._summaries.forEach(e=>{this.addInduce(e),e.init(),this.traverseDF(n=>{this._addNodeDom(n)},e.root)}),t.summaries=t._summaries.slice(),t._summaries=[])}_removeChildDom(t){var e=this,n=[],a=[];this.traverseBF(l=>{l.layout&&a.push(l.layout),l.callout&&(e.removeCallout(l.callout),e.el.contains(l.callout.root.dom)&&e.el.removeChild(l.callout.root.dom),l.callout.remove(),l.callout.off()),l._wireFrames=l.wireFrames.slice(),l.wireFrames.length&&l.wireFrames.forEach(u=>{e.removeWireFrame(u)}),l._summaries=l.summaries.slice(),l.summaries.length&&(l.summaries.forEach(u=>{e._removeChildDom(u.root),u.remove()}),l.summaries.forEach(u=>{e.removeInduce(u)}));for(let u=0;u<e.relateLinks.length;u++)(e.relateLinks[u].startNode==l||e.relateLinks[u].endNode==l)&&n.push(e.relateLinks[u]);n.forEach(u=>{e.removeRelateLink(u)}),this.el.contains(l.dom)&&e.el.removeChild(l.dom),l.shapeSvg&&(l.shapeSvg.remove(),l.shapeSvg._delete=!0)},t),t._removeLink=n,setTimeout(()=>{a.forEach(l=>{l.group&&(l.group.clear(),l.group.remove(),l.group=null)})},0)}getTemplateData(t,e,n){var a=this;this.imageNodes=[];var l=[],u=[];this.traverseBF(function(y){var S=y.getTemplateData(t,n);if(u.push(S),e&&y.data.isImageNode&&S.image.startsWith("data:image;")){var D=S.image.replace(/^data:image\/(\w|\+)+;base64,/,"");e.file(S.id+"-"+S.imageName,D,{base64:!0}),S.image=""}},this.mainRoot||this.root),l.push(u),this.freeNodes.forEach(y=>{var S=[];a.traverseBF(function(D){var W=D.getTemplateData(t,n);if(S.push(W),e&&D.data.isImageNode){if(W.image.startsWith("http"))return;var C=W.image.replace(/^data:image\/(\w|\+)+;base64,/,"");e.file(W.id+"-"+W.imageName,C,{base64:!0}),W.image=""}},y),l.push(S)});var x=[],g=this.getInducesByNode(this.root);g.unique(),g.forEach(y=>{var S={induceData:y.getData()},D=[];a.traverseBF(W=>{var C=W.getTemplateData(t,n);if(D.push(C),e&&W.data.isImageNode){if(C.image.startsWith("http"))return;var V=C.image.replace(/^data:image\/(\w|\+)+;base64,/,"");e.file(C.id+"-"+C.imageName,V,{base64:!0}),C.image=""}},y.root),S.mindData=D,x.push(S)});var m=[];this.wireFrames.forEach(y=>{m.push(y.getData())});var k=[];this.relateLinks.forEach(y=>{k.push(y.getData())});var N=[];this.callouts.forEach(y=>{N.push(y.getData())});var L=this.el.parentElement||this.el.parentNode;return{theme:Kt.use().name,mindData:l,induceData:x,wireFrameData:m,relateLinkData:k,calloutData:N,marks:a.marks,scrollLeft:L.scrollLeft,scrollTop:L.scrollTop,canvasWidth:this.data&&this.data.canvasWidth||this.el.clientWidth}}getData(t,e,n){var a=this;this.imageNodes=[];var l=[],u=[];this.traverseBF(function(y){var S=y.getData(t,n);if(u.push(S),e&&y.data.isImageNode&&S.image.startsWith("data:image;")){var D=S.image.replace(/^data:image\/(\w|\+)+;base64,/,"");e.file(S.id+"-"+S.imageName,D,{base64:!0}),S.image=""}},this.mainRoot||this.root),l.push(u),this.freeNodes.forEach(y=>{var S=[];a.traverseBF(function(D){var W=D.getData(t,n);if(S.push(W),e&&D.data.isImageNode){if(W.image.startsWith("http"))return;var C=W.image.replace(/^data:image\/(\w|\+)+;base64,/,"");e.file(W.id+"-"+W.imageName,C,{base64:!0}),W.image=""}},y),l.push(S)});var x=[],g=this.getInducesByNode(this.root);g.unique(),g.forEach(y=>{var S={induceData:y.getData()},D=[];a.traverseBF(W=>{var C=W.getData(t,n);if(D.push(C),e&&W.data.isImageNode){if(C.image.startsWith("http"))return;var V=C.image.replace(/^data:image\/(\w|\+)+;base64,/,"");e.file(C.id+"-"+C.imageName,V,{base64:!0}),C.image=""}},y.root),S.mindData=D,x.push(S)});var m=[];this.wireFrames.forEach(y=>{m.push(y.getData())});var k=[];this.relateLinks.forEach(y=>{k.push(y.getData())});var N=[];this.callouts.forEach(y=>{N.push(y.getData())});var L=this.el.parentElement||this.el.parentNode;return{theme:Kt.use().name,mindData:l,induceData:x,wireFrameData:m,relateLinkData:k,calloutData:N,marks:a.marks,scrollLeft:L.scrollLeft,scrollTop:L.scrollTop,canvasWidth:this.data&&this.data.canvasWidth||this.el.clientWidth}}getMindData(t){var e=new JSZip,n="mind.json",a=e.folder("images"),l=this.getData(!1,a),u=this.el.parentElement||this.el.parentNode;l.scrollLeft=u.scrollLeft,l.scrollTop=u.scrollTop,e.file(n,JSON.stringify(l)),e.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}}).then(function(x){t&&t(x)})}getMindBuffer(t){var e=new JSZip,n="mind.json",a=e.folder("images"),l=this.getData(!1,a),u=this.el.parentElement||this.el.parentNode;l.scrollLeft=u.scrollLeft,l.scrollTop=u.scrollTop,e.file(n,JSON.stringify(l)),e.generateAsync({type:"nodebuffer",compression:"DEFLATE",compressionOptions:{level:9}}).then(function(x){t&&t(x)})}onChange(t){this._onChange&&this.off("change",this._onChange),this._onChange=t||function(){},this._onChange=this._onChange.bind(this),this.on("change",this._onChange)}onUploadImage(t){this._uploadImage&&this.off("uploadImage",this._uploadImage),this._uploadImage=t||function(){},this._uploadImage=this._uploadImage.bind(this),this.on("uploadImage",this._uploadImage)}onLink(t){this._openExternal&&this.off("openExternal",this._openExternal),this._openExternal=t||function(){},this._openExternal=this._openExternal.bind(this),this.on("openExternal",this._openExternal)}clear(){this.relateLinks.forEach(t=>{this.removeRelateLink(t)}),this.callouts.forEach(t=>{this.removeCallout(t)}),this.wireFrames.forEach(t=>{this.removeWireFrame(t)}),this.induces.forEach(t=>{this.removeInduce(t)}),this.traverseDF(t=>{this.removeNode(t),t.removeEvent()}),this.edgeGroup.clear(),this.shapeGroup.clear(),this.induceGroup.clear(),this.relateGroup.clear(),this.calloutGroup.clear(),this.fishTailGroup.clear(),this.root=null,this.el.innerHTML="",this.nodteEditor=null}setJSON(t){try{this.init(t,{})}catch(e){console.log(e)}}init(t,e){if(this.initialize=!0,e)var n=e.img||e.image||{};var a=this;this.themeName=t.theme||"markdown",this.marks=t.marks.slice(),Kt.use(this.themeName),this.el.classList.forEach((C,V)=>{C.indexOf("theme")>-1&&this.el.classList.remove(C)}),this.el.classList.add("theme-"+this.themeName);var l=t.canvasWidth?t.canvasWidth:12e3,u=t.canvasWidth?t.canvasWidth:12e3;this.el.style.width=l+"px",this.el.style.height=u+"px",this.el.style.backgroundColor=t.background||Kt.use().config.background;var x=t.mindData,g=[],m=null;x.forEach((C,V)=>{V==0?C.forEach((P,B)=>{if(P.isImageNode&&!P.image){var j="images/"+P.id+"-"+P.imageName;P.image=n[j]||n["resources/"+P.imageName]}if(B==0){var K=new Zt(P,a);a.addNode(K,null)}else{var K=new Zt(P,a),Z=a.getNodeById(P.pid);a.addNode(K,Z)}P.isExpanded||g.push(K),P.x&&P.y&&K.setPosition(P.x,P.y),P.boundingRect&&(K.boundingRect=P.boundingRect),P.layout&&(K.layout=new je[P.layout.layoutName],K.layout.direct=P.layout.direct,K.layout.root=K)}):C.forEach((P,B)=>{if(P.isImageNode&&!P.image){var j="images/"+P.id+"-"+P.imageName;P.image=n[j]||n["resources/"+P.imageName]}if(B==0){var K=new Zt(P,a);P.layout&&(K.layout=new je[P.layout.layoutName],K.layout.direct=P.layout.direct,K.layout.root=K),a.addFreeNode(K)}else{var K=new Zt(P,a),Z=a.getNodeById(P.pid);P.layout&&(K.layout=new je[P.layout.layoutName],K.layout.direct=P.layout.direct,K.layout.root=K),a.addNode(K,Z)}P.x&&P.y&&K.setPosition(P.x,P.y),P.boundingRect&&(K.boundingRect=P.boundingRect),P.isExpanded||g.push(K)})});var k=t.induceData;k&&k.forEach(C=>{if(C.induceData.nodeId){var V=a.getNodeById(C.induceData.nodeId),P=V.parent,B=C.induceData.range,j=[];if(B){var K=B.split(",");P.children.forEach((Et,pt)=>{pt>=K[0]&&pt<=K[1]&&j.push(Et)}),j.unique();var Z=j[j.length-1];j[0]!=V&&(Z=V,j=[V])}else{var Z=V;j=[V]}}if(V){var vt=C.mindData;vt.forEach((Et,pt)=>{if(Et.isImageNode&&!Et.image){var it="images/"+Et.id+"-"+Et.imageName;Et.image=n[it]||n["resources/"+Et.imageName]}if(pt==0){var bt=new Zt(Et,a),Tt=new Nr(V,bt,C.induceData.stroke,C.induceData.lineType);Tt.endNode=Z,Tt.rangeNode=j,Tt.refreshItems(),Tt.refreshNode(),Tt.type=C.type,a.addInduce(Tt)}else{var bt=new Zt(Et,a),Rt=a.getNodeById(Et.pid);a.addNode(bt,Rt)}Et.x&&Et.y&&bt.setPosition(Et.x,Et.y),Et.boundingRect&&(bt.boundingRect=Et.boundingRect),Et.isExpanded||g.push(bt),Et.layout&&(bt.layout=new je[Et.layout.layoutName],bt.layout.direct=Et.layout.direct,bt.layout.root=bt)})}});var N=t.wireFrameData;N&&N.forEach(C=>{if(C.nodeId){var V=a.getNodeById(C.nodeId),P=V.parent;if(P){var B=C.range,j=B.split(","),K=[];P.children.forEach((Et,pt)=>{pt>=j[0]&&pt<=j[1]&&K.push(Et)}),K.unique();var Z=K[K.length-1];K[0]!=V&&(Z=V,K=[V])}else var Z=V,K=[V]}if(V){var vt=new Ar(V,C.fill,C.stroke,C);vt.endNode=Z,vt.rangeNode=K,vt.refreshItems(),vt.refreshNode(),vt.refresh(),a.addWireFrame(vt),vt.setData(C),P||(V.wireFrame=vt)}});var L=t.calloutData;L&&L.forEach(C=>{var V=a.getNodeById(C.nodeId);if(V){var P=new Je(V,C.rootData,C.color);a.addCallout(P)}}),g.length&&g.forEach(C=>{C.collapse()}),this.induces.forEach(C=>{C.refreshItems()}),this.wireFrames.forEach(C=>{C.refreshItems()}),this.refresh();var y=t.relateLinkData,S=[];if(y&&y.forEach(C=>{var V=a.getNodeById(C.startNodeId),P=a.getNodeById(C.endNodeId);if(V&&P){if(!C.gapsx){var B=V.getBox(),j=P.getBox();C.box&&C.box.cpx1&&(C.gapsx=C.box.cpx1-B.x,C.gapsy=C.box.cpy1-B.y,C.gapex=C.box.cpx2-j.x,C.gapey=C.box.cpy2-j.y)}if(C.gapsx){var K=new Lr(V,C);K.endNode=P,K.setBox(C.box),a.addRelateLink(K),K.unactive(),C.box||S.push(K)}}}),S.forEach(C=>{var V=C.endNode,P=V.getBox();C.move(P.x+P.width/2,P.y),C.refresh()}),this.updateRelateLink(),this.initialize=!1,t.scrollLeft&&t.scrollTop){var D=this.el.parentElement||this.el.parentNode;D.scrollLeft=t.scrollLeft,D.scrollTop=t.scrollTop}else{var W=this.root;this.showNode(W)}}setCanvasSize(t){if(typeof t=="number"){t<8e3&&(t=8e3),this.el.style.width=t+"px",this.el.style.height=t+"px";var e=this.root.getPosition();if(this.freeNodes.length){var n={};this.freeNodes.forEach(u=>{var x=u.getPosition(),g=u.getId();n[g]=[x.x-e.x,x.y-e.y]})}var a=this.root.getBBox(),l={x:t/2-a.width/2,y:t/2-a.height/2};this.root.setPosition(l.x,l.y),n&&this.freeNodes.length&&this.freeNodes.forEach(u=>{var x=u.getId();if(x&&n[x]){var g=l.x+n[x][0],m=l.y+n[x][1];u.setPosition(g,m)}}),this.data&&(this.data.canvasWidth=t),this.refresh(),this.updateRelateLink(),this.showNode(this.root),this.emit("change")}}getHtml(){var t="";return[this.root].concat(this.freeNodes).forEach(e=>{this.traverseBF(function(n){t+=n.getHtml()},e)}),t}refreshLayout(t){if(t){for(var e=t,n=null;e;)e.layout&&(n=e.layout),e.belongInduce?e=e.belongInduce.node:e=e.parent;n.refresh()}else this.refresh()}forceRefresh(){this.traverseDF(t=>{t.refreshBox(),t.boundingRect=null}),this.updateAllAssist(),setTimeout(()=>{this.refresh(),this.showNode(this.root)},1e3)}refresh(){this.root&&this.root.layout&&this.root.layout.refresh(),this.freeNodes.forEach(t=>{t.layout&&t.layout.refresh()}),this.induces.forEach(t=>{t.root.layout&&t.root.layout.createLink()}),this.updateRelateLink()}updateRelateLink(){this.relateLinks.forEach(t=>{t.refresh(!0)})}updateAssist(){this.callouts.forEach(t=>{t.isShow&&t.refresh()}),this.wireFrames.forEach(t=>{t.isHide||(t.refreshItems(),t.refresh())}),this.induces.forEach(t=>{t.isShow()&&(t.refreshItems(),t.refresh(),t.root.layout.createLink())})}updateAllAssist(){this.updateAssist(),this.updateRelateLink()}emit(t,e){var n=new CustomEvent(t,{detail:e});this.el.dispatchEvent(n)}undo(){this.stack.undo()}redo(){this.stack.redo()}on(t,e){this.el.addEventListener(t,e,!1)}off(t,e){t&&e&&this.el.removeEventListener(t,e)}addRelateLink(t){this.relateLinks.indexOf(t)==-1&&(this.relateLinks.push(t),t.isAdd||(this.draw.add(t.group),t.isAdd=!0,this.el.appendChild(t.corl1),this.el.appendChild(t.corl2),this.el.appendChild(t.textNode.dom),t.addEvent()))}removeRelateLink(t,e){var n=this.relateLinks.indexOf(t);if(n>-1&&(this.relateLinks.splice(n,1),t.remove(),t.offEvent(),t.isAdd=!1),!e)return n}cancelEditNode(){this._editNode&&(this._editNode.cancelEdit(),this._editNode=null)}initEvent(){var t=this,e=!1,n=0,a=0,l=0,u=0;nt()(this.el).off("drop").on("drop",y=>{y.preventDefault();var S=y.originalEvent.dataTransfer.getData("dragNodeId");if(!g){var D=nt()(y.target).closest(".node"),W=y.originalEvent.dataTransfer.files[0];if(D.length)var B=nt()(y.target).closest(".node").get(0).node;else W&&t.emit("openFile",{file:W});if(!B)return;if(W){t.emit("addLocalFile",{node:B,file:W});return}var C=y.originalEvent.dataTransfer.getData("text/html"),V=y.originalEvent.dataTransfer.getData("text/plain"),P=f(C,V);if(P.length==1&&P[0].isImageNode&&B){B.getMind().execute("changeNode",{nodes:[B],data:{isImageNode:!0,image:P[0].src}});return}if(P.length==1&&P[0].link&&B){B.getMind().execute("changeNode",{nodes:[B],data:{link:P[0].link,text:P[0].text}});return}if(P.length==1&&B){B.getMind().execute("addChildNode",{parent:B,text:P[0].text});return}P.length>1&&B&&B.getMind().execute("addNodes",{parent:B,nodeData:P});return}if(nt()(y.target).closest(".node").length){var B=nt()(y.target).closest(".node").get(0).node;if(g="",B&&B.nodeType=="richText"||B.nodeType=="freeNode"||B.nodeType=="induce"){var S=y.originalEvent.dataTransfer.getData("dragNodeId");B.moveNode(S,B,m),k.style.display="none";return}}var B=t.getNodeById(S);if(g="",!B.data.main&&B&&B.nodeType&&B.nodeType=="richText"){if(B==this.root)return;B._refreshBounding();let j=B.getPosition();t.execute("changeNodeToFreeRoot",{node:B,x:j.x+l,y:j.y+u}),B.nodeType="freeNode"}else if(B){let j=B.getPosition();t.execute("movePos",{node:B,oldPos:j,newPos:{x:j.x+l,y:j.y+u}})}}),this.el.addEventListener("dragover",y=>{y.preventDefault()}),nt()(this.el).find(".drag-top,.drag-bottom").on("mousedown",this.dragDown);var x=null;this._clickFn=function(y){if(nt()(y.target).closest(".node-annotation").length){var S=nt()(y.target).closest(".node-annotation"),D=S.get(0).node;if(D&&D.data.annotation){var W=D.data.annotation,C=`siyuan://openAnnotation/${W.id}`;t.emit("openExternal",{href:C});return}}if(nt()(y.target).closest(".deleteImage").length){var D=t._selectImageNode;D&&t.execute("changeNode",{nodes:[D],data:{isImageNode:!1,image:""}}),t.emit("hide");return}if(nt()(y.target).closest(".nodeNav").length){if(t.navStatus="",nt()(y.target).closest(".disable").length)return;if(nt()(y.target).closest(".icon-jiahao").length&&t.getSelectNode()&&t.execute("addChildNode",{parent:t.getSelectNode()}),nt()(y.target).closest(".icon-beijing").length){var V=nt()(y.target).closest(".nodeNav");V.find(".win-nav").hide(),V.find(".win-fill").show()}if(nt()(y.target).closest(".icon-infenicon15").length){var V=nt()(y.target).closest(".nodeNav");V.find(".win-nav").hide(),V.find(".win-link").show(),t.navStatus="link";var D=t.getSelectNode();if(D){var C=D.getData().link;C?nt()(this).find(".node-link-input").val(C):nt()(this).find(".node-link-input").val("")}}if(nt()(y.target).closest(".icon-picture").length){var V=nt()(y.target).closest(".nodeNav");V.find(".win-nav").hide(),V.find(".win-image").show()}if(nt()(y.target).closest(".changeLayout").length){var V=nt()(y.target).closest(".nodeNav");V.find(".win-nav").hide(),V.find(".win-layout").show();return}if(nt()(y.target).closest(".icon-beizhu").length){var V=nt()(y.target).closest(".nodeNav");V.find(".win-nav").hide(),V.find(".win-note").show(),t.navStatus="note";var D=t.getSelectNode();if(D)var P=D.getData().remark;else var P="";V.find(".editor textarea").val(P||""),t.nodteEditor=V.find(".editor textarea"),V.find(".editor textarea").focus()}if(nt()(y.target).closest(".win-note").length&&(t.navStatus="note"),nt()(y.target).closest(".win-link").length&&(t.navStatus="link"),nt()(y.target).closest(".icon-biaoqian").length){var V=nt()(y.target).closest(".nodeNav");V.find(".win-nav").hide(),V.find(".win-tag").show()}if(nt()(y.target).closest(".node-bg").length){var B=nt()(y.target).closest(".node-bg").attr("value");t.execute("changeNode",{data:{backgroundColor:B}})}if(nt()(y.target).closest(".text-color").length){var B=nt()(y.target).closest(".text-color").attr("value");t.execute("changeNode",{data:{color:B}})}if(nt()(y.target).closest(".textAlign").length){var B=nt()(y.target).closest(".textAlign").attr("value");t.execute("changeNode",{data:{textAlign:B}})}if(nt()(y.target).closest(".border-color").length){var B=nt()(y.target).closest(".border-color").attr("value");t.execute("changeNode",{data:{borderColor:B}})}if(nt()(y.target).closest(".stroke-width-item").length){var j=nt()(y.target).closest(".stroke-width-item").attr("value");t.execute("changeNode",{data:{borderWidth:parseInt(j)}})}if(nt()(y.target).closest(".stroke-style-item").length){var K=nt()(y.target).closest(".stroke-style-item").attr("value");t.execute("changeNode",{data:{borderStyle:K}})}if(nt()(y.target).closest(".text-size").length){var K=nt()(y.target).closest(".text-size").attr("value");t.execute("changeNode",{data:{fontSize:parseInt(K)}})}if(nt()(y.target).closest(".priority").length){var Z=nt()(y.target).closest(".priority").attr("data-priority")||"";t.execute("changeNode",{data:{priority:Z}})}if(nt()(y.target).closest(".percent").length){var vt=nt()(y.target).closest(".percent").attr("data-percent")||"";t.execute("changeNode",{data:{percent:vt}})}if(nt()(y.target).closest(".border-radius").length){var K=nt()(y.target).closest(".border-radius").attr("value");t.execute("changeNode",{data:{borderTopLeftRadius:parseInt(K),borderBottomLeftRadius:parseInt(K),borderTopRightRadius:parseInt(K),borderBottomRightRadius:parseInt(K)}})}if(nt()(y.target).closest(".node-size-item").length){var K=nt()(y.target).closest(".node-size-item").attr("value");t.execute("changeNode",{data:{size:K}})}if(nt()(y.target).closest(".linksure").length){var C=nt()(this).find(".node-link-input").val();C?(t.execute("changeNode",{data:{link:C}}),nt()(this).find(".icon-beijing").click(),t.emit("hide")):nt()(this).find(".node-link-input").focus()}if(nt()(y.target).closest(".linkcancel").length&&(nt()(this).find(".node-link-input").val(""),nt()(this).find(".icon-beijing").click(),t.emit("hide")),nt()(y.target).closest(".openImage").length&&nt()(this).find(".imageFile").click(),nt()(y.target).closest(".relatelink").length){var D=t.getSelectNode();if(D){var C=new Lr(D);t.waitRelate=C,C.status="addRelate",t.status="addRelate",t.emit("hide")}return}if(nt()(y.target).closest(".summary").length){var D=t.getSelectNode();D&&t.execute("addSummary",{parent:D}),t.emit("hide");return}if(nt()(y.target).closest(".boundary").length){var D=t.getSelectNode();D&&t.execute("addBoundary",{parent:D}),t.emit("hide");return}if(nt()(y.target).closest(".deleteNode").length){var D=t.getSelectNode();D&&t.execute("deleteNode",{parent:D}),t.emit("hide");return}if(nt()(y.target).closest(".notesure").length){if(t.nodteEditor.val().trim())var Et=t.nodteEditor.val().trim();else var Et="";t.execute("changeNode",{data:{remark:Et}}),t.nodteEditor.val(""),nt()(this).find(".icon-beijing").click(),t.emit("hide")}if(nt()(y.target).closest(".linkcancel").length&&(nt()(this).find(".node-link-input").val(""),nt()(this).find(".icon-beijing").click(),t.emit("hide")),nt()(y.target).closest(".mindmap-layout-item").length){if(nt()(y.target).closest(".delete-layout").length)t._changeLayout("removeLayout","");else{var pt=nt()(y.target).closest(".mindmap-layout-item").attr("layout"),it=nt()(y.target).closest(".mindmap-layout-item").attr("direct");t._changeLayout(pt,it)}t.emit("hide")}return}if(nt()(y.target).closest(".node-bar").length){y.preventDefault(),y.stopPropagation();var D=nt()(y.target).closest(".node").get(0).node;D.isExpand()?D.getMind().execute("collapseNode",{node:D}):D.getMind().execute("expandNode",{node:D});return}if(nt()(y.target).closest(".node").length){if(t.ctrlKey&&!t.shiftKey){y.stopPropagation(),y.preventDefault();var D=nt()(y.target).closest(".node").get(0).node;D.selected?D.unSelect():D.select(),t.emit("selectNodes");return}if(!t.ctrlKey&&t.shiftKey){y.stopPropagation(),y.preventDefault();var D=nt()(y.target).closest(".node").get(0).node;if(D.select(),x){if(D!=x){var bt=D.getLevel(),Tt=x.getLevel();if(bt==Tt&&D.parent==x.parent){var Rt=D.parent.children.indexOf(x),zt=D.parent.children.indexOf(D),_t=Math.max.apply(null,[Rt,zt]),Lt=Math.min.apply(null,[Rt,zt]);D.parent.children.forEach((te,se)=>{se>=Lt&&se<=_t&&te.select()})}if(bt>Tt&&x.isTopParent(D))for(var Bt=D.parent;Bt;)if(Bt.select(),Bt!=x)Bt=Bt.parent;else{Bt=null;break}if(bt<Tt&&D.isTopParent(x))for(var Bt=x.parent;Bt;)if(Bt.select(),Bt!=D)Bt=Bt.parent;else{Bt=null;break}}}else x=D;t.emit("selectNodes");return}if(nt()(y.target).closest(".node-remark").length){var D=nt()(y.target).closest(".node").get(0).node;t.emit("selectNode",{node:D}),D.select(),t.noteDom.style.display="none",setTimeout(()=>{nt()(t.navDom).find(".icon-beizhu").click()},100);return}if(nt()(y.target).closest("a").length){var Wt=nt()(y.target).closest("a").attr("href");if(Wt.startsWith("mailto"))return;y.stopPropagation(),y.preventDefault(),t.emit("openExternal",{href:Wt});return}y.preventDefault(),y.stopPropagation(),window.node=nt()(y.target).closest(".node").get(0).node;var D=nt()(y.target).closest(".node").get(0).node;if(D==D.mind.getSelectNode())return;if(t.cancelEditNode(),D._clickFn(),t.emit("selectNode",{node:D}),t.status=="addRelate"&&t.waitRelate){var Ot=t.waitRelate.startNode;Ot!=nt()(y.target).closest(".node").get(0).node&&(t.waitRelate.setEndNode(nt()(y.target).closest(".node").get(0).node),t.execute("addRelateLink",{link:t.waitRelate}),t.status="",t.waitRelate.off(),t.waitRelate=null)}return}t.clearSelectNode(),x=null,t._resizeNode&&t._resizeNode.cancelResize()},nt()(this.el).on("click",this._clickFn),this._imageChange=y=>{var S=y.target.files[0];S&&(["image/png","image/jpeg","image/gif"].indexOf(S.type)>-1?(t.emit("uploadImage",{imgData:S,node:t.getSelectNode()}),nt()(t.el).find(".imageFile").val("")):alert("image type error"))},nt()(this.el).find(".imageFile").on("change",this._imageChange),nt()(this.el.parentElement).off("dblclick").on("dblclick",".node",function(y){if(y.preventDefault(),y.stopPropagation(),!nt()(y.target).closest("a").length){var S=nt()(this).get(0).node;t._editNode!=S&&(t._editNode&&t._editNode.cancelEdit(),t.emit("hide"),t.status="editNode",t._editNode=S,t._editNode.dom.style.zIndex=20,t._editNode.dom.setAttribute("draggable",!1),t._editNode.isEdit||t._editNode.edit(),t._editNode&&(t._editNode.isEdit=!0),t._refreshBounding(t._editNode))}}),nt()(this.el).off("contextmenu").on("contextmenu",".node",function(y){y.preventDefault(),y.stopPropagation();var S=nt()(this).get(0).node;S.mind.clearSelectNode(),S.select(),t.emit("context",{node:S,pageX:y.pageX,pageY:y.pageY})});var g=null,m="",k=null;nt()(this.el).off("dragstart").on("dragstart",".node",function(y){y.stopPropagation(),n=y.pageX,a=y.pageY,g=nt()(this).get(0).node.getId(),y.originalEvent.dataTransfer.setData("dragNodeId",g),t.emit("hide")}),nt()(this.el).off("drag").on("drag",".node",function(y){y.preventDefault(),y.stopPropagation(),l=y.pageX-n,u=y.pageY-a});function N(y,S,D){if(y){if(y.data.isRoot||y.nodeType=="freeNode"||y.nodeType=="induce")return"child";var W=t.el.parentElement||t.el.parentNode,C=y.dom.getBoundingClientRect();C.x=C.x+W.scrollLeft,C.y=C.y+W.scrollTop;var V=y.direct;switch(V){case"right":return D<C.y+C.height/2&&S<C.x+C.width/4*3?"top":D>C.y+C.height/2&&S<C.x+C.width/4*3?"down":"child-right";case"left":return D<C.y+C.height/2&&S>C.x+C.width/4?"top":D>C.y+C.height/2&&S>C.x+C.width/4?"down":"child-left";case"top":case"up":return S<C.x+C.width/4?"left":S>C.x+C.width/4*3?"right":"child-top";case"down":case"bottom":return S<C.x+C.width/4?"left":S>C.x+C.width/4*3?"right":"child-down";default:return"child"}}}nt()(this.el).off("dragover").on("dragover",".node",function(y){if(y.preventDefault(),y.stopPropagation(),!!g){var S=t.el.parentElement||t.el.parentNode,D=y.pageX+S.scrollLeft,W=y.pageY+S.scrollTop,C=nt()(this).get(0).node;m=N(C,D,W);var V=C.getBox();if(k=nt()(t.el).find(".drag-type").get(0),k.style.display="block",k.style.left=V.x+V.width/2-k.clientWidth/2+"px",k.style.top=V.y-k.clientHeight-40+"px",m=="top")k.classList=[],k.classList.add("drag-type"),k.classList.add("arrow-top");else if(m=="down")k.classList=[],k.classList.add("drag-type"),k.classList.add("arrow-down");else if(m=="left")k.classList=[],k.classList.add("drag-type"),k.classList.add("arrow-left");else if(m=="right")k.classList=[],k.classList.add("drag-type"),k.classList.add("arrow-right");else{k.classList=[],k.classList.add("drag-type");var P=m.split("-");P[1]?k.classList.add("arrow-"+P[1]):k.classList.add("arrow-right")}}}),nt()(this.el).off("dragenter").on("dragenter",".node",function(y){y.preventDefault(),y.stopPropagation()}),nt()(this.el).off("dragleave").on("dragleave",".node",function(y){y.preventDefault(),y.stopPropagation(),k&&(k.style.display="none")}),nt()(this.el).off("blur").on("blur",".node .node-text",y=>{y.preventDefault(),y.stopPropagation();var S=nt()(y.target).closest(".node").get(0).node;S.cancelEdit()}),this._mousedown=this._mousedown.bind(this),nt()(this.el.parentElement).on("mousedown",this._mousedown),this._hoverFn=y=>{if(nt()(y.target).closest(".icon-note").length){var S=nt()(y.target).closest(".node").get(0).node,D=S.getData().remark||"",W=S.getBBox();D&&(t.noteContentDom.innerText=D,t.noteDom.style.display="block",t.noteDom.style.top=W.y+W.height+10+"px",t.noteDom.style.left=W.x+"px")}},nt()(this.el).on("mouseover",this._hoverFn),nt()(this.el).off("dblclick").on("dblclick",".node .node-bar",y=>{y.preventDefault(),y.stopPropagation()}),nt()(this.el).on("mouseenter",".node .node-annotation",y=>{var S=nt()(y.target).closest(".node-annotation"),D=S.get(0).node;if(D&&D.data.annotation){var W=D.getBBox(),C=S.position();this.annotationMenuDom.style.display="block",this.annotationMenuDom.style.left=`${W.x-30}px`,this.annotationMenuDom.style.top=`${W.y+C.top-40}px`,this.annotationMenuDom.node=D}}),nt()(this.el).on("mouseleave",".node .node-annotation",y=>{var S=nt()(y.target).closest(".node-annotation"),D=S.get(0).node;D&&D.data.annotation&&(L&&clearTimeout(L),L=setTimeout(()=>{this.annotationMenuDom.style.display="none",this.annotationMenuDom.node=null},500))});var L=null;nt()(this.annotationMenuDom).on("click",y=>{if(nt()(y.target).closest(".deleteAnnotation").length){var S=this.annotationMenuDom.node;if(S&&S.data.annotation){var D=S.data.annotation;S.getMind().execute("changeNode",{nodes:[S],data:{annotation:null}}),this.annotationMenuDom.style.display="none",this.annotationMenuDom.node=null}}}).on("mouseleave",()=>{this.annotationMenuDom.style.display="none",this.annotationMenuDom.node=null}).on("mouseenter",()=>{L&&clearTimeout(L)}),nt()(document).on("paste",this._paste),this._initKeyBoardEvent()}getNodeByAnnotationId(t){var e=null;return this.traverseDF(n=>{n.data.annotation&&n.data.annotation.id&&n.data.annotation.id.indexOf(t)>-1&&(e=n)}),e}setReadOnly(){this.readOnly=!0,this.removeEvent()}_initKeyBoardEvent(){var t=this;function e(n,a){if(n){var l,u=null,x=n.getPosition(),g=n.getMind();g.traverseDF(m=>{var k=m.getPosition(),N=Math.abs(k.x-x.x),L=Math.abs(k.y-x.y),y=Math.sqrt(N*N+L*L);switch(a){case"right":k.x>x.x&&(l?l>y&&(l=y,u=m):(l=y,u=m));break;case"left":k.x<x.x&&(l?l>y&&(l=y,u=m):(l=y,u=m));break;case"up":k.y<x.y&&(l?l>y&&(l=y,u=m):(l=y,u=m));break;case"down":k.y>x.y&&(l?l>y&&(l=y,u=m):(l=y,u=m));break}}),g.selectNode(u)}}this._keyup=n=>{if(!this.el.closest(".fn__none")&&this._nearFlag){var a=n.keyCode||n.which||n.charCode,l=n.ctrlKey||n.metaKey,u=n.shiftKey,x=n.altKey;if(t.ctrlKey=null,t.shiftKey=null,!(t.navStatus=="note"||t.navStatus=="link")){if(!l&&!u&&(a==9||a==45)){var k=t.getEditNode();if(k){t.clearEditNode();return}var g=t.getSelectNode();g&&t.execute("addChildNode",{parent:g})}if(!l&&!u&&!x&&a==13){if(t.navStatus=="note")return;n.preventDefault();var g=t.getSelectNode();if(g){var m=g.parent.children.indexOf(g);t.execute("addSameNode",{parent:g,index:m})}}var k=t.getEditNode();if(!k){if(a==46){if(t.changeAssist.item){var N=t.changeAssist.item;if(N.name=="wireFrame"){t.execute("deleteBoundary",{boundary:t.changeAssist.item}),t.emit("hide");return}}var g=t.getSelectNode();if(g){var L=g.parent;t.clearEditNode(),t.execute("deleteNode",{parent:g}),t.selectNode(L),t.emit("hide")}}switch(a){case 38:if(t.navStatus=="note")return;if(t.model=="showppt")this.showppt("up");else{var g=t.getSelectNode();e(g,"up")}break;case 40:if(t.navStatus=="note")return;if(t.model=="showppt")t.showppt("down");else{var g=t.getSelectNode();e(g,"down")}break;case 37:if(t.navStatus=="note")return;if(t.model=="showppt")t.prevPpt();else{var g=t.getSelectNode();e(g,"left")}break;case 39:if(t.navStatus=="note")return;if(t.model=="showppt")t.nextPpt();else{var g=t.getSelectNode();e(g,"right")}break;case 27:this.clearEditNode();break}}}}},this._keyup=this._keyup.bind(this),nt()(document).on("keyup",this._keyup),this._keydown=n=>{if(!this.el.closest(".fn__none")&&this._nearFlag){var a=n.keyCode||n.which||n.charCode,l=n.ctrlKey||n.metaKey,u=n.shiftKey,x=n.altKey;if(t.ctrlKey=l,t.shiftKey=u,!l&&!u&&!x&&(a==9||a==13)&&n.preventDefault(),a==32){if(t.navStatus=="note"||t.navStatus=="link")return;var g=t.getSelectNode();g.isEdit||(n.preventDefault(),g.edit());return}var m=t.getEditNode();m||(l&&a=="90"&&t.undo(),l&&a=="89"&&t.redo(),l&&a==67)}},this._keydown=this._keydown.bind(this),nt()(document).on("keydown",this._keydown),nt()(this.el).on("mousewheel",n=>{var a=0;n||(n=window.event);var l=n.ctrlKey||n.metaKey;l&&(n.preventDefault(),n.originalEvent.wheelDelta?(a=n.originalEvent.wheelDelta/120,window.opera&&(a=-a)):n.originalEvent.detail&&(a=-n.originalEvent.detail/3),a&&(a<0?t.setScale("down"):t.setScale("up")))})}scale(t){t<20&&(t=20),t>500&&(t=500),this.mindScale=t,this.scaleCenter.length?(this.el.style.transformOrigin=`${this.scaleCenter[0]}px ${this.scaleCenter[1]}px`,this.el.style.transform="scale("+this.mindScale/100+")"):this.el.style.transform="scale("+this.mindScale/100+")",this.scaleNum=this.mindScale/100}setScale(t){if(t=="up")var e=this.mindScale+10;else var e=this.mindScale-10;this.scale(e);var n=this.el.closest(".markmind__custom-tab");n&&(n.querySelector(".markmind-number").innerText=this.mindScale+"%")}dragDown(t){t.stopPropagation(),nt()(t.target).closest(".drag-top").length?(this._moveDirect=this.changeAssist.dragModel=="model-top"?"up":"left",this.dragAssist=!0):nt()(t.target).closest(".drag-bottom").length&&(this._moveDirect=this.changeAssist.dragModel=="model-top"?"down":"right",this.dragAssist=!0),this.dragAssist&&(this.sx=t.pageX,this.sy=t.pageY,this._moveDirect=="up"||this._moveDirect=="down"?(this.dragTop=this.changeAssist.y,this.dragHeight=this.changeAssist.height):(this.dragLeft=this.changeAssist.x,this.dragWidth=this.changeAssist.width),this.dragAssist=!0,this._dragMove=this.dragMove.bind(this),this._dragup=this.dragup.bind(this),document.addEventListener("mousemove",this._dragMove),document.addEventListener("mouseup",this._dragup),this.navDom.style.display="none")}dragMove(t){if(this.dragAssist){t.preventDefault(),t.stopPropagation();var e=t.pageX-this.sx,n=t.pageY-this.sy;this._moveDirect=="up"?(this.dDom.style.top=this.dragTop+n+"px",this.dDom.style.height=this.dragHeight-n+"px",this.changeAssist.height=this.dragHeight-n,this.changeAssist.y=this.dragTop+n):this._moveDirect=="down"?(this.dDom.style.height=this.dragHeight+n+"px",this.changeAssist.height=this.dragHeight+n):this._moveDirect=="left"?(this.dDom.style.left=this.dragLeft+e+"px",this.dDom.style.width=this.dragWidth-e+"px",this.changeAssist.width=this.dragWidth-e,this.changeAssist.x=this.dragLeft+e):(this.dDom.style.width=this.dragWidth+e+"px",this.changeAssist.width=this.dragWidth+e)}}dragup(){var t=this;if(this.dragAssist){document.removeEventListener("mousemove",this._dragMove),document.removeEventListener("mouseup",this._dragup),this.showWireFrame=!1,this.showInduce=!1,this.showAssistFlag=!1;var e=this.changeAssist.item;this.dDom.style.display="none";var n=e.node,a=n.parent,l=e.rangeNode.slice(),u=null,x=null,g=[],m=[];if(a.children.forEach((k,N)=>{var L=k.getDomBox();_e(L,t.changeAssist)&&m.push(N)}),a.children.forEach((k,N)=>{N==m[0]&&(u=k),N==m[m.length-1]&&(x=k),N>=m[0]&&N<=m[m.length-1]&&g.push(k)}),l[0]==u&&l[l.length-1]==x){this.changeAssist.item=null;return}else this.execute("changeRangeNode",{item:e,oldRangeNode:l,newRangeNode:g}),this.changeAssist.item=null}}_paste(t){if(t.preventDefault(),!this.el.closest(".fn__none")){var e=(t.originalEvent||t).clipboardData,n=e.getData("text/plain");if(n){if(n.startsWith("<<")&&n.endsWith(")")){var a=n.split(`
`);if(a.length==2){var l=a[0].substring(2,a[0].length-2);if(l){var u=l.indexOf(" ");if(u>-1){var x=l.substr(0,u),n=l.substr(u+1),g=a[1],m=this.getSelectNode();m&&m.getMind().execute("addAnnotation",{node:m,id:x}),document.execCommand("insertText",!1,g)}}}return}if(n.startsWith("<<")&&n.endsWith(">>")){var l=n.substring(2,n.length-2);if(l){var u=l.indexOf(" ");if(u>-1){var x=l.substr(0,u),n=l.substr(u+1),m=this.getSelectNode();m.getMind().execute("addAnnotation",{node:m,id:x}),document.execCommand("insertText",!1,n)}}return}n=n.replace(/\n/g,""),document.execCommand("insertText",!1,n)}}}_mousedown(t){if(!(t.target&&t.target.closest(".node"))&&!(t.target&&t.target.closest(".nodeNav"))&&!(t.target&&t.target.closest(".win"))&&!(t.target&&t.target.closest(".relate-ctrl"))){var e=t.clientX,n=t.clientY,a=0,l=0,u=!0,x=this.el.parentElement.scrollTop,g=this.el.parentElement.scrollLeft,m=N=>{u&&(a=N.clientX-e,l=N.clientY-n,this.el.parentElement.scrollLeft=g-a,this.el.parentElement.scrollTop=x-l)},k=N=>{this.el.removeEventListener("mousemove",m),this.el.removeEventListener("mouseup",k),u=!1,a=0,l=0};this.el.addEventListener("mousemove",m),this.el.addEventListener("mouseup",k)}}removeEvent(){nt()(this.el).off("drop"),nt()(this.el).off("dblclick",".node .node-bar"),nt()(this.el).off("click",this._clickFn),nt()(this.el.parentElement).off("mousedown",this._mousedown),nt()(this.el.parentElement).off("click"),nt()(this.el.parentElement).off("dblclick",".node"),nt()(this.el).off("dragstart",".node"),nt()(this.el).off("dragenter",".node"),nt()(this.el).off("dragover",".node"),nt()(this.el).off("dragleave",".node"),nt()(this.el).off("contextmenu"),nt()(this.el).off("blur",".node .node-text"),nt()(this.el).find(".drag-top,.drag-bottom").off("mousedown"),nt()(this.el).off("mouseover",this._hoverFn),nt()(this.el).off("mouseenter",".node .node-annotation"),nt()(this.el).off("mouseleave",".node .node-annotation"),nt()(this.el).find(".imageFile").off("change",this._imageChange),nt()(document).off("paste",this._paste),nt()(this.annotationMenuDom).off("click"),nt()(this.annotationMenuDom).off("mouseenter"),nt()(this.annotationMenuDom).off("mouseleave"),this.off("hide",this._hideFn),this.off("selectNode",this._selectNodeFn),this.off("refresh",this._refreshFn),this.off("showImage",this._showImage),this.off("uploadImage",this._uploadImage),this.off("openExternal",this._openExternal),this._onChange&&this.off("change",this._onChange),this._removeKeyBoardEvent()}_removeKeyBoardEvent(){nt()(document).off("keyup",this._keyup),nt()(document).off("keydown",this._keydown),nt()(this.el).off("mousewheel")}goto(t){this.showNode(t)}showNode(t){t||(t=this.root);var e=this.el.parentElement||this.el.parentNode,n=e.clientHeight,a=e.clientWidth;this.clearSelectNode(!0),t.select();var l=t.getDomBox(),u={left:l.x-10,top:l.y-10,width:l.width+20,height:l.height+20},x=u.left+u.width/2,g=u.top+u.height/2,m=this.mindScale;this.scale(100);var k=1,N=Math.abs(a/2-x*k),L=Math.abs(n/2-g*k);e.scrollLeft=N,e.scrollTop=L,this.scaleCenter=[l.x+l.width/2,l.y+l.height/2],this.scale(m)}}const ls=hs;var nr=(z,t,e)=>new Promise((n,a)=>{var l=g=>{try{x(e.next(g))}catch(m){a(m)}},u=g=>{try{x(e.throw(g))}catch(m){a(m)}},x=g=>g.done?n(g.value):Promise.resolve(g.value).then(l,u);x((e=e.apply(z,t)).next())});class Ze{constructor(t,e){this.data={list:[],selectName:""},this.element=null,this.path=t,this.element=e,this.clickFn=this.clickFn.bind(this),this.dblClickFn=this.dblClickFn.bind(this),this.init(),this.addEvent()}init(){this.refresh()}lsDir(){return nr(this,null,function*(){this.element.innerHTML="",this.data.list=yield ot(this.path)})}getPath(){return this.path}setPath(t){this.path=t}search(t,e){var n=!1;return this.data&&this.data.list&&this.data.list.forEach(a=>{a.isDir+""==e&&a.name==t&&(n=!0)}),n}select(t){}rename(t,e){}remove(t,e){}render(){var t=[],e=[],n=[];this.data.list&&this.data.list.forEach(a=>{a.isDir?t.push(a):e.push(a)}),t.sort(),e.sort(),this.data.list=t.concat(e),this.data.list&&this.data.list.forEach(a=>{var l=`
             <div class="markmind-d markmind-${a.isDir?"dir":"file"}" data-name="${a.name}">
                ${a.isDir?'<svg><use xlink:href="#icon-1f4c2"></use></svg>':'<svg><use xlink:href="#icon-1f4d1"></use></svg>'}
                 <span class="markmind-file-name">${a.name&&a.name.replace(".mmxd","")}</span>
                 <span  class="markmind-file-delete">
                    <svg><use xlink:href="#iconTrashcan"></use>
                 </span>
             </div>
            `;n.push(l)}),this.element.innerHTML=n.join("")}refresh(){return nr(this,null,function*(){yield this.lsDir(this.path),this.render()})}clickFn(t){var e,n,a=t.target.closest(".markmind-file"),l=a.getAttribute("data-name"),u=this.path+"/"+l;if(t.target.closest(".markmind-file-delete")){var u=this.path+"/"+l;(e=this.plugin)==null||e.removeFile(l,u);return}a&&((n=this.plugin)==null||n.openTab(l.replace(".mmxd",""),u))}dblClickFn(t){var e=t.target.closest(".markmind-dir");if(e){var n=e.getAttribute("data-name");this.path=this.path+"/"+n,this.refresh()}}addEvent(){this.element.addEventListener("click",this.clickFn),this.element.addEventListener("dblclick",this.dblClickFn)}removeEvent(){this.element.removeEventListener("click",this.clickFn),this.element.removeEventListener("dblclick",this.dblClickFn)}}var ar=pe(354),le=pe.n(ar),Tr=Object.defineProperty,Ai=Object.getOwnPropertySymbols,Ri=Object.prototype.hasOwnProperty,_i=Object.prototype.propertyIsEnumerable,zi=(z,t,e)=>t in z?Tr(z,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):z[t]=e,Rr=(z,t)=>{for(var e in t||(t={}))Ri.call(t,e)&&zi(z,e,t[e]);if(Ai)for(var e of Ai(t))_i.call(t,e)&&zi(z,e,t[e]);return z},ze=(z,t,e)=>new Promise((n,a)=>{var l=g=>{try{x(e.next(g))}catch(m){a(m)}},u=g=>{try{x(e.throw(g))}catch(m){a(m)}},x=g=>g.done?n(g.value):Promise.resolve(g.value).then(l,u);x((e=e.apply(z,t)).next())});const ce="markmind.conf",or="markmind_tab",ds="markmind_dock_tab";class hr extends Ct.Plugin{onload(){return ze(this,null,function*(){var t=this;this.version="0.0.1 beta",this.config={basePath:"/data/markmind"};const e=this.addTopBar({icon:"iconMenu",title:this.i18n.addTopBarIcon,position:"right",callback:()=>{this.addMenu(e.getBoundingClientRect())}});this.customTab=this.addTab({type:or,init(){this.element.innerHTML=`<div class="markmind__custom-tab">
                    <div class="markmind-saving"></div>
                    <div class="mind mindmap-container">
                        <div class="mindmap"></div>
                    </div>
                    <div class="markmind-status">
                      <span class="markmind-zoomOut">
                         <svg><use xlink:href="#iconZoomOut"></use></svg>
                      </span>
                      <span class="markmind-number"></span>
                      <span class="markmind-zoomIn">
                      <svg><use xlink:href="#iconZoomIn"></use></svg>
                      </span>
                      <span class="markmind-line">|</span>
                      <span class="markmind-center">
                         <svg><use xlink:href="#iconFullscreenExit"></use></svg>
                      </span>
                    </div>
                </div>`;var n=this.element.querySelector(".mindmap"),a=new ls({el:n});a.useMarkDown=!0,a._path=this.data.path,a._tab=this;var l=this.element.querySelector(".markmind-saving"),u=null;a.onChange(()=>{l.style.display="block",l.innerHTML=t.i18n.saving,u&&clearTimeout(u),u=setTimeout(()=>ze(this,null,function*(){var x=a.getData();try{x&&x.mindData&&x.mindData[0]&&x.mindData[0].length&&(yield F({path:this.data.path,isDir:"false",file:new File([JSON.stringify(x)],this.title+".mmxd")})),l.innerHTML=t.i18n.saved,u=setTimeout(()=>{l.style.display="none"},1e3)}catch{(0,Ct.showMessage)(t.i18n.saveError+this.data.path)}}),1e3)}),a.onUploadImage(x=>{var g=x.detail.imgData,m=x.detail.node,k=new FileReader;k.onload=()=>{var N=new Image;N.onload=()=>{var L=N.width,y=N.height;rt(g).then(S=>{if(S&&S.succMap)for(let D in S.succMap){let W=S.succMap[D];W&&a.execute("changeNode",{nodes:[m],data:{isImageNode:!0,image:W,imageWidth:L,imageHeight:y}})}})},N.src=k.result},k.readAsDataURL(g)}),a.onLink(x=>{var g=x.detail.href;if(g)if(g.startsWith("siyuan://openAnnotation/")){let k=function(N,L=null){const y=document.querySelector("div.protyle-wysiwyg div[data-node-id] div[contenteditable][spellcheck]");if(y){let S=document.createElement("span");S.setAttribute("data-type","file-annotation-ref"),S.setAttribute("data-subtype","s"),S.setAttribute("data-id",N),y.appendChild(S),S.click(),S.remove(),typeof L=="function"&&setTimeout(L,20)}else(0,Ct.showMessage)(t.i18n.openSiyuanDoc)};var m=g.replace("siyuan://openAnnotation/","");k(m)}else window.open(g)}),this.element._mind=a,d(this.data.path).then(x=>{if(x)try{a.init(JSON.parse(JSON.stringify(x)))}catch{(0,Ct.showMessage)(t.i18n.dataError+this.data.path)}else(0,Ct.showMessage)(t.i18n.getFileError+this.data.path)}),this.element.querySelector(".markmind-zoomOut").onclick=()=>{a.setScale("down"),this.element.querySelector(".markmind-number").innerText=a.mindScale+"%"},this.element.querySelector(".markmind-zoomIn").onclick=()=>{a.setScale("up"),this.element.querySelector(".markmind-number").innerText=a.mindScale+"%"},this.element.querySelector(".markmind-number").innerText="100%",this.element.querySelector(".markmind-center").onclick=()=>{a.showNode(a.getSelectNode()||a.getRoot())}},destroy(){this.element._mind&&(this.element._mind.clear(),this.element._mind.removeEvent(),this.element._mind=null),this.element.querySelector(".markmind-zoomOut").onclick=null,this.element.querySelector(".markmind-zoomIn").onclick=null,this.element.querySelector(".markmind-center").onclick=null}}),this.addDock({config:{position:"LeftBottom",size:{width:200,height:0},icon:"icon-1f4d9",title:`${this.i18n.myMindmap}`},data:{text:"markmind"},type:ds,init(){t.dock=this,this.element.innerHTML=`<div class="fn__flex-1 fn__flex-column">
    <div class="block__icons">
        <div class="block__logo">
            <svg><use xlink:href="#icon-1f4d4"></use></svg>
            ${t.i18n.myMindmap}
        </div>
       
        <span class="fn__space"></span>
        <span class="fn__space"></span>
        <span class="fn__space"></span>
        <span class="fn__space"></span>
        <span class="fn__space"></span>
        <span class="fn__space"></span>
        <span data-type="add" class="block__icon b3-tooltips b3-tooltips__sw newDoc" aria-label="${t.i18n.newDoc}"><svg><use xlink:href="#iconAdd"></use></svg></span>
        <span class="fn__space"></span>
        <span data-type="min" class="block__icon b3-tooltips b3-tooltips__sw" aria-label="${t.i18n.min}"><svg><use xlink:href="#iconMin"></use></svg></span>
    </div>
    <div class="fn__flex-1 markmind__custom-dock">
    </div>
</div>`,this.element.querySelector(".newDoc").onclick=()=>{t.createMindOrFolder()},t.data&&t.data[ce]&&!t.fileManage&&(t.fileManage=new Ze(t.data[ce].storePath||t.config.basePath,this.element.querySelector(".markmind__custom-dock")),t.fileManage.plugin=t)},destory(){this.element.querySelector(".newDoc").onclick=null,t.fileManage&&(t.fileManage.removeEvent(),t.fileManage=null)}})})}onLayoutReady(){return ze(this,null,function*(){var t=yield this.loadData(ce);if(t)typeof t=="string"&&(t=JSON.parse(t)),this.data[ce]=t;else{var e={storePath:"/data/markmind",canvasSize:8e3,acode:"",_d:new Date().getTime(),_dd:new Date().getTime()+1728e5};this.data[ce]=e,this.saveData(ce,e)}this.eventBus.on("click-pdf",this.wsEvent),setTimeout(()=>{this.dock&&(this.fileManage=new Ze(this.data[ce].storePath||this.config.basePath,this.dock.element.querySelector(".markmind__custom-dock")),this.fileManage.plugin=this),this.check()},1e3)})}onunload(){this.eventBus.off("click-pdf",this.wsEvent)}openSetting(){const t=new Ct.Dialog({title:this.i18n.setting,content:O(this.i18n),width:(0,Ct.isMobile)()?"92vw":"520px"}),e=t.element.querySelector("textarea"),n=t.element.querySelector("input"),a=t.element.querySelector("select"),l=t.element.querySelectorAll(".b3-button");var u=this.data[ce];e.value=u.acode||"",n.value=u.storePath||"/data/markmind",a.value=u.canvasSize||8e3,l[0].addEventListener("click",()=>{t.destroy()}),l[1].addEventListener("click",()=>{var x=n.value,g=e.value,m=a.value,k=this.data[ce];if(typeof k=="string"&&(k=JSON.parse(k)),k){var N=Rr(Rr({},k),{storePath:x,acode:g,canvasSize:m});this.data[ce]=N,this.setMindCanvas(N.canvasSize),this.check(N.acode),this.fileManage&&x&&(this.fileManage.setPath(x),this.fileManage.refresh()),this.saveData(ce,N)}t.destroy()})}setMindCanvas(t){var e=document.querySelectorAll(".layout-tab-container .fn__flex-1");e&&e.length&&e.forEach(n=>{n.classList.contains("fn__none")||n._mind&&n._mind.setCanvasSize(parseInt(t)||12e3)})}check(t){var e=t||this.data[ce].acode,n=!0;if(e)try{var a=this.decrypt(e);if(a){a=JSON.parse(a);var l=new Date(a.endDate).getTime(),u=new Date().getTime();u>l&&(n=!1,(0,Ct.showMessage)(this.i18n.expireTime))}}catch{n=!1,(0,Ct.showMessage)(this.i18n.expireTime)}else{var x=this.data[ce]._d,u=new Date().getTime();u>x+18*3600*1e3*24&&(n=!1,(0,Ct.showMessage)(this.i18n.expireTime))}var g=document.querySelectorAll(".layout-tab-container .fn__flex-1");g&&g.length&&g.forEach(m=>{m._mind&&(m._mind._nearFlag=n)})}decrypt(t){const e="115,105,121,117,97,110,45,49,113,97,122,50,119,115,120,121,117,105,111,77,78,98,103,102,51,101,100,99,52,114,102,118,66,78,109,107,111,57,56,55,121,104,110,98";var n=le().enc.Utf8.parse(this.decode(e));let a=le().enc.Utf8.parse("");var l=le().AES.decrypt(t,n,{iv:a,mode:le().mode.CBC,padding:le().pad.ZeroPadding});return l.toString(le().enc.Utf8)}encrypt(t){const e="115,105,121,117,97,110,45,49,113,97,122,50,119,115,120,121,117,105,111,77,78,98,103,102,51,101,100,99,52,114,102,118,66,78,109,107,111,57,56,55,121,104,110,98";let n=le().enc.Utf8.parse(this.decode(e)),a=le().enc.Utf8.parse(""),l=le().enc.Utf8.parse(t);return le().AES.encrypt(l,n,{iv:a,mode:le().mode.CBC,padding:le().pad.ZeroPadding}).toString()}encode(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e.join(",")}decode(t){return String.fromCharCode.apply(null,t.trim().split(","))}openChangeTheme(){const t=new Ct.Dialog({title:this.i18n.changeTheme,content:et(this.i18n),width:(0,Ct.isMobile)()?"92vw":"520px"}),e=t.element.querySelector("select"),n=t.element.querySelectorAll(".b3-button");n[0].addEventListener("click",()=>{t.destroy()}),n[1].addEventListener("click",()=>{var a=e.value,l=document.querySelectorAll(".layout-tab-container .fn__flex-1");a&&l&&l.length&&l.forEach(u=>{u.classList.contains("fn__none")||u._mind&&u._mind.execute("changeTheme",{oldTheme:u._mind.themeName||"blue",theme:a})}),t.destroy()})}initMarkmind(){return ze(this,null,function*(){var t=this.data[ce];(yield at(t.storePath||"/data/markmind"))?(0,Ct.showMessage)(this.i18n.hasInitMarkmind):(yield F({path:t.storePath||"/data/markmind",isDir:"true"}))?(0,Ct.showMessage)(this.i18n.initMarkmindSuccess):(0,Ct.showMessage)(this.i18n.initMarkmindError)})}createMindOrFolder(t,e){return ze(this,null,function*(){const n=new Ct.Dialog({title:this.i18n.newMindmap,content:_(this.i18n),width:(0,Ct.isMobile)()?"92vw":"520px"}),a=n.element.querySelector(".markmind-name"),l=n.element.querySelector(".markmind-checkbox"),u=n.element.querySelectorAll(".b3-button");t&&(a.value=t),u[0].addEventListener("click",()=>{a.value="",n.destroy()}),u[1].addEventListener("click",()=>ze(this,null,function*(){var x=a.value,g=!1;if(x&&x.trim()){if(this.fileManage&&this.fileManage.search(x.trim()+".mmxd",g+"")){(0,Ct.showMessage)(this.i18n.repeatName);return}yield F({path:this.config.basePath+"/"+x.trim()+(g?"":".mmxd"),isDir:g?"true":"false",file:new File([X(this.i18n)],x.trim()+(g?"":".mmxd"))}),this.fileManage&&this.fileManage.refresh()}a.value="",n.destroy()}))})}removeFile(t,e){(0,Ct.confirm)(this.i18n.confirm,this.i18n.deleteFile+" "+t,()=>{lt(e).then(n=>{var a;n?(a=this.fileManage)==null||a.refresh():(0,Ct.showMessage)(this.i18n.deleteError)})},()=>{})}openTab(t,e){this.check(),(0,Ct.openTab)({custom:{icon:"",title:t||"\u601D\u7EF4\u5BFC\u56FE",data:{path:e},fn:this.customTab}})}wsEvent({detail:t}){var e=t.event;if(e&&e.target){var n=e.target.closest(".pdf__rect");if(n){var a=n.getAttribute("data-node-id");if(a){var l=document.querySelectorAll(".layout-tab-container .fn__flex-1");l&&l.length&&l.forEach(u=>{if(!u.classList.contains("fn__none")&&u._mind){var x=u._mind.getNodeByAnnotationId(a);x&&u._mind.showNode(x)}})}}}}addMenu(t){return ze(this,null,function*(){this.data||(yield this.loadData(ce));const e=new Ct.Menu("markmindTopBar",()=>{});e.addItem({icon:"iconHelp",label:this.i18n.initMarkmind,click:()=>{this.initMarkmind()}}),e.addItem({icon:"iconTheme",label:this.i18n.setTheme,click:()=>{this.openChangeTheme()}}),e.addItem({icon:"iconSettings",label:this.i18n.setting,click:()=>{this.openSetting()}}),e.addItem({icon:"iconMp",label:this.i18n.refresh,click:()=>{var n=document.querySelectorAll(".layout-tab-container .fn__flex-1");n&&n.length&&n.forEach(a=>{a.classList.contains("fn__none")||a._mind&&a._mind.forceRefresh()})}}),e.addItem({icon:"iconFolder",label:this.i18n.refreshFolder,click:()=>{this.fileManage&&this.fileManage.refresh()}}),e.addItem({icon:"iconInfo",label:this.i18n.about,click:()=>{new Ct.Dialog({title:this.i18n.about,content:`<div class="b3-dialog__content">
                       <div>\u7248\u672C\u53F7\uFF1Av${this.version} </div>
                       <div>\u7F51\u7AD9\uFF1Ahttps://www.markmind.net/siyuan</div>
                    </div>`,width:(0,Ct.isMobile)()?"92vw":"520px"})}}),(0,Ct.isMobile)()?e.fullscreen():e.open({x:t.right,y:t.bottom,isLeft:!0})})}}})(),module.exports=_r})();
